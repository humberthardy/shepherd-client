(function(e, a) { for(var i in a) e[i] = a[i]; }(window, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! exports provided: InitBrowserDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InitBrowserDefault", function() { return InitBrowserDefault; });
/* harmony import */ var _src_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/browser */ "./src/browser.js");


function InitBrowserDefault(reqid, opts) {
  document.addEventListener("readystatechange", function() {
    if (document.readyState != "complete") {
      return;
    }

    opts = opts || {};

    // if in iframe, notify parent of reqid
    if (window != window.parent && !opts.noNotifyParent) {
      window.parent.postMessage({"type": "reqid", "reqid": reqid}, "*");
    }

    if (!opts.on_countdown) {
      opts.on_countdown = function(seconds, countdown_text) {
        var text = document.getElementById("countdown");
        if (text) {
          text.innerText = countdown_text;
        }
      }
    }

    if (!opts.on_event) {
      opts.on_event = function(type, data) {
        if (type == "fail" || type == "expire") {
          window.location.reload();
        }
      }
    }

    if (opts.proxy_ws === undefined) {
      if (!window.location.port) {
        opts.proxy_ws = "_websockify?port=";
      }
    }

    if (opts.audio === undefined) {
      opts.audio = true;
    }

    if (opts.fill_window === undefined) {
      opts.fill_window = true;
    }

    if (opts.inactiveSecs === undefined) {
      opts.inactiveSecs = 10;
    }

    var id = opts.id || "#browser";

    return new _src_browser__WEBPACK_IMPORTED_MODULE_0__["default"](reqid, id, opts);
  });
}





/***/ }),

/***/ "./node_modules/@novnc/novnc/core/base64.js":
/*!**************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/base64.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

// From: http://hg.mozilla.org/mozilla-central/raw-file/ec10630b1a54/js/src/devtools/jint/sunspider/string-base64.js



/* harmony default export */ __webpack_exports__["default"] = ({
    /* Convert data (an array of integers) to a Base64 string. */
    toBase64Table : 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.split(''),
    base64Pad     : '=',

    encode: function (data) {
        "use strict";
        var result = '';
        var toBase64Table = this.toBase64Table;
        var length = data.length;
        var lengthpad = (length % 3);
        // Convert every three bytes to 4 ascii characters.

        for (var i = 0; i < (length - 2); i += 3) {
            result += toBase64Table[data[i] >> 2];
            result += toBase64Table[((data[i] & 0x03) << 4) + (data[i + 1] >> 4)];
            result += toBase64Table[((data[i + 1] & 0x0f) << 2) + (data[i + 2] >> 6)];
            result += toBase64Table[data[i + 2] & 0x3f];
        }

        // Convert the remaining 1 or 2 bytes, pad out to 4 characters.
        var j = 0;
        if (lengthpad === 2) {
            j = length - lengthpad;
            result += toBase64Table[data[j] >> 2];
            result += toBase64Table[((data[j] & 0x03) << 4) + (data[j + 1] >> 4)];
            result += toBase64Table[(data[j + 1] & 0x0f) << 2];
            result += toBase64Table[64];
        } else if (lengthpad === 1) {
            j = length - lengthpad;
            result += toBase64Table[data[j] >> 2];
            result += toBase64Table[(data[j] & 0x03) << 4];
            result += toBase64Table[64];
            result += toBase64Table[64];
        }

        return result;
    },

    /* Convert Base64 data to a string */
    toBinaryTable : [
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,62, -1,-1,-1,63,
        52,53,54,55, 56,57,58,59, 60,61,-1,-1, -1, 0,-1,-1,
        -1, 0, 1, 2,  3, 4, 5, 6,  7, 8, 9,10, 11,12,13,14,
        15,16,17,18, 19,20,21,22, 23,24,25,-1, -1,-1,-1,-1,
        -1,26,27,28, 29,30,31,32, 33,34,35,36, 37,38,39,40,
        41,42,43,44, 45,46,47,48, 49,50,51,-1, -1,-1,-1,-1
    ],

    decode: function (data, offset) {
        "use strict";
        offset = typeof(offset) !== 'undefined' ? offset : 0;
        var toBinaryTable = this.toBinaryTable;
        var base64Pad = this.base64Pad;
        var result, result_length;
        var leftbits = 0; // number of bits decoded, but yet to be appended
        var leftdata = 0; // bits decoded, but yet to be appended
        var data_length = data.indexOf('=') - offset;

        if (data_length < 0) { data_length = data.length - offset; }

        /* Every four characters is 3 resulting numbers */
        result_length = (data_length >> 2) * 3 + Math.floor((data_length % 4) / 1.5);
        result = new Array(result_length);

        // Convert one by one.
        for (var idx = 0, i = offset; i < data.length; i++) {
            var c = toBinaryTable[data.charCodeAt(i) & 0x7f];
            var padding = (data.charAt(i) === base64Pad);
            // Skip illegal characters and whitespace
            if (c === -1) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Illegal character code " + data.charCodeAt(i) + " at position " + i);
                continue;
            }

            // Collect data into leftdata, update bitcount
            leftdata = (leftdata << 6) | c;
            leftbits += 6;

            // If we have 8 or more bits, append 8 bits to the result
            if (leftbits >= 8) {
                leftbits -= 8;
                // Append if not padding.
                if (!padding) {
                    result[idx++] = (leftdata >> leftbits) & 0xff;
                }
                leftdata &= (1 << leftbits) - 1;
            }
        }

        // If there are any bits left, the base64 string was corrupted
        if (leftbits) {
            err = new Error('Corrupted base64 string');
            err.name = 'Base64-Error';
            throw err;
        }

        return result;
    }
}); /* End of Base64 namespace */


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/des.js":
/*!***********************************************!*\
  !*** ./node_modules/@novnc/novnc/core/des.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DES; });
/*
 * Ported from Flashlight VNC ActionScript implementation:
 *     http://www.wizhelp.com/flashlight-vnc/
 *
 * Full attribution follows:
 *
 * -------------------------------------------------------------------------
 *
 * This DES class has been extracted from package Acme.Crypto for use in VNC.
 * The unnecessary odd parity code has been removed.
 *
 * These changes are:
 *  Copyright (C) 1999 AT&T Laboratories Cambridge.  All Rights Reserved.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 *

 * DesCipher - the DES encryption method
 *
 * The meat of this code is by Dave Zimmerman <dzimm@widget.com>, and is:
 *
 * Copyright (c) 1996 Widget Workshop, Inc. All Rights Reserved.
 *
 * Permission to use, copy, modify, and distribute this software
 * and its documentation for NON-COMMERCIAL or COMMERCIAL purposes and
 * without fee is hereby granted, provided that this copyright notice is kept
 * intact.
 *
 * WIDGET WORKSHOP MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY
 * OF THE SOFTWARE, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
 * TO THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 * PARTICULAR PURPOSE, OR NON-INFRINGEMENT. WIDGET WORKSHOP SHALL NOT BE LIABLE
 * FOR ANY DAMAGES SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR
 * DISTRIBUTING THIS SOFTWARE OR ITS DERIVATIVES.
 *
 * THIS SOFTWARE IS NOT DESIGNED OR INTENDED FOR USE OR RESALE AS ON-LINE
 * CONTROL EQUIPMENT IN HAZARDOUS ENVIRONMENTS REQUIRING FAIL-SAFE
 * PERFORMANCE, SUCH AS IN THE OPERATION OF NUCLEAR FACILITIES, AIRCRAFT
 * NAVIGATION OR COMMUNICATION SYSTEMS, AIR TRAFFIC CONTROL, DIRECT LIFE
 * SUPPORT MACHINES, OR WEAPONS SYSTEMS, IN WHICH THE FAILURE OF THE
 * SOFTWARE COULD LEAD DIRECTLY TO DEATH, PERSONAL INJURY, OR SEVERE
 * PHYSICAL OR ENVIRONMENTAL DAMAGE ("HIGH RISK ACTIVITIES").  WIDGET WORKSHOP
 * SPECIFICALLY DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTY OF FITNESS FOR
 * HIGH RISK ACTIVITIES.
 *
 *
 * The rest is:
 *
 * Copyright (C) 1996 by Jef Poskanzer <jef@acme.com>.  All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 * Visit the ACME Labs Java page for up-to-date versions of this and other
 * fine Java utilities: http://www.acme.com/java/
 */

function DES(passwd) {
    "use strict";

    // Tables, permutations, S-boxes, etc.
    var PC2 = [13,16,10,23, 0, 4, 2,27,14, 5,20, 9,22,18,11, 3,
               25, 7,15, 6,26,19,12, 1,40,51,30,36,46,54,29,39,
               50,44,32,47,43,48,38,55,33,52,45,41,49,35,28,31 ],
        totrot = [ 1, 2, 4, 6, 8,10,12,14,15,17,19,21,23,25,27,28],
        z = 0x0, a,b,c,d,e,f, SP1,SP2,SP3,SP4,SP5,SP6,SP7,SP8,
        keys = [];

    a=1<<16; b=1<<24; c=a|b; d=1<<2; e=1<<10; f=d|e;
    SP1 = [c|e,z|z,a|z,c|f,c|d,a|f,z|d,a|z,z|e,c|e,c|f,z|e,b|f,c|d,b|z,z|d,
           z|f,b|e,b|e,a|e,a|e,c|z,c|z,b|f,a|d,b|d,b|d,a|d,z|z,z|f,a|f,b|z,
           a|z,c|f,z|d,c|z,c|e,b|z,b|z,z|e,c|d,a|z,a|e,b|d,z|e,z|d,b|f,a|f,
           c|f,a|d,c|z,b|f,b|d,z|f,a|f,c|e,z|f,b|e,b|e,z|z,a|d,a|e,z|z,c|d];
    a=1<<20; b=1<<31; c=a|b; d=1<<5; e=1<<15; f=d|e;
    SP2 = [c|f,b|e,z|e,a|f,a|z,z|d,c|d,b|f,b|d,c|f,c|e,b|z,b|e,a|z,z|d,c|d,
           a|e,a|d,b|f,z|z,b|z,z|e,a|f,c|z,a|d,b|d,z|z,a|e,z|f,c|e,c|z,z|f,
           z|z,a|f,c|d,a|z,b|f,c|z,c|e,z|e,c|z,b|e,z|d,c|f,a|f,z|d,z|e,b|z,
           z|f,c|e,a|z,b|d,a|d,b|f,b|d,a|d,a|e,z|z,b|e,z|f,b|z,c|d,c|f,a|e];
    a=1<<17; b=1<<27; c=a|b; d=1<<3; e=1<<9; f=d|e;
    SP3 = [z|f,c|e,z|z,c|d,b|e,z|z,a|f,b|e,a|d,b|d,b|d,a|z,c|f,a|d,c|z,z|f,
           b|z,z|d,c|e,z|e,a|e,c|z,c|d,a|f,b|f,a|e,a|z,b|f,z|d,c|f,z|e,b|z,
           c|e,b|z,a|d,z|f,a|z,c|e,b|e,z|z,z|e,a|d,c|f,b|e,b|d,z|e,z|z,c|d,
           b|f,a|z,b|z,c|f,z|d,a|f,a|e,b|d,c|z,b|f,z|f,c|z,a|f,z|d,c|d,a|e];
    a=1<<13; b=1<<23; c=a|b; d=1<<0; e=1<<7; f=d|e;
    SP4 = [c|d,a|f,a|f,z|e,c|e,b|f,b|d,a|d,z|z,c|z,c|z,c|f,z|f,z|z,b|e,b|d,
           z|d,a|z,b|z,c|d,z|e,b|z,a|d,a|e,b|f,z|d,a|e,b|e,a|z,c|e,c|f,z|f,
           b|e,b|d,c|z,c|f,z|f,z|z,z|z,c|z,a|e,b|e,b|f,z|d,c|d,a|f,a|f,z|e,
           c|f,z|f,z|d,a|z,b|d,a|d,c|e,b|f,a|d,a|e,b|z,c|d,z|e,b|z,a|z,c|e];
    a=1<<25; b=1<<30; c=a|b; d=1<<8; e=1<<19; f=d|e;
    SP5 = [z|d,a|f,a|e,c|d,z|e,z|d,b|z,a|e,b|f,z|e,a|d,b|f,c|d,c|e,z|f,b|z,
           a|z,b|e,b|e,z|z,b|d,c|f,c|f,a|d,c|e,b|d,z|z,c|z,a|f,a|z,c|z,z|f,
           z|e,c|d,z|d,a|z,b|z,a|e,c|d,b|f,a|d,b|z,c|e,a|f,b|f,z|d,a|z,c|e,
           c|f,z|f,c|z,c|f,a|e,z|z,b|e,c|z,z|f,a|d,b|d,z|e,z|z,b|e,a|f,b|d];
    a=1<<22; b=1<<29; c=a|b; d=1<<4; e=1<<14; f=d|e;
    SP6 = [b|d,c|z,z|e,c|f,c|z,z|d,c|f,a|z,b|e,a|f,a|z,b|d,a|d,b|e,b|z,z|f,
           z|z,a|d,b|f,z|e,a|e,b|f,z|d,c|d,c|d,z|z,a|f,c|e,z|f,a|e,c|e,b|z,
           b|e,z|d,c|d,a|e,c|f,a|z,z|f,b|d,a|z,b|e,b|z,z|f,b|d,c|f,a|e,c|z,
           a|f,c|e,z|z,c|d,z|d,z|e,c|z,a|f,z|e,a|d,b|f,z|z,c|e,b|z,a|d,b|f];
    a=1<<21; b=1<<26; c=a|b; d=1<<1; e=1<<11; f=d|e;
    SP7 = [a|z,c|d,b|f,z|z,z|e,b|f,a|f,c|e,c|f,a|z,z|z,b|d,z|d,b|z,c|d,z|f,
           b|e,a|f,a|d,b|e,b|d,c|z,c|e,a|d,c|z,z|e,z|f,c|f,a|e,z|d,b|z,a|e,
           b|z,a|e,a|z,b|f,b|f,c|d,c|d,z|d,a|d,b|z,b|e,a|z,c|e,z|f,a|f,c|e,
           z|f,b|d,c|f,c|z,a|e,z|z,z|d,c|f,z|z,a|f,c|z,z|e,b|d,b|e,z|e,a|d];
    a=1<<18; b=1<<28; c=a|b; d=1<<6; e=1<<12; f=d|e;
    SP8 = [b|f,z|e,a|z,c|f,b|z,b|f,z|d,b|z,a|d,c|z,c|f,a|e,c|e,a|f,z|e,z|d,
           c|z,b|d,b|e,z|f,a|e,a|d,c|d,c|e,z|f,z|z,z|z,c|d,b|d,b|e,a|f,a|z,
           a|f,a|z,c|e,z|e,z|d,c|d,z|e,a|f,b|e,z|d,b|d,c|z,c|d,b|z,a|z,b|f,
           z|z,c|f,a|d,b|d,c|z,b|e,b|f,z|z,c|f,a|e,a|e,z|f,z|f,a|d,b|z,c|e];

    // Set the key.
    function setKeys(keyBlock) {
        var i, j, l, m, n, o, pc1m = [], pcr = [], kn = [],
            raw0, raw1, rawi, KnLi;

        for (j = 0, l = 56; j < 56; ++j, l -= 8) {
            l += l < -5 ? 65 : l < -3 ? 31 : l < -1 ? 63 : l === 27 ? 35 : 0; // PC1
            m = l & 0x7;
            pc1m[j] = ((keyBlock[l >>> 3] & (1<<m)) !== 0) ? 1: 0;
        }

        for (i = 0; i < 16; ++i) {
            m = i << 1;
            n = m + 1;
            kn[m] = kn[n] = 0;
            for (o = 28; o < 59; o += 28) {
                for (j = o - 28; j < o; ++j) {
                    l = j + totrot[i];
                    if (l < o) {
                        pcr[j] = pc1m[l];
                    } else {
                        pcr[j] = pc1m[l - 28];
                    }
                }
            }
            for (j = 0; j < 24; ++j) {
                if (pcr[PC2[j]] !== 0) {
                    kn[m] |= 1 << (23 - j);
                }
                if (pcr[PC2[j + 24]] !== 0) {
                    kn[n] |= 1 << (23 - j);
                }
            }
        }

        // cookey
        for (i = 0, rawi = 0, KnLi = 0; i < 16; ++i) {
            raw0 = kn[rawi++];
            raw1 = kn[rawi++];
            keys[KnLi] = (raw0 & 0x00fc0000) << 6;
            keys[KnLi] |= (raw0 & 0x00000fc0) << 10;
            keys[KnLi] |= (raw1 & 0x00fc0000) >>> 10;
            keys[KnLi] |= (raw1 & 0x00000fc0) >>> 6;
            ++KnLi;
            keys[KnLi] = (raw0 & 0x0003f000) << 12;
            keys[KnLi] |= (raw0 & 0x0000003f) << 16;
            keys[KnLi] |= (raw1 & 0x0003f000) >>> 4;
            keys[KnLi] |= (raw1 & 0x0000003f);
            ++KnLi;
        }
    }

    // Encrypt 8 bytes of text
    function enc8(text) {
        var i = 0, b = text.slice(), fval, keysi = 0,
            l, r, x; // left, right, accumulator

        // Squash 8 bytes to 2 ints
        l = b[i++]<<24 | b[i++]<<16 | b[i++]<<8 | b[i++];
        r = b[i++]<<24 | b[i++]<<16 | b[i++]<<8 | b[i++];

        x = ((l >>> 4) ^ r) & 0x0f0f0f0f;
        r ^= x;
        l ^= (x << 4);
        x = ((l >>> 16) ^ r) & 0x0000ffff;
        r ^= x;
        l ^= (x << 16);
        x = ((r >>> 2) ^ l) & 0x33333333;
        l ^= x;
        r ^= (x << 2);
        x = ((r >>> 8) ^ l) & 0x00ff00ff;
        l ^= x;
        r ^= (x << 8);
        r = (r << 1) | ((r >>> 31) & 1);
        x = (l ^ r) & 0xaaaaaaaa;
        l ^= x;
        r ^= x;
        l = (l << 1) | ((l >>> 31) & 1);

        for (i = 0; i < 8; ++i) {
            x = (r << 28) | (r >>> 4);
            x ^= keys[keysi++];
            fval =  SP7[x & 0x3f];
            fval |= SP5[(x >>> 8) & 0x3f];
            fval |= SP3[(x >>> 16) & 0x3f];
            fval |= SP1[(x >>> 24) & 0x3f];
            x = r ^ keys[keysi++];
            fval |= SP8[x & 0x3f];
            fval |= SP6[(x >>> 8) & 0x3f];
            fval |= SP4[(x >>> 16) & 0x3f];
            fval |= SP2[(x >>> 24) & 0x3f];
            l ^= fval;
            x = (l << 28) | (l >>> 4);
            x ^= keys[keysi++];
            fval =  SP7[x & 0x3f];
            fval |= SP5[(x >>> 8) & 0x3f];
            fval |= SP3[(x >>> 16) & 0x3f];
            fval |= SP1[(x >>> 24) & 0x3f];
            x = l ^ keys[keysi++];
            fval |= SP8[x & 0x0000003f];
            fval |= SP6[(x >>> 8) & 0x3f];
            fval |= SP4[(x >>> 16) & 0x3f];
            fval |= SP2[(x >>> 24) & 0x3f];
            r ^= fval;
        }

        r = (r << 31) | (r >>> 1);
        x = (l ^ r) & 0xaaaaaaaa;
        l ^= x;
        r ^= x;
        l = (l << 31) | (l >>> 1);
        x = ((l >>> 8) ^ r) & 0x00ff00ff;
        r ^= x;
        l ^= (x << 8);
        x = ((l >>> 2) ^ r) & 0x33333333;
        r ^= x;
        l ^= (x << 2);
        x = ((r >>> 16) ^ l) & 0x0000ffff;
        l ^= x;
        r ^= (x << 16);
        x = ((r >>> 4) ^ l) & 0x0f0f0f0f;
        l ^= x;
        r ^= (x << 4);

        // Spread ints to bytes
        x = [r, l];
        for (i = 0; i < 8; i++) {
            b[i] = (x[i>>>2] >>> (8 * (3 - (i % 4)))) % 256;
            if (b[i] < 0) { b[i] += 256; } // unsigned
        }
        return b;
    }

    // Encrypt 16 bytes of text using passwd as key
    function encrypt(t) {
        return enc8(t.slice(0, 8)).concat(enc8(t.slice(8, 16)));
    }

    setKeys(passwd);             // Setup keys
    return {'encrypt': encrypt}; // Public interface

}; // function DES


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/display.js":
/*!***************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/display.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Display; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base64.js */ "./node_modules/@novnc/novnc/core/base64.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2015 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */




function Display(target) {
    this._drawCtx = null;
    this._c_forceCanvas = false;

    this._renderQ = [];  // queue drawing actions for in-oder rendering
    this._flushing = false;

    // the full frame buffer (logical canvas) size
    this._fb_width = 0;
    this._fb_height = 0;

    this._prevDrawStyle = "";
    this._tile = null;
    this._tile16x16 = null;
    this._tile_x = 0;
    this._tile_y = 0;

    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> Display.constructor");

    // The visible canvas
    this._target = target;

    if (!this._target) {
        throw new Error("Target must be set");
    }

    if (typeof this._target === 'string') {
        throw new Error('target must be a DOM element');
    }

    if (!this._target.getContext) {
        throw new Error("no getContext method");
    }

    this._targetCtx = this._target.getContext('2d');

    // the visible canvas viewport (i.e. what actually gets seen)
    this._viewportLoc = { 'x': 0, 'y': 0, 'w': this._target.width, 'h': this._target.height };

    // The hidden canvas, where we do the actual rendering
    this._backbuffer = document.createElement('canvas');
    this._drawCtx = this._backbuffer.getContext('2d');

    this._damageBounds = { left:0, top:0,
                           right: this._backbuffer.width,
                           bottom: this._backbuffer.height };

    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("User Agent: " + navigator.userAgent);

    this.clear();

    // Check canvas features
    if (!('createImageData' in this._drawCtx)) {
        throw new Error("Canvas does not support createImageData");
    }

    this._tile16x16 = this._drawCtx.createImageData(16, 16);
    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< Display.constructor");
};

var SUPPORTS_IMAGEDATA_CONSTRUCTOR = false;
try {
    new ImageData(new Uint8ClampedArray(4), 1, 1);
    SUPPORTS_IMAGEDATA_CONSTRUCTOR = true;
} catch (ex) {
    // ignore failure
}

Display.prototype = {
    // ===== PROPERTIES =====

    _scale: 1.0,
    get scale() { return this._scale; },
    set scale(scale) {
        this._rescale(scale);
    },

    _clipViewport: false,
    get clipViewport() { return this._clipViewport; },
    set clipViewport(viewport) {
        this._clipViewport = viewport;
        // May need to readjust the viewport dimensions
        var vp = this._viewportLoc;
        this.viewportChangeSize(vp.w, vp.h);
        this.viewportChangePos(0, 0);
    },

    get width() {
        return this._fb_width;
    },
    get height() {
        return this._fb_height;
    },

    logo: null,

    // ===== EVENT HANDLERS =====

    onflush: function () {},        // A flush request has finished

    // ===== PUBLIC METHODS =====

    viewportChangePos: function (deltaX, deltaY) {
        var vp = this._viewportLoc;
        deltaX = Math.floor(deltaX);
        deltaY = Math.floor(deltaY);

        if (!this._clipViewport) {
            deltaX = -vp.w;  // clamped later of out of bounds
            deltaY = -vp.h;
        }

        var vx2 = vp.x + vp.w - 1;
        var vy2 = vp.y + vp.h - 1;

        // Position change

        if (deltaX < 0 && vp.x + deltaX < 0) {
            deltaX = -vp.x;
        }
        if (vx2 + deltaX >= this._fb_width) {
            deltaX -= vx2 + deltaX - this._fb_width + 1;
        }

        if (vp.y + deltaY < 0) {
            deltaY = -vp.y;
        }
        if (vy2 + deltaY >= this._fb_height) {
            deltaY -= (vy2 + deltaY - this._fb_height + 1);
        }

        if (deltaX === 0 && deltaY === 0) {
            return;
        }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("viewportChange deltaX: " + deltaX + ", deltaY: " + deltaY);

        vp.x += deltaX;
        vp.y += deltaY;

        this._damage(vp.x, vp.y, vp.w, vp.h);

        this.flip();
    },

    viewportChangeSize: function(width, height) {

        if (!this._clipViewport ||
            typeof(width) === "undefined" ||
            typeof(height) === "undefined") {

            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Setting viewport to full display region");
            width = this._fb_width;
            height = this._fb_height;
        }

        if (width > this._fb_width) {
            width = this._fb_width;
        }
        if (height > this._fb_height) {
            height = this._fb_height;
        }

        var vp = this._viewportLoc;
        if (vp.w !== width || vp.h !== height) {
            vp.w = width;
            vp.h = height;

            var canvas = this._target;
            canvas.width = width;
            canvas.height = height;

            // The position might need to be updated if we've grown
            this.viewportChangePos(0, 0);

            this._damage(vp.x, vp.y, vp.w, vp.h);
            this.flip();

            // Update the visible size of the target canvas
            this._rescale(this._scale);
        }
    },

    absX: function (x) {
        return x / this._scale + this._viewportLoc.x;
    },

    absY: function (y) {
        return y / this._scale + this._viewportLoc.y;
    },

    resize: function (width, height) {
        this._prevDrawStyle = "";

        this._fb_width = width;
        this._fb_height = height;

        var canvas = this._backbuffer;
        if (canvas.width !== width || canvas.height !== height) {

            // We have to save the canvas data since changing the size will clear it
            var saveImg = null;
            if (canvas.width > 0 && canvas.height > 0) {
                saveImg = this._drawCtx.getImageData(0, 0, canvas.width, canvas.height);
            }

            if (canvas.width !== width) {
                canvas.width = width;
            }
            if (canvas.height !== height) {
                canvas.height = height;
            }

            if (saveImg) {
                this._drawCtx.putImageData(saveImg, 0, 0);
            }
        }

        // Readjust the viewport as it may be incorrectly sized
        // and positioned
        var vp = this._viewportLoc;
        this.viewportChangeSize(vp.w, vp.h);
        this.viewportChangePos(0, 0);
    },

    // Track what parts of the visible canvas that need updating
    _damage: function(x, y, w, h) {
        if (x < this._damageBounds.left) {
            this._damageBounds.left = x;
        }
        if (y < this._damageBounds.top) {
            this._damageBounds.top = y;
        }
        if ((x + w) > this._damageBounds.right) {
            this._damageBounds.right = x + w;
        }
        if ((y + h) > this._damageBounds.bottom) {
            this._damageBounds.bottom = y + h;
        }
    },

    // Update the visible canvas with the contents of the
    // rendering canvas
    flip: function(from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'flip'
            });
        } else {
            var x, y, vx, vy, w, h;

            x = this._damageBounds.left;
            y = this._damageBounds.top;
            w = this._damageBounds.right - x;
            h = this._damageBounds.bottom - y;

            vx = x - this._viewportLoc.x;
            vy = y - this._viewportLoc.y;

            if (vx < 0) {
                w += vx;
                x -= vx;
                vx = 0;
            }
            if (vy < 0) {
                h += vy;
                y -= vy;
                vy = 0;
            }

            if ((vx + w) > this._viewportLoc.w) {
                w = this._viewportLoc.w - vx;
            }
            if ((vy + h) > this._viewportLoc.h) {
                h = this._viewportLoc.h - vy;
            }

            if ((w > 0) && (h > 0)) {
                // FIXME: We may need to disable image smoothing here
                //        as well (see copyImage()), but we haven't
                //        noticed any problem yet.
                this._targetCtx.drawImage(this._backbuffer,
                                          x, y, w, h,
                                          vx, vy, w, h);
            }

            this._damageBounds.left = this._damageBounds.top = 65535;
            this._damageBounds.right = this._damageBounds.bottom = 0;
        }
    },

    clear: function () {
        if (this._logo) {
            this.resize(this._logo.width, this._logo.height);
            this.imageRect(0, 0, this._logo.type, this._logo.data);
        } else {
            this.resize(240, 20);
            this._drawCtx.clearRect(0, 0, this._fb_width, this._fb_height);
        }
        this.flip();
    },

    pending: function() {
        return this._renderQ.length > 0;
    },

    flush: function() {
        if (this._renderQ.length === 0) {
            this.onflush();
        } else {
            this._flushing = true;
        }
    },

    fillRect: function (x, y, width, height, color, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'fill',
                'x': x,
                'y': y,
                'width': width,
                'height': height,
                'color': color
            });
        } else {
            this._setFillColor(color);
            this._drawCtx.fillRect(x, y, width, height);
            this._damage(x, y, width, height);
        }
    },

    copyImage: function (old_x, old_y, new_x, new_y, w, h, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'copy',
                'old_x': old_x,
                'old_y': old_y,
                'x': new_x,
                'y': new_y,
                'width': w,
                'height': h,
            });
        } else {
            // Due to this bug among others [1] we need to disable the image-smoothing to
            // avoid getting a blur effect when copying data.
            //
            // 1. https://bugzilla.mozilla.org/show_bug.cgi?id=1194719
            //
            // We need to set these every time since all properties are reset
            // when the the size is changed
            this._drawCtx.mozImageSmoothingEnabled = false;
            this._drawCtx.webkitImageSmoothingEnabled = false;
            this._drawCtx.msImageSmoothingEnabled = false;
            this._drawCtx.imageSmoothingEnabled = false;

            this._drawCtx.drawImage(this._backbuffer,
                                    old_x, old_y, w, h,
                                    new_x, new_y, w, h);
            this._damage(new_x, new_y, w, h);
        }
    },

    imageRect: function(x, y, mime, arr) {
        var img = new Image();
        img.src = "data: " + mime + ";base64," + _base64_js__WEBPACK_IMPORTED_MODULE_1__["default"].encode(arr);
        this._renderQ_push({
            'type': 'img',
            'img': img,
            'x': x,
            'y': y
        });
    },

    // start updating a tile
    startTile: function (x, y, width, height, color) {
        this._tile_x = x;
        this._tile_y = y;
        if (width === 16 && height === 16) {
            this._tile = this._tile16x16;
        } else {
            this._tile = this._drawCtx.createImageData(width, height);
        }

        var red = color[2];
        var green = color[1];
        var blue = color[0];

        var data = this._tile.data;
        for (var i = 0; i < width * height * 4; i += 4) {
            data[i] = red;
            data[i + 1] = green;
            data[i + 2] = blue;
            data[i + 3] = 255;
        }
    },

    // update sub-rectangle of the current tile
    subTile: function (x, y, w, h, color) {
        var red = color[2];
        var green = color[1];
        var blue = color[0];
        var xend = x + w;
        var yend = y + h;

        var data = this._tile.data;
        var width = this._tile.width;
        for (var j = y; j < yend; j++) {
            for (var i = x; i < xend; i++) {
                var p = (i + (j * width)) * 4;
                data[p] = red;
                data[p + 1] = green;
                data[p + 2] = blue;
                data[p + 3] = 255;
            }
        }
    },

    // draw the current tile to the screen
    finishTile: function () {
        this._drawCtx.putImageData(this._tile, this._tile_x, this._tile_y);
        this._damage(this._tile_x, this._tile_y,
                     this._tile.width, this._tile.height);
    },

    blitImage: function (x, y, width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            var new_arr = new Uint8Array(width * height * 4);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blit',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._bgrxImageData(x, y, width, height, arr, offset);
        }
    },

    blitRgbImage: function (x, y , width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            var new_arr = new Uint8Array(width * height * 3);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blitRgb',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._rgbImageData(x, y, width, height, arr, offset);
        }
    },

    blitRgbxImage: function (x, y, width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            var new_arr = new Uint8Array(width * height * 4);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blitRgbx',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._rgbxImageData(x, y, width, height, arr, offset);
        }
    },

    drawImage: function (img, x, y) {
        this._drawCtx.drawImage(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    changeCursor: function (pixels, mask, hotx, hoty, w, h) {
        Display.changeCursor(this._target, pixels, mask, hotx, hoty, w, h);
    },

    defaultCursor: function () {
        this._target.style.cursor = "default";
    },

    disableLocalCursor: function () {
        this._target.style.cursor = "none";
    },

    autoscale: function (containerWidth, containerHeight) {
        var vp = this._viewportLoc;
        var targetAspectRatio = containerWidth / containerHeight;
        var fbAspectRatio = vp.w / vp.h;

        var scaleRatio;
        if (fbAspectRatio >= targetAspectRatio) {
            scaleRatio = containerWidth / vp.w;
        } else {
            scaleRatio = containerHeight / vp.h;
        }

        this._rescale(scaleRatio);
    },

    // ===== PRIVATE METHODS =====

    _rescale: function (factor) {
        this._scale = factor;
        var vp = this._viewportLoc;

        // NB(directxman12): If you set the width directly, or set the
        //                   style width to a number, the canvas is cleared.
        //                   However, if you set the style width to a string
        //                   ('NNNpx'), the canvas is scaled without clearing.
        var width = Math.round(factor * vp.w) + 'px';
        var height = Math.round(factor * vp.h) + 'px';

        if ((this._target.style.width !== width) ||
            (this._target.style.height !== height)) {
            this._target.style.width = width;
            this._target.style.height = height;
        }
    },

    _setFillColor: function (color) {
        var newStyle = 'rgb(' + color[2] + ',' + color[1] + ',' + color[0] + ')';
        if (newStyle !== this._prevDrawStyle) {
            this._drawCtx.fillStyle = newStyle;
            this._prevDrawStyle = newStyle;
        }
    },

    _rgbImageData: function (x, y, width, height, arr, offset) {
        var img = this._drawCtx.createImageData(width, height);
        var data = img.data;
        for (var i = 0, j = offset; i < width * height * 4; i += 4, j += 3) {
            data[i]     = arr[j];
            data[i + 1] = arr[j + 1];
            data[i + 2] = arr[j + 2];
            data[i + 3] = 255;  // Alpha
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    _bgrxImageData: function (x, y, width, height, arr, offset) {
        var img = this._drawCtx.createImageData(width, height);
        var data = img.data;
        for (var i = 0, j = offset; i < width * height * 4; i += 4, j += 4) {
            data[i]     = arr[j + 2];
            data[i + 1] = arr[j + 1];
            data[i + 2] = arr[j];
            data[i + 3] = 255;  // Alpha
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    _rgbxImageData: function (x, y, width, height, arr, offset) {
        // NB(directxman12): arr must be an Type Array view
        var img;
        if (SUPPORTS_IMAGEDATA_CONSTRUCTOR) {
            img = new ImageData(new Uint8ClampedArray(arr.buffer, arr.byteOffset, width * height * 4), width, height);
        } else {
            img = this._drawCtx.createImageData(width, height);
            img.data.set(new Uint8ClampedArray(arr.buffer, arr.byteOffset, width * height * 4));
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    _renderQ_push: function (action) {
        this._renderQ.push(action);
        if (this._renderQ.length === 1) {
            // If this can be rendered immediately it will be, otherwise
            // the scanner will wait for the relevant event
            this._scan_renderQ();
        }
    },

    _resume_renderQ: function() {
        // "this" is the object that is ready, not the
        // display object
        this.removeEventListener('load', this._noVNC_display._resume_renderQ);
        this._noVNC_display._scan_renderQ();
    },

    _scan_renderQ: function () {
        var ready = true;
        while (ready && this._renderQ.length > 0) {
            var a = this._renderQ[0];
            switch (a.type) {
                case 'flip':
                    this.flip(true);
                    break;
                case 'copy':
                    this.copyImage(a.old_x, a.old_y, a.x, a.y, a.width, a.height, true);
                    break;
                case 'fill':
                    this.fillRect(a.x, a.y, a.width, a.height, a.color, true);
                    break;
                case 'blit':
                    this.blitImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'blitRgb':
                    this.blitRgbImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'blitRgbx':
                    this.blitRgbxImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'img':
                    if (a.img.complete) {
                        this.drawImage(a.img, a.x, a.y);
                    } else {
                        a.img._noVNC_display = this;
                        a.img.addEventListener('load', this._resume_renderQ);
                        // We need to wait for this image to 'load'
                        // to keep things in-order
                        ready = false;
                    }
                    break;
            }

            if (ready) {
                this._renderQ.shift();
            }
        }

        if (this._renderQ.length === 0 && this._flushing) {
            this._flushing = false;
            this.onflush();
        }
    },
};

// Class Methods
Display.changeCursor = function (target, pixels, mask, hotx, hoty, w, h) {
    if ((w === 0) || (h === 0)) {
        target.style.cursor = 'none';
        return;
    }

    var cur = []
    var y, x;
    for (y = 0; y < h; y++) {
        for (x = 0; x < w; x++) {
            var idx = y * Math.ceil(w / 8) + Math.floor(x / 8);
            var alpha = (mask[idx] << (x % 8)) & 0x80 ? 255 : 0;
            idx = ((w * y) + x) * 4;
            cur.push(pixels[idx + 2]); // red
            cur.push(pixels[idx + 1]); // green
            cur.push(pixels[idx]);     // blue
            cur.push(alpha);           // alpha
        }
    }

    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');

    canvas.width = w;
    canvas.height = h;

    var img;
    if (SUPPORTS_IMAGEDATA_CONSTRUCTOR) {
        img = new ImageData(new Uint8ClampedArray(cur), w, h);
    } else {
        img = ctx.createImageData(w, h);
        img.data.set(new Uint8ClampedArray(cur));
    }
    ctx.clearRect(0, 0, w, h);
    ctx.putImageData(img, 0, 0);

    var url = canvas.toDataURL();
    target.style.cursor = 'url(' + url + ')' + hotx + ' ' + hoty + ', default';
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/encodings.js":
/*!*****************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/encodings.js ***!
  \*****************************************************/
/*! exports provided: encodings, encodingName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "encodings", function() { return encodings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "encodingName", function() { return encodingName; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

var encodings = {
    encodingRaw: 0,
    encodingCopyRect: 1,
    encodingRRE: 2,
    encodingHextile: 5,
    encodingTight: 7,

    pseudoEncodingQualityLevel9: -23,
    pseudoEncodingQualityLevel0: -32,
    pseudoEncodingDesktopSize: -223,
    pseudoEncodingLastRect: -224,
    pseudoEncodingCursor: -239,
    pseudoEncodingQEMUExtendedKeyEvent: -258,
    pseudoEncodingTightPNG: -260,
    pseudoEncodingExtendedDesktopSize: -308,
    pseudoEncodingXvp: -309,
    pseudoEncodingFence: -312,
    pseudoEncodingContinuousUpdates: -313,
    pseudoEncodingCompressLevel9: -247,
    pseudoEncodingCompressLevel0: -256,
};

function encodingName(num) {
    switch (num) {
        case encodings.encodingRaw:      return "Raw";
        case encodings.encodingCopyRect: return "CopyRect";
        case encodings.encodingRRE:      return "RRE";
        case encodings.encodingHextile:  return "Hextile";
        case encodings.encodingTight:    return "Tight";
        default:                         return "[unknown encoding " + num + "]";
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/inflator.js":
/*!****************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/inflator.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Inflate; });
/* harmony import */ var _vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vendor/pako/lib/zlib/inflate.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js");
/* harmony import */ var _vendor_pako_lib_zlib_zstream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vendor/pako/lib/zlib/zstream.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js");



Inflate.prototype = {
    inflate: function (data, flush, expected) {
        this.strm.input = data;
        this.strm.avail_in = this.strm.input.length;
        this.strm.next_in = 0;
        this.strm.next_out = 0;

        // resize our output buffer if it's too small
        // (we could just use multiple chunks, but that would cause an extra
        // allocation each time to flatten the chunks)
        if (expected > this.chunkSize) {
            this.chunkSize = expected;
            this.strm.output = new Uint8Array(this.chunkSize);
        }

        this.strm.avail_out = this.chunkSize;

        Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflate"])(this.strm, flush);

        return new Uint8Array(this.strm.output.buffer, 0, this.strm.next_out);
    },

    reset: function () {
        Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflateReset"])(this.strm);
    }
};

function Inflate() {
    this.strm = new _vendor_pako_lib_zlib_zstream_js__WEBPACK_IMPORTED_MODULE_1__["default"]();
    this.chunkSize = 1024 * 10 * 10;
    this.strm.output = new Uint8Array(this.chunkSize);
    this.windowBits = 5;

    Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflateInit"])(this.strm, this.windowBits);
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/domkeytable.js":
/*!*************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/domkeytable.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _keysym_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */



/*
 * Mapping between HTML key values and VNC/X11 keysyms for "special"
 * keys that cannot be handled via their Unicode codepoint.
 *
 * See https://www.w3.org/TR/uievents-key/ for possible values.
 */

var DOMKeyTable = {};

function addStandard(key, standard)
{
    if (standard === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (key in DOMKeyTable) throw "Duplicate entry for key \"" + key + "\"";
    DOMKeyTable[key] = [standard, standard, standard, standard];
}

function addLeftRight(key, left, right)
{
    if (left === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (right === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (key in DOMKeyTable) throw "Duplicate entry for key \"" + key + "\"";
    DOMKeyTable[key] = [left, left, right, left];
}

function addNumpad(key, standard, numpad)
{
    if (standard === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (numpad === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (key in DOMKeyTable) throw "Duplicate entry for key \"" + key + "\"";
    DOMKeyTable[key] = [standard, standard, standard, numpad];
}

// 2.2. Modifier Keys

addLeftRight("Alt", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Alt_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Alt_R);
addStandard("AltGraph", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Level3_Shift);
addStandard("CapsLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Caps_Lock);
addLeftRight("Control", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Control_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Control_R);
// - Fn
// - FnLock
addLeftRight("Hyper", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
addLeftRight("Meta", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
addStandard("NumLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Num_Lock);
addStandard("ScrollLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Scroll_Lock);
addLeftRight("Shift", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Shift_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Shift_R);
addLeftRight("Super", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
// - Symbol
// - SymbolLock

// 2.3. Whitespace Keys

addNumpad("Enter", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Return, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Enter);
addStandard("Tab", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Tab);
addNumpad(" ", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_space, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Space);

// 2.4. Navigation Keys

addNumpad("ArrowDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Down, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Down);
addNumpad("ArrowUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Up, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Up);
addNumpad("ArrowLeft", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Left, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Left);
addNumpad("ArrowRight", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Right, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Right);
addNumpad("End", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_End, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_End);
addNumpad("Home", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Home, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Home);
addNumpad("PageDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Next, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Next);
addNumpad("PageUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Prior, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Prior);

// 2.5. Editing Keys

addStandard("Backspace", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_BackSpace);
addStandard("Clear", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Clear);
addStandard("Copy", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Copy);
// - CrSel
addStandard("Cut", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Cut);
addNumpad("Delete", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Delete, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Delete);
// - EraseEof
// - ExSel
addNumpad("Insert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Insert, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Insert);
addStandard("Paste", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Paste);
addStandard("Redo", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Redo);
addStandard("Undo", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Undo);

// 2.6. UI Keys

// - Accept
// - Again (could just be XK_Redo)
// - Attn
addStandard("Cancel", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Cancel);
addStandard("ContextMenu", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Menu);
addStandard("Escape", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Escape);
addStandard("Execute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Execute);
addStandard("Find", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Find);
addStandard("Help", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Help);
addStandard("Pause", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Pause);
// - Play
// - Props
addStandard("Select", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Select);
addStandard("ZoomIn", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ZoomIn);
addStandard("ZoomOut", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ZoomOut);

// 2.7. Device Keys

addStandard("BrightnessDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MonBrightnessDown);
addStandard("BrightnessUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MonBrightnessUp);
addStandard("Eject", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Eject);
addStandard("LogOff", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_LogOff);
addStandard("Power", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_PowerOff);
addStandard("PowerOff", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_PowerDown);
addStandard("PrintScreen", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Print);
addStandard("Hibernate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Hibernate);
addStandard("Standby", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Standby);
addStandard("WakeUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WakeUp);

// 2.8. IME and Composition Keys

addStandard("AllCandidates", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_MultipleCandidate);
addStandard("Alphanumeric", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Eisu_Shift); // could also be _Eisu_Toggle
addStandard("CodeInput", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Codeinput);
addStandard("Compose", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Multi_key);
addStandard("Convert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Henkan);
// - Dead
// - FinalMode
addStandard("GroupFirst", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_First_Group);
addStandard("GroupLast", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Last_Group);
addStandard("GroupNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Next_Group);
addStandard("GroupPrevious", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Prev_Group);
// - ModeChange (XK_Mode_switch is often used for AltGr)
// - NextCandidate
addStandard("NonConvert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Muhenkan);
addStandard("PreviousCandidate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_PreviousCandidate);
// - Process
addStandard("SingleCandidate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_SingleCandidate);
addStandard("HangulMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul);
addStandard("HanjaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul_Hanja);
addStandard("JunjuaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul_Jeonja);
addStandard("Eisu", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Eisu_toggle);
addStandard("Hankaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hankaku);
addStandard("Hiragana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hiragana);
addStandard("HiraganaKatakana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hiragana_Katakana);
addStandard("KanaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Kana_Shift); // could also be _Kana_Lock
addStandard("KanjiMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Kanji);
addStandard("Katakana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Katakana);
addStandard("Romaji", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Romaji);
addStandard("Zenkaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Zenkaku);
addStandard("ZenkakuHanaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Zenkaku_Hankaku);

// 2.9. General-Purpose Function Keys

addStandard("F1", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F1);
addStandard("F2", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F2);
addStandard("F3", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F3);
addStandard("F4", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F4);
addStandard("F5", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F5);
addStandard("F6", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F6);
addStandard("F7", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F7);
addStandard("F8", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F8);
addStandard("F9", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F9);
addStandard("F10", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F10);
addStandard("F11", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F11);
addStandard("F12", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F12);
addStandard("F13", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F13);
addStandard("F14", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F14);
addStandard("F15", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F15);
addStandard("F16", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F16);
addStandard("F17", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F17);
addStandard("F18", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F18);
addStandard("F19", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F19);
addStandard("F20", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F20);
addStandard("F21", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F21);
addStandard("F22", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F22);
addStandard("F23", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F23);
addStandard("F24", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F24);
addStandard("F25", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F25);
addStandard("F26", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F26);
addStandard("F27", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F27);
addStandard("F28", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F28);
addStandard("F29", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F29);
addStandard("F30", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F30);
addStandard("F31", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F31);
addStandard("F32", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F32);
addStandard("F33", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F33);
addStandard("F34", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F34);
addStandard("F35", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F35);
// - Soft1...

// 2.10. Multimedia Keys

// - ChannelDown
// - ChannelUp
addStandard("Close", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Close);
addStandard("MailForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MailForward);
addStandard("MailReply", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Reply);
addStandard("MainSend", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Send);
addStandard("MediaFastForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioForward);
addStandard("MediaPause", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPause);
addStandard("MediaPlay", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPlay);
addStandard("MediaRecord", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRecord);
addStandard("MediaRewind", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRewind);
addStandard("MediaStop", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioStop);
addStandard("MediaTrackNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioNext);
addStandard("MediaTrackPrevious", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPrev);
addStandard("New", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_New);
addStandard("Open", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Open);
addStandard("Print", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Print);
addStandard("Save", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Save);
addStandard("SpellCheck", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Spell);

// 2.11. Multimedia Numpad Keys

// - Key11
// - Key12

// 2.12. Audio Keys

// - AudioBalanceLeft
// - AudioBalanceRight
// - AudioBassDown
// - AudioBassBoostDown
// - AudioBassBoostToggle
// - AudioBassBoostUp
// - AudioBassUp
// - AudioFaderFront
// - AudioFaderRear
// - AudioSurroundModeNext
// - AudioTrebleDown
// - AudioTrebleUp
addStandard("AudioVolumeDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioLowerVolume);
addStandard("AudioVolumeUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRaiseVolume);
addStandard("AudioVolumeMute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMute);
// - MicrophoneToggle
// - MicrophoneVolumeDown
// - MicrophoneVolumeUp
addStandard("MicrophoneVolumeMute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMicMute);

// 2.13. Speech Keys

// - SpeechCorrectionList
// - SpeechInputToggle

// 2.14. Application Keys

addStandard("LaunchCalculator", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Calculator);
addStandard("LaunchCalendar", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Calendar);
addStandard("LaunchMail", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Mail);
addStandard("LaunchMediaPlayer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMedia);
addStandard("LaunchMusicPlayer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Music);
addStandard("LaunchMyComputer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MyComputer);
addStandard("LaunchPhone", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Phone);
addStandard("LaunchScreenSaver", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ScreenSaver);
addStandard("LaunchSpreadsheet", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Excel);
addStandard("LaunchWebBrowser", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WWW);
addStandard("LaunchWebCam", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WebCam);
addStandard("LaunchWordProcessor", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Word);

// 2.15. Browser Keys

addStandard("BrowserBack", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Back);
addStandard("BrowserFavorites", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Favorites);
addStandard("BrowserForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Forward);
addStandard("BrowserHome", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_HomePage);
addStandard("BrowserRefresh", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Refresh);
addStandard("BrowserSearch", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Search);
addStandard("BrowserStop", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Stop);

// 2.16. Mobile Phone Keys

// - A whole bunch...

// 2.17. TV Keys

// - A whole bunch...

// 2.18. Media Controller Keys

// - A whole bunch...
addStandard("Dimmer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_BrightnessAdjust);
addStandard("MediaAudioTrack", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioCycleTrack);
addStandard("RandomToggle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRandomPlay);
addStandard("SplitScreenToggle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_SplitScreen);
addStandard("Subtitle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Subtitle);
addStandard("VideoModeNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Next_VMode);

// Extra: Numpad

addNumpad("=", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_equal, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Equal);
addNumpad("+", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_plus, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Add);
addNumpad("-", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_minus, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Subtract);
addNumpad("*", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_asterisk, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Multiply);
addNumpad("/", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_slash, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Divide);
addNumpad(".", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_period, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Decimal);
addNumpad(",", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_comma, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Separator);
addNumpad("0", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_0, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_0);
addNumpad("1", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_1, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_1);
addNumpad("2", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_2, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_2);
addNumpad("3", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_3, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_3);
addNumpad("4", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_4, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_4);
addNumpad("5", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_5, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_5);
addNumpad("6", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_6, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_6);
addNumpad("7", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_7, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_7);
addNumpad("8", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_8, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_8);
addNumpad("9", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_9, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_9);

/* harmony default export */ __webpack_exports__["default"] = (DOMKeyTable);


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/fixedkeys.js":
/*!***********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/fixedkeys.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/*
 * Fallback mapping between HTML key codes (physical keys) and
 * HTML key values. This only works for keys that don't vary
 * between layouts. We also omit those who manage fine by mapping the
 * Unicode representation.
 *
 * See https://www.w3.org/TR/uievents-code/ for possible codes.
 * See https://www.w3.org/TR/uievents-key/ for possible values.
 */

/* harmony default export */ __webpack_exports__["default"] = ({

// 3.1.1.1. Writing System Keys

    'Backspace':        'Backspace',

// 3.1.1.2. Functional Keys

    'AltLeft':          'Alt',
    'AltRight':         'Alt', // This could also be 'AltGraph'
    'CapsLock':         'CapsLock',
    'ContextMenu':      'ContextMenu',
    'ControlLeft':      'Control',
    'ControlRight':     'Control',
    'Enter':            'Enter',
    'MetaLeft':         'Meta',
    'MetaRight':        'Meta',
    'ShiftLeft':        'Shift',
    'ShiftRight':       'Shift',
    'Tab':              'Tab',
    // FIXME: Japanese/Korean keys

// 3.1.2. Control Pad Section

    'Delete':           'Delete',
    'End':              'End',
    'Help':             'Help',
    'Home':             'Home',
    'Insert':           'Insert',
    'PageDown':         'PageDown',
    'PageUp':           'PageUp',

// 3.1.3. Arrow Pad Section

    'ArrowDown':        'ArrowDown',
    'ArrowLeft':        'ArrowLeft',
    'ArrowRight':       'ArrowRight',
    'ArrowUp':          'ArrowUp',

// 3.1.4. Numpad Section

    'NumLock':          'NumLock',
    'NumpadBackspace':  'Backspace',
    'NumpadClear':      'Clear',

// 3.1.5. Function Section

    'Escape':           'Escape',
    'F1':               'F1',
    'F2':               'F2',
    'F3':               'F3',
    'F4':               'F4',
    'F5':               'F5',
    'F6':               'F6',
    'F7':               'F7',
    'F8':               'F8',
    'F9':               'F9',
    'F10':              'F10',
    'F11':              'F11',
    'F12':              'F12',
    'F13':              'F13',
    'F14':              'F14',
    'F15':              'F15',
    'F16':              'F16',
    'F17':              'F17',
    'F18':              'F18',
    'F19':              'F19',
    'F20':              'F20',
    'F21':              'F21',
    'F22':              'F22',
    'F23':              'F23',
    'F24':              'F24',
    'F25':              'F25',
    'F26':              'F26',
    'F27':              'F27',
    'F28':              'F28',
    'F29':              'F29',
    'F30':              'F30',
    'F31':              'F31',
    'F32':              'F32',
    'F33':              'F33',
    'F34':              'F34',
    'F35':              'F35',
    'PrintScreen':      'PrintScreen',
    'ScrollLock':       'ScrollLock',
    'Pause':            'Pause',

// 3.1.6. Media Keys

    'BrowserBack':      'BrowserBack',
    'BrowserFavorites': 'BrowserFavorites',
    'BrowserForward':   'BrowserForward',
    'BrowserHome':      'BrowserHome',
    'BrowserRefresh':   'BrowserRefresh',
    'BrowserSearch':    'BrowserSearch',
    'BrowserStop':      'BrowserStop',
    'Eject':            'Eject',
    'LaunchApp1':       'LaunchMyComputer',
    'LaunchApp2':       'LaunchCalendar',
    'LaunchMail':       'LaunchMail',
    'MediaPlayPause':   'MediaPlay',
    'MediaStop':        'MediaStop',
    'MediaTrackNext':   'MediaTrackNext',
    'MediaTrackPrevious': 'MediaTrackPrevious',
    'Power':            'Power',
    'Sleep':            'Sleep',
    'AudioVolumeDown':  'AudioVolumeDown',
    'AudioVolumeMute':  'AudioVolumeMute',
    'AudioVolumeUp':    'AudioVolumeUp',
    'WakeUp':           'WakeUp',
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keyboard.js":
/*!**********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keyboard.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Keyboard; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/events.js */ "./node_modules/@novnc/novnc/core/util/events.js");
/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ "./node_modules/@novnc/novnc/core/input/util.js");
/* harmony import */ var _keysym_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2013 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */







//
// Keyboard event handler
//

function Keyboard(target) {
    this._target = target || null;

    this._keyDownList = {};         // List of depressed keys
                                    // (even if they are happy)
    this._pendingKey = null;        // Key waiting for keypress

    // keep these here so we can refer to them later
    this._eventHandlers = {
        'keyup': this._handleKeyUp.bind(this),
        'keydown': this._handleKeyDown.bind(this),
        'keypress': this._handleKeyPress.bind(this),
        'blur': this._allKeysUp.bind(this)
    };
};

Keyboard.prototype = {
    // ===== EVENT HANDLERS =====

    onkeyevent: function () {},     // Handler for key press/release

    // ===== PRIVATE METHODS =====

    _sendKeyEvent: function (keysym, code, down) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("onkeyevent " + (down ? "down" : "up") +
                  ", keysym: " + keysym, ", code: " + code);

        // Windows sends CtrlLeft+AltRight when you press
        // AltGraph, which tends to confuse the hell out of
        // remote systems. Fake a release of these keys until
        // there is a way to detect AltGraph properly.
        var fakeAltGraph = false;
        if (down && _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isWindows"]()) {
            if ((code !== 'ControlLeft') &&
                (code !== 'AltRight') &&
                ('ControlLeft' in this._keyDownList) &&
                ('AltRight' in this._keyDownList)) {
                fakeAltGraph = true;
                this.onkeyevent(this._keyDownList['AltRight'],
                                 'AltRight', false);
                this.onkeyevent(this._keyDownList['ControlLeft'],
                                 'ControlLeft', false);
            }
        }

        this.onkeyevent(keysym, code, down);

        if (fakeAltGraph) {
            this.onkeyevent(this._keyDownList['ControlLeft'],
                             'ControlLeft', true);
            this.onkeyevent(this._keyDownList['AltRight'],
                             'AltRight', true);
        }
    },

    _getKeyCode: function (e) {
        var code = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeycode"](e);
        if (code !== 'Unidentified') {
            return code;
        }

        // Unstable, but we don't have anything else to go on
        // (don't use it for 'keypress' events thought since
        // WebKit sets it to the same as charCode)
        if (e.keyCode && (e.type !== 'keypress')) {
            // 229 is used for composition events
            if (e.keyCode !== 229) {
                return 'Platform' + e.keyCode;
            }
        }

        // A precursor to the final DOM3 standard. Unfortunately it
        // is not layout independent, so it is as bad as using keyCode
        if (e.keyIdentifier) {
            // Non-character key?
            if (e.keyIdentifier.substr(0, 2) !== 'U+') {
                return e.keyIdentifier;
            }

            var codepoint = parseInt(e.keyIdentifier.substr(2), 16);
            var char = String.fromCharCode(codepoint);
            // Some implementations fail to uppercase the symbols
            char = char.toUpperCase();

            return 'Platform' + char.charCodeAt();
        }

        return 'Unidentified';
    },

    _handleKeyDown: function (e) {
        var code = this._getKeyCode(e);
        var keysym = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeysym"](e);

        // We cannot handle keys we cannot track, but we also need
        // to deal with virtual keyboards which omit key info
        // (iOS omits tracking info on keyup events, which forces us to
        // special treat that platform here)
        if ((code === 'Unidentified') || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isIOS"]()) {
            if (keysym) {
                // If it's a virtual keyboard then it should be
                // sufficient to just send press and release right
                // after each other
                this._sendKeyEvent(keysym, code, true);
                this._sendKeyEvent(keysym, code, false);
            }

            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);
            return;
        }

        // Alt behaves more like AltGraph on macOS, so shuffle the
        // keys around a bit to make things more sane for the remote
        // server. This method is used by RealVNC and TigerVNC (and
        // possibly others).
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]()) {
            switch (keysym) {
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_L:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_L;
                break;
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_R:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_L;
                break;
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_L:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Mode_switch;
                break;
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_R:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_ISO_Level3_Shift;
                break;
            }
        }

        // Is this key already pressed? If so, then we must use the
        // same keysym or we'll confuse the server
        if (code in this._keyDownList) {
            keysym = this._keyDownList[code];
        }

        // macOS doesn't send proper key events for modifiers, only
        // state change events. That gets extra confusing for CapsLock
        // which toggles on each press, but not on release. So pretend
        // it was a quick press and release of the button.
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]() && (code === 'CapsLock')) {
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', true);
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', false);
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);
            return;
        }

        // If this is a legacy browser then we'll need to wait for
        // a keypress event as well
        // (IE and Edge has a broken KeyboardEvent.key, so we can't
        // just check for the presence of that field)
        if (!keysym && (!e.key || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isIE"]() || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isEdge"]())) {
            this._pendingKey = code;
            // However we might not get a keypress event if the key
            // is non-printable, which needs some special fallback
            // handling
            setTimeout(this._handleKeyPressTimeout.bind(this), 10, e);
            return;
        }

        this._pendingKey = null;
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        this._keyDownList[code] = keysym;

        this._sendKeyEvent(keysym, code, true);
    },

    // Legacy event for browsers without code/key
    _handleKeyPress: function (e) {
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        // Are we expecting a keypress?
        if (this._pendingKey === null) {
            return;
        }

        var code = this._getKeyCode(e);
        var keysym = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeysym"](e);

        // The key we were waiting for?
        if ((code !== 'Unidentified') && (code != this._pendingKey)) {
            return;
        }

        code = this._pendingKey;
        this._pendingKey = null;

        if (!keysym) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]('keypress with no keysym:', e);
            return;
        }

        this._keyDownList[code] = keysym;

        this._sendKeyEvent(keysym, code, true);
    },
    _handleKeyPressTimeout: function (e) {
        // Did someone manage to sort out the key already?
        if (this._pendingKey === null) {
            return;
        }

        var code, keysym;

        code = this._pendingKey;
        this._pendingKey = null;

        // We have no way of knowing the proper keysym with the
        // information given, but the following are true for most
        // layouts
        if ((e.keyCode >= 0x30) && (e.keyCode <= 0x39)) {
            // Digit
            keysym = e.keyCode;
        } else if ((e.keyCode >= 0x41) && (e.keyCode <= 0x5a)) {
            // Character (A-Z)
            var char = String.fromCharCode(e.keyCode);
            // A feeble attempt at the correct case
            if (e.shiftKey)
                char = char.toUpperCase();
            else
                char = char.toLowerCase();
            keysym = char.charCodeAt();
        } else {
            // Unknown, give up
            keysym = 0;
        }

        this._keyDownList[code] = keysym;

        this._sendKeyEvent(keysym, code, true);
    },

    _handleKeyUp: function (e) {
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        var code = this._getKeyCode(e);

        // See comment in _handleKeyDown()
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]() && (code === 'CapsLock')) {
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', true);
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', false);
            return;
        }

        // Do we really think this key is down?
        if (!(code in this._keyDownList)) {
            return;
        }

        this._sendKeyEvent(this._keyDownList[code], code, false);

        delete this._keyDownList[code];
    },

    _allKeysUp: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> Keyboard.allKeysUp");
        for (var code in this._keyDownList) {
            this._sendKeyEvent(this._keyDownList[code], code, false);
        };
        this._keyDownList = {};
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< Keyboard.allKeysUp");
    },

    // ===== PUBLIC METHODS =====

    grab: function () {
        //Log.Debug(">> Keyboard.grab");
        var c = this._target;

        c.addEventListener('keydown', this._eventHandlers.keydown);
        c.addEventListener('keyup', this._eventHandlers.keyup);
        c.addEventListener('keypress', this._eventHandlers.keypress);

        // Release (key up) if window loses focus
        window.addEventListener('blur', this._eventHandlers.blur);

        //Log.Debug("<< Keyboard.grab");
    },

    ungrab: function () {
        //Log.Debug(">> Keyboard.ungrab");
        var c = this._target;

        c.removeEventListener('keydown', this._eventHandlers.keydown);
        c.removeEventListener('keyup', this._eventHandlers.keyup);
        c.removeEventListener('keypress', this._eventHandlers.keypress);
        window.removeEventListener('blur', this._eventHandlers.blur);

        // Release (key up) all keys that are in a down state
        this._allKeysUp();

        //Log.Debug(">> Keyboard.ungrab");
    },
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keysym.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keysym.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    XK_VoidSymbol:                  0xffffff, /* Void symbol */

    XK_BackSpace:                   0xff08, /* Back space, back char */
    XK_Tab:                         0xff09,
    XK_Linefeed:                    0xff0a, /* Linefeed, LF */
    XK_Clear:                       0xff0b,
    XK_Return:                      0xff0d, /* Return, enter */
    XK_Pause:                       0xff13, /* Pause, hold */
    XK_Scroll_Lock:                 0xff14,
    XK_Sys_Req:                     0xff15,
    XK_Escape:                      0xff1b,
    XK_Delete:                      0xffff, /* Delete, rubout */

    /* International & multi-key character composition */

    XK_Multi_key:                   0xff20, /* Multi-key character compose */
    XK_Codeinput:                   0xff37,
    XK_SingleCandidate:             0xff3c,
    XK_MultipleCandidate:           0xff3d,
    XK_PreviousCandidate:           0xff3e,

    /* Japanese keyboard support */

    XK_Kanji:                       0xff21, /* Kanji, Kanji convert */
    XK_Muhenkan:                    0xff22, /* Cancel Conversion */
    XK_Henkan_Mode:                 0xff23, /* Start/Stop Conversion */
    XK_Henkan:                      0xff23, /* Alias for Henkan_Mode */
    XK_Romaji:                      0xff24, /* to Romaji */
    XK_Hiragana:                    0xff25, /* to Hiragana */
    XK_Katakana:                    0xff26, /* to Katakana */
    XK_Hiragana_Katakana:           0xff27, /* Hiragana/Katakana toggle */
    XK_Zenkaku:                     0xff28, /* to Zenkaku */
    XK_Hankaku:                     0xff29, /* to Hankaku */
    XK_Zenkaku_Hankaku:             0xff2a, /* Zenkaku/Hankaku toggle */
    XK_Touroku:                     0xff2b, /* Add to Dictionary */
    XK_Massyo:                      0xff2c, /* Delete from Dictionary */
    XK_Kana_Lock:                   0xff2d, /* Kana Lock */
    XK_Kana_Shift:                  0xff2e, /* Kana Shift */
    XK_Eisu_Shift:                  0xff2f, /* Alphanumeric Shift */
    XK_Eisu_toggle:                 0xff30, /* Alphanumeric toggle */
    XK_Kanji_Bangou:                0xff37, /* Codeinput */
    XK_Zen_Koho:                    0xff3d, /* Multiple/All Candidate(s) */
    XK_Mae_Koho:                    0xff3e, /* Previous Candidate */

    /* Cursor control & motion */

    XK_Home:                        0xff50,
    XK_Left:                        0xff51, /* Move left, left arrow */
    XK_Up:                          0xff52, /* Move up, up arrow */
    XK_Right:                       0xff53, /* Move right, right arrow */
    XK_Down:                        0xff54, /* Move down, down arrow */
    XK_Prior:                       0xff55, /* Prior, previous */
    XK_Page_Up:                     0xff55,
    XK_Next:                        0xff56, /* Next */
    XK_Page_Down:                   0xff56,
    XK_End:                         0xff57, /* EOL */
    XK_Begin:                       0xff58, /* BOL */


    /* Misc functions */

    XK_Select:                      0xff60, /* Select, mark */
    XK_Print:                       0xff61,
    XK_Execute:                     0xff62, /* Execute, run, do */
    XK_Insert:                      0xff63, /* Insert, insert here */
    XK_Undo:                        0xff65,
    XK_Redo:                        0xff66, /* Redo, again */
    XK_Menu:                        0xff67,
    XK_Find:                        0xff68, /* Find, search */
    XK_Cancel:                      0xff69, /* Cancel, stop, abort, exit */
    XK_Help:                        0xff6a, /* Help */
    XK_Break:                       0xff6b,
    XK_Mode_switch:                 0xff7e, /* Character set switch */
    XK_script_switch:               0xff7e, /* Alias for mode_switch */
    XK_Num_Lock:                    0xff7f,

    /* Keypad functions, keypad numbers cleverly chosen to map to ASCII */

    XK_KP_Space:                    0xff80, /* Space */
    XK_KP_Tab:                      0xff89,
    XK_KP_Enter:                    0xff8d, /* Enter */
    XK_KP_F1:                       0xff91, /* PF1, KP_A, ... */
    XK_KP_F2:                       0xff92,
    XK_KP_F3:                       0xff93,
    XK_KP_F4:                       0xff94,
    XK_KP_Home:                     0xff95,
    XK_KP_Left:                     0xff96,
    XK_KP_Up:                       0xff97,
    XK_KP_Right:                    0xff98,
    XK_KP_Down:                     0xff99,
    XK_KP_Prior:                    0xff9a,
    XK_KP_Page_Up:                  0xff9a,
    XK_KP_Next:                     0xff9b,
    XK_KP_Page_Down:                0xff9b,
    XK_KP_End:                      0xff9c,
    XK_KP_Begin:                    0xff9d,
    XK_KP_Insert:                   0xff9e,
    XK_KP_Delete:                   0xff9f,
    XK_KP_Equal:                    0xffbd, /* Equals */
    XK_KP_Multiply:                 0xffaa,
    XK_KP_Add:                      0xffab,
    XK_KP_Separator:                0xffac, /* Separator, often comma */
    XK_KP_Subtract:                 0xffad,
    XK_KP_Decimal:                  0xffae,
    XK_KP_Divide:                   0xffaf,

    XK_KP_0:                        0xffb0,
    XK_KP_1:                        0xffb1,
    XK_KP_2:                        0xffb2,
    XK_KP_3:                        0xffb3,
    XK_KP_4:                        0xffb4,
    XK_KP_5:                        0xffb5,
    XK_KP_6:                        0xffb6,
    XK_KP_7:                        0xffb7,
    XK_KP_8:                        0xffb8,
    XK_KP_9:                        0xffb9,

    /*
     * Auxiliary functions; note the duplicate definitions for left and right
     * function keys;  Sun keyboards and a few other manufacturers have such
     * function key groups on the left and/or right sides of the keyboard.
     * We've not found a keyboard with more than 35 function keys total.
     */

    XK_F1:                          0xffbe,
    XK_F2:                          0xffbf,
    XK_F3:                          0xffc0,
    XK_F4:                          0xffc1,
    XK_F5:                          0xffc2,
    XK_F6:                          0xffc3,
    XK_F7:                          0xffc4,
    XK_F8:                          0xffc5,
    XK_F9:                          0xffc6,
    XK_F10:                         0xffc7,
    XK_F11:                         0xffc8,
    XK_L1:                          0xffc8,
    XK_F12:                         0xffc9,
    XK_L2:                          0xffc9,
    XK_F13:                         0xffca,
    XK_L3:                          0xffca,
    XK_F14:                         0xffcb,
    XK_L4:                          0xffcb,
    XK_F15:                         0xffcc,
    XK_L5:                          0xffcc,
    XK_F16:                         0xffcd,
    XK_L6:                          0xffcd,
    XK_F17:                         0xffce,
    XK_L7:                          0xffce,
    XK_F18:                         0xffcf,
    XK_L8:                          0xffcf,
    XK_F19:                         0xffd0,
    XK_L9:                          0xffd0,
    XK_F20:                         0xffd1,
    XK_L10:                         0xffd1,
    XK_F21:                         0xffd2,
    XK_R1:                          0xffd2,
    XK_F22:                         0xffd3,
    XK_R2:                          0xffd3,
    XK_F23:                         0xffd4,
    XK_R3:                          0xffd4,
    XK_F24:                         0xffd5,
    XK_R4:                          0xffd5,
    XK_F25:                         0xffd6,
    XK_R5:                          0xffd6,
    XK_F26:                         0xffd7,
    XK_R6:                          0xffd7,
    XK_F27:                         0xffd8,
    XK_R7:                          0xffd8,
    XK_F28:                         0xffd9,
    XK_R8:                          0xffd9,
    XK_F29:                         0xffda,
    XK_R9:                          0xffda,
    XK_F30:                         0xffdb,
    XK_R10:                         0xffdb,
    XK_F31:                         0xffdc,
    XK_R11:                         0xffdc,
    XK_F32:                         0xffdd,
    XK_R12:                         0xffdd,
    XK_F33:                         0xffde,
    XK_R13:                         0xffde,
    XK_F34:                         0xffdf,
    XK_R14:                         0xffdf,
    XK_F35:                         0xffe0,
    XK_R15:                         0xffe0,

    /* Modifiers */

    XK_Shift_L:                     0xffe1, /* Left shift */
    XK_Shift_R:                     0xffe2, /* Right shift */
    XK_Control_L:                   0xffe3, /* Left control */
    XK_Control_R:                   0xffe4, /* Right control */
    XK_Caps_Lock:                   0xffe5, /* Caps lock */
    XK_Shift_Lock:                  0xffe6, /* Shift lock */

    XK_Meta_L:                      0xffe7, /* Left meta */
    XK_Meta_R:                      0xffe8, /* Right meta */
    XK_Alt_L:                       0xffe9, /* Left alt */
    XK_Alt_R:                       0xffea, /* Right alt */
    XK_Super_L:                     0xffeb, /* Left super */
    XK_Super_R:                     0xffec, /* Right super */
    XK_Hyper_L:                     0xffed, /* Left hyper */
    XK_Hyper_R:                     0xffee, /* Right hyper */

    /*
     * Keyboard (XKB) Extension function and modifier keys
     * (from Appendix C of "The X Keyboard Extension: Protocol Specification")
     * Byte 3 = 0xfe
     */

    XK_ISO_Level3_Shift:            0xfe03, /* AltGr */
    XK_ISO_Next_Group:              0xfe08,
    XK_ISO_Prev_Group:              0xfe0a,
    XK_ISO_First_Group:             0xfe0c,
    XK_ISO_Last_Group:              0xfe0e,

    /*
     * Latin 1
     * (ISO/IEC 8859-1: Unicode U+0020..U+00FF)
     * Byte 3: 0
     */

    XK_space:                       0x0020, /* U+0020 SPACE */
    XK_exclam:                      0x0021, /* U+0021 EXCLAMATION MARK */
    XK_quotedbl:                    0x0022, /* U+0022 QUOTATION MARK */
    XK_numbersign:                  0x0023, /* U+0023 NUMBER SIGN */
    XK_dollar:                      0x0024, /* U+0024 DOLLAR SIGN */
    XK_percent:                     0x0025, /* U+0025 PERCENT SIGN */
    XK_ampersand:                   0x0026, /* U+0026 AMPERSAND */
    XK_apostrophe:                  0x0027, /* U+0027 APOSTROPHE */
    XK_quoteright:                  0x0027, /* deprecated */
    XK_parenleft:                   0x0028, /* U+0028 LEFT PARENTHESIS */
    XK_parenright:                  0x0029, /* U+0029 RIGHT PARENTHESIS */
    XK_asterisk:                    0x002a, /* U+002A ASTERISK */
    XK_plus:                        0x002b, /* U+002B PLUS SIGN */
    XK_comma:                       0x002c, /* U+002C COMMA */
    XK_minus:                       0x002d, /* U+002D HYPHEN-MINUS */
    XK_period:                      0x002e, /* U+002E FULL STOP */
    XK_slash:                       0x002f, /* U+002F SOLIDUS */
    XK_0:                           0x0030, /* U+0030 DIGIT ZERO */
    XK_1:                           0x0031, /* U+0031 DIGIT ONE */
    XK_2:                           0x0032, /* U+0032 DIGIT TWO */
    XK_3:                           0x0033, /* U+0033 DIGIT THREE */
    XK_4:                           0x0034, /* U+0034 DIGIT FOUR */
    XK_5:                           0x0035, /* U+0035 DIGIT FIVE */
    XK_6:                           0x0036, /* U+0036 DIGIT SIX */
    XK_7:                           0x0037, /* U+0037 DIGIT SEVEN */
    XK_8:                           0x0038, /* U+0038 DIGIT EIGHT */
    XK_9:                           0x0039, /* U+0039 DIGIT NINE */
    XK_colon:                       0x003a, /* U+003A COLON */
    XK_semicolon:                   0x003b, /* U+003B SEMICOLON */
    XK_less:                        0x003c, /* U+003C LESS-THAN SIGN */
    XK_equal:                       0x003d, /* U+003D EQUALS SIGN */
    XK_greater:                     0x003e, /* U+003E GREATER-THAN SIGN */
    XK_question:                    0x003f, /* U+003F QUESTION MARK */
    XK_at:                          0x0040, /* U+0040 COMMERCIAL AT */
    XK_A:                           0x0041, /* U+0041 LATIN CAPITAL LETTER A */
    XK_B:                           0x0042, /* U+0042 LATIN CAPITAL LETTER B */
    XK_C:                           0x0043, /* U+0043 LATIN CAPITAL LETTER C */
    XK_D:                           0x0044, /* U+0044 LATIN CAPITAL LETTER D */
    XK_E:                           0x0045, /* U+0045 LATIN CAPITAL LETTER E */
    XK_F:                           0x0046, /* U+0046 LATIN CAPITAL LETTER F */
    XK_G:                           0x0047, /* U+0047 LATIN CAPITAL LETTER G */
    XK_H:                           0x0048, /* U+0048 LATIN CAPITAL LETTER H */
    XK_I:                           0x0049, /* U+0049 LATIN CAPITAL LETTER I */
    XK_J:                           0x004a, /* U+004A LATIN CAPITAL LETTER J */
    XK_K:                           0x004b, /* U+004B LATIN CAPITAL LETTER K */
    XK_L:                           0x004c, /* U+004C LATIN CAPITAL LETTER L */
    XK_M:                           0x004d, /* U+004D LATIN CAPITAL LETTER M */
    XK_N:                           0x004e, /* U+004E LATIN CAPITAL LETTER N */
    XK_O:                           0x004f, /* U+004F LATIN CAPITAL LETTER O */
    XK_P:                           0x0050, /* U+0050 LATIN CAPITAL LETTER P */
    XK_Q:                           0x0051, /* U+0051 LATIN CAPITAL LETTER Q */
    XK_R:                           0x0052, /* U+0052 LATIN CAPITAL LETTER R */
    XK_S:                           0x0053, /* U+0053 LATIN CAPITAL LETTER S */
    XK_T:                           0x0054, /* U+0054 LATIN CAPITAL LETTER T */
    XK_U:                           0x0055, /* U+0055 LATIN CAPITAL LETTER U */
    XK_V:                           0x0056, /* U+0056 LATIN CAPITAL LETTER V */
    XK_W:                           0x0057, /* U+0057 LATIN CAPITAL LETTER W */
    XK_X:                           0x0058, /* U+0058 LATIN CAPITAL LETTER X */
    XK_Y:                           0x0059, /* U+0059 LATIN CAPITAL LETTER Y */
    XK_Z:                           0x005a, /* U+005A LATIN CAPITAL LETTER Z */
    XK_bracketleft:                 0x005b, /* U+005B LEFT SQUARE BRACKET */
    XK_backslash:                   0x005c, /* U+005C REVERSE SOLIDUS */
    XK_bracketright:                0x005d, /* U+005D RIGHT SQUARE BRACKET */
    XK_asciicircum:                 0x005e, /* U+005E CIRCUMFLEX ACCENT */
    XK_underscore:                  0x005f, /* U+005F LOW LINE */
    XK_grave:                       0x0060, /* U+0060 GRAVE ACCENT */
    XK_quoteleft:                   0x0060, /* deprecated */
    XK_a:                           0x0061, /* U+0061 LATIN SMALL LETTER A */
    XK_b:                           0x0062, /* U+0062 LATIN SMALL LETTER B */
    XK_c:                           0x0063, /* U+0063 LATIN SMALL LETTER C */
    XK_d:                           0x0064, /* U+0064 LATIN SMALL LETTER D */
    XK_e:                           0x0065, /* U+0065 LATIN SMALL LETTER E */
    XK_f:                           0x0066, /* U+0066 LATIN SMALL LETTER F */
    XK_g:                           0x0067, /* U+0067 LATIN SMALL LETTER G */
    XK_h:                           0x0068, /* U+0068 LATIN SMALL LETTER H */
    XK_i:                           0x0069, /* U+0069 LATIN SMALL LETTER I */
    XK_j:                           0x006a, /* U+006A LATIN SMALL LETTER J */
    XK_k:                           0x006b, /* U+006B LATIN SMALL LETTER K */
    XK_l:                           0x006c, /* U+006C LATIN SMALL LETTER L */
    XK_m:                           0x006d, /* U+006D LATIN SMALL LETTER M */
    XK_n:                           0x006e, /* U+006E LATIN SMALL LETTER N */
    XK_o:                           0x006f, /* U+006F LATIN SMALL LETTER O */
    XK_p:                           0x0070, /* U+0070 LATIN SMALL LETTER P */
    XK_q:                           0x0071, /* U+0071 LATIN SMALL LETTER Q */
    XK_r:                           0x0072, /* U+0072 LATIN SMALL LETTER R */
    XK_s:                           0x0073, /* U+0073 LATIN SMALL LETTER S */
    XK_t:                           0x0074, /* U+0074 LATIN SMALL LETTER T */
    XK_u:                           0x0075, /* U+0075 LATIN SMALL LETTER U */
    XK_v:                           0x0076, /* U+0076 LATIN SMALL LETTER V */
    XK_w:                           0x0077, /* U+0077 LATIN SMALL LETTER W */
    XK_x:                           0x0078, /* U+0078 LATIN SMALL LETTER X */
    XK_y:                           0x0079, /* U+0079 LATIN SMALL LETTER Y */
    XK_z:                           0x007a, /* U+007A LATIN SMALL LETTER Z */
    XK_braceleft:                   0x007b, /* U+007B LEFT CURLY BRACKET */
    XK_bar:                         0x007c, /* U+007C VERTICAL LINE */
    XK_braceright:                  0x007d, /* U+007D RIGHT CURLY BRACKET */
    XK_asciitilde:                  0x007e, /* U+007E TILDE */

    XK_nobreakspace:                0x00a0, /* U+00A0 NO-BREAK SPACE */
    XK_exclamdown:                  0x00a1, /* U+00A1 INVERTED EXCLAMATION MARK */
    XK_cent:                        0x00a2, /* U+00A2 CENT SIGN */
    XK_sterling:                    0x00a3, /* U+00A3 POUND SIGN */
    XK_currency:                    0x00a4, /* U+00A4 CURRENCY SIGN */
    XK_yen:                         0x00a5, /* U+00A5 YEN SIGN */
    XK_brokenbar:                   0x00a6, /* U+00A6 BROKEN BAR */
    XK_section:                     0x00a7, /* U+00A7 SECTION SIGN */
    XK_diaeresis:                   0x00a8, /* U+00A8 DIAERESIS */
    XK_copyright:                   0x00a9, /* U+00A9 COPYRIGHT SIGN */
    XK_ordfeminine:                 0x00aa, /* U+00AA FEMININE ORDINAL INDICATOR */
    XK_guillemotleft:               0x00ab, /* U+00AB LEFT-POINTING DOUBLE ANGLE QUOTATION MARK */
    XK_notsign:                     0x00ac, /* U+00AC NOT SIGN */
    XK_hyphen:                      0x00ad, /* U+00AD SOFT HYPHEN */
    XK_registered:                  0x00ae, /* U+00AE REGISTERED SIGN */
    XK_macron:                      0x00af, /* U+00AF MACRON */
    XK_degree:                      0x00b0, /* U+00B0 DEGREE SIGN */
    XK_plusminus:                   0x00b1, /* U+00B1 PLUS-MINUS SIGN */
    XK_twosuperior:                 0x00b2, /* U+00B2 SUPERSCRIPT TWO */
    XK_threesuperior:               0x00b3, /* U+00B3 SUPERSCRIPT THREE */
    XK_acute:                       0x00b4, /* U+00B4 ACUTE ACCENT */
    XK_mu:                          0x00b5, /* U+00B5 MICRO SIGN */
    XK_paragraph:                   0x00b6, /* U+00B6 PILCROW SIGN */
    XK_periodcentered:              0x00b7, /* U+00B7 MIDDLE DOT */
    XK_cedilla:                     0x00b8, /* U+00B8 CEDILLA */
    XK_onesuperior:                 0x00b9, /* U+00B9 SUPERSCRIPT ONE */
    XK_masculine:                   0x00ba, /* U+00BA MASCULINE ORDINAL INDICATOR */
    XK_guillemotright:              0x00bb, /* U+00BB RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK */
    XK_onequarter:                  0x00bc, /* U+00BC VULGAR FRACTION ONE QUARTER */
    XK_onehalf:                     0x00bd, /* U+00BD VULGAR FRACTION ONE HALF */
    XK_threequarters:               0x00be, /* U+00BE VULGAR FRACTION THREE QUARTERS */
    XK_questiondown:                0x00bf, /* U+00BF INVERTED QUESTION MARK */
    XK_Agrave:                      0x00c0, /* U+00C0 LATIN CAPITAL LETTER A WITH GRAVE */
    XK_Aacute:                      0x00c1, /* U+00C1 LATIN CAPITAL LETTER A WITH ACUTE */
    XK_Acircumflex:                 0x00c2, /* U+00C2 LATIN CAPITAL LETTER A WITH CIRCUMFLEX */
    XK_Atilde:                      0x00c3, /* U+00C3 LATIN CAPITAL LETTER A WITH TILDE */
    XK_Adiaeresis:                  0x00c4, /* U+00C4 LATIN CAPITAL LETTER A WITH DIAERESIS */
    XK_Aring:                       0x00c5, /* U+00C5 LATIN CAPITAL LETTER A WITH RING ABOVE */
    XK_AE:                          0x00c6, /* U+00C6 LATIN CAPITAL LETTER AE */
    XK_Ccedilla:                    0x00c7, /* U+00C7 LATIN CAPITAL LETTER C WITH CEDILLA */
    XK_Egrave:                      0x00c8, /* U+00C8 LATIN CAPITAL LETTER E WITH GRAVE */
    XK_Eacute:                      0x00c9, /* U+00C9 LATIN CAPITAL LETTER E WITH ACUTE */
    XK_Ecircumflex:                 0x00ca, /* U+00CA LATIN CAPITAL LETTER E WITH CIRCUMFLEX */
    XK_Ediaeresis:                  0x00cb, /* U+00CB LATIN CAPITAL LETTER E WITH DIAERESIS */
    XK_Igrave:                      0x00cc, /* U+00CC LATIN CAPITAL LETTER I WITH GRAVE */
    XK_Iacute:                      0x00cd, /* U+00CD LATIN CAPITAL LETTER I WITH ACUTE */
    XK_Icircumflex:                 0x00ce, /* U+00CE LATIN CAPITAL LETTER I WITH CIRCUMFLEX */
    XK_Idiaeresis:                  0x00cf, /* U+00CF LATIN CAPITAL LETTER I WITH DIAERESIS */
    XK_ETH:                         0x00d0, /* U+00D0 LATIN CAPITAL LETTER ETH */
    XK_Eth:                         0x00d0, /* deprecated */
    XK_Ntilde:                      0x00d1, /* U+00D1 LATIN CAPITAL LETTER N WITH TILDE */
    XK_Ograve:                      0x00d2, /* U+00D2 LATIN CAPITAL LETTER O WITH GRAVE */
    XK_Oacute:                      0x00d3, /* U+00D3 LATIN CAPITAL LETTER O WITH ACUTE */
    XK_Ocircumflex:                 0x00d4, /* U+00D4 LATIN CAPITAL LETTER O WITH CIRCUMFLEX */
    XK_Otilde:                      0x00d5, /* U+00D5 LATIN CAPITAL LETTER O WITH TILDE */
    XK_Odiaeresis:                  0x00d6, /* U+00D6 LATIN CAPITAL LETTER O WITH DIAERESIS */
    XK_multiply:                    0x00d7, /* U+00D7 MULTIPLICATION SIGN */
    XK_Oslash:                      0x00d8, /* U+00D8 LATIN CAPITAL LETTER O WITH STROKE */
    XK_Ooblique:                    0x00d8, /* U+00D8 LATIN CAPITAL LETTER O WITH STROKE */
    XK_Ugrave:                      0x00d9, /* U+00D9 LATIN CAPITAL LETTER U WITH GRAVE */
    XK_Uacute:                      0x00da, /* U+00DA LATIN CAPITAL LETTER U WITH ACUTE */
    XK_Ucircumflex:                 0x00db, /* U+00DB LATIN CAPITAL LETTER U WITH CIRCUMFLEX */
    XK_Udiaeresis:                  0x00dc, /* U+00DC LATIN CAPITAL LETTER U WITH DIAERESIS */
    XK_Yacute:                      0x00dd, /* U+00DD LATIN CAPITAL LETTER Y WITH ACUTE */
    XK_THORN:                       0x00de, /* U+00DE LATIN CAPITAL LETTER THORN */
    XK_Thorn:                       0x00de, /* deprecated */
    XK_ssharp:                      0x00df, /* U+00DF LATIN SMALL LETTER SHARP S */
    XK_agrave:                      0x00e0, /* U+00E0 LATIN SMALL LETTER A WITH GRAVE */
    XK_aacute:                      0x00e1, /* U+00E1 LATIN SMALL LETTER A WITH ACUTE */
    XK_acircumflex:                 0x00e2, /* U+00E2 LATIN SMALL LETTER A WITH CIRCUMFLEX */
    XK_atilde:                      0x00e3, /* U+00E3 LATIN SMALL LETTER A WITH TILDE */
    XK_adiaeresis:                  0x00e4, /* U+00E4 LATIN SMALL LETTER A WITH DIAERESIS */
    XK_aring:                       0x00e5, /* U+00E5 LATIN SMALL LETTER A WITH RING ABOVE */
    XK_ae:                          0x00e6, /* U+00E6 LATIN SMALL LETTER AE */
    XK_ccedilla:                    0x00e7, /* U+00E7 LATIN SMALL LETTER C WITH CEDILLA */
    XK_egrave:                      0x00e8, /* U+00E8 LATIN SMALL LETTER E WITH GRAVE */
    XK_eacute:                      0x00e9, /* U+00E9 LATIN SMALL LETTER E WITH ACUTE */
    XK_ecircumflex:                 0x00ea, /* U+00EA LATIN SMALL LETTER E WITH CIRCUMFLEX */
    XK_ediaeresis:                  0x00eb, /* U+00EB LATIN SMALL LETTER E WITH DIAERESIS */
    XK_igrave:                      0x00ec, /* U+00EC LATIN SMALL LETTER I WITH GRAVE */
    XK_iacute:                      0x00ed, /* U+00ED LATIN SMALL LETTER I WITH ACUTE */
    XK_icircumflex:                 0x00ee, /* U+00EE LATIN SMALL LETTER I WITH CIRCUMFLEX */
    XK_idiaeresis:                  0x00ef, /* U+00EF LATIN SMALL LETTER I WITH DIAERESIS */
    XK_eth:                         0x00f0, /* U+00F0 LATIN SMALL LETTER ETH */
    XK_ntilde:                      0x00f1, /* U+00F1 LATIN SMALL LETTER N WITH TILDE */
    XK_ograve:                      0x00f2, /* U+00F2 LATIN SMALL LETTER O WITH GRAVE */
    XK_oacute:                      0x00f3, /* U+00F3 LATIN SMALL LETTER O WITH ACUTE */
    XK_ocircumflex:                 0x00f4, /* U+00F4 LATIN SMALL LETTER O WITH CIRCUMFLEX */
    XK_otilde:                      0x00f5, /* U+00F5 LATIN SMALL LETTER O WITH TILDE */
    XK_odiaeresis:                  0x00f6, /* U+00F6 LATIN SMALL LETTER O WITH DIAERESIS */
    XK_division:                    0x00f7, /* U+00F7 DIVISION SIGN */
    XK_oslash:                      0x00f8, /* U+00F8 LATIN SMALL LETTER O WITH STROKE */
    XK_ooblique:                    0x00f8, /* U+00F8 LATIN SMALL LETTER O WITH STROKE */
    XK_ugrave:                      0x00f9, /* U+00F9 LATIN SMALL LETTER U WITH GRAVE */
    XK_uacute:                      0x00fa, /* U+00FA LATIN SMALL LETTER U WITH ACUTE */
    XK_ucircumflex:                 0x00fb, /* U+00FB LATIN SMALL LETTER U WITH CIRCUMFLEX */
    XK_udiaeresis:                  0x00fc, /* U+00FC LATIN SMALL LETTER U WITH DIAERESIS */
    XK_yacute:                      0x00fd, /* U+00FD LATIN SMALL LETTER Y WITH ACUTE */
    XK_thorn:                       0x00fe, /* U+00FE LATIN SMALL LETTER THORN */
    XK_ydiaeresis:                  0x00ff, /* U+00FF LATIN SMALL LETTER Y WITH DIAERESIS */

    /*
     * Korean
     * Byte 3 = 0x0e
     */

    XK_Hangul:                      0xff31, /* Hangul start/stop(toggle) */
    XK_Hangul_Hanja:                0xff34, /* Start Hangul->Hanja Conversion */
    XK_Hangul_Jeonja:               0xff38, /* Jeonja mode */

    /*
     * XFree86 vendor specific keysyms.
     *
     * The XFree86 keysym range is 0x10080001 - 0x1008FFFF.
     */

    XF86XK_ModeLock:                0x1008FF01,
    XF86XK_MonBrightnessUp:         0x1008FF02,
    XF86XK_MonBrightnessDown:       0x1008FF03,
    XF86XK_KbdLightOnOff:           0x1008FF04,
    XF86XK_KbdBrightnessUp:         0x1008FF05,
    XF86XK_KbdBrightnessDown:       0x1008FF06,
    XF86XK_Standby:                 0x1008FF10,
    XF86XK_AudioLowerVolume:        0x1008FF11,
    XF86XK_AudioMute:               0x1008FF12,
    XF86XK_AudioRaiseVolume:        0x1008FF13,
    XF86XK_AudioPlay:               0x1008FF14,
    XF86XK_AudioStop:               0x1008FF15,
    XF86XK_AudioPrev:               0x1008FF16,
    XF86XK_AudioNext:               0x1008FF17,
    XF86XK_HomePage:                0x1008FF18,
    XF86XK_Mail:                    0x1008FF19,
    XF86XK_Start:                   0x1008FF1A,
    XF86XK_Search:                  0x1008FF1B,
    XF86XK_AudioRecord:             0x1008FF1C,
    XF86XK_Calculator:              0x1008FF1D,
    XF86XK_Memo:                    0x1008FF1E,
    XF86XK_ToDoList:                0x1008FF1F,
    XF86XK_Calendar:                0x1008FF20,
    XF86XK_PowerDown:               0x1008FF21,
    XF86XK_ContrastAdjust:          0x1008FF22,
    XF86XK_RockerUp:                0x1008FF23,
    XF86XK_RockerDown:              0x1008FF24,
    XF86XK_RockerEnter:             0x1008FF25,
    XF86XK_Back:                    0x1008FF26,
    XF86XK_Forward:                 0x1008FF27,
    XF86XK_Stop:                    0x1008FF28,
    XF86XK_Refresh:                 0x1008FF29,
    XF86XK_PowerOff:                0x1008FF2A,
    XF86XK_WakeUp:                  0x1008FF2B,
    XF86XK_Eject:                   0x1008FF2C,
    XF86XK_ScreenSaver:             0x1008FF2D,
    XF86XK_WWW:                     0x1008FF2E,
    XF86XK_Sleep:                   0x1008FF2F,
    XF86XK_Favorites:               0x1008FF30,
    XF86XK_AudioPause:              0x1008FF31,
    XF86XK_AudioMedia:              0x1008FF32,
    XF86XK_MyComputer:              0x1008FF33,
    XF86XK_VendorHome:              0x1008FF34,
    XF86XK_LightBulb:               0x1008FF35,
    XF86XK_Shop:                    0x1008FF36,
    XF86XK_History:                 0x1008FF37,
    XF86XK_OpenURL:                 0x1008FF38,
    XF86XK_AddFavorite:             0x1008FF39,
    XF86XK_HotLinks:                0x1008FF3A,
    XF86XK_BrightnessAdjust:        0x1008FF3B,
    XF86XK_Finance:                 0x1008FF3C,
    XF86XK_Community:               0x1008FF3D,
    XF86XK_AudioRewind:             0x1008FF3E,
    XF86XK_BackForward:             0x1008FF3F,
    XF86XK_Launch0:                 0x1008FF40,
    XF86XK_Launch1:                 0x1008FF41,
    XF86XK_Launch2:                 0x1008FF42,
    XF86XK_Launch3:                 0x1008FF43,
    XF86XK_Launch4:                 0x1008FF44,
    XF86XK_Launch5:                 0x1008FF45,
    XF86XK_Launch6:                 0x1008FF46,
    XF86XK_Launch7:                 0x1008FF47,
    XF86XK_Launch8:                 0x1008FF48,
    XF86XK_Launch9:                 0x1008FF49,
    XF86XK_LaunchA:                 0x1008FF4A,
    XF86XK_LaunchB:                 0x1008FF4B,
    XF86XK_LaunchC:                 0x1008FF4C,
    XF86XK_LaunchD:                 0x1008FF4D,
    XF86XK_LaunchE:                 0x1008FF4E,
    XF86XK_LaunchF:                 0x1008FF4F,
    XF86XK_ApplicationLeft:         0x1008FF50,
    XF86XK_ApplicationRight:        0x1008FF51,
    XF86XK_Book:                    0x1008FF52,
    XF86XK_CD:                      0x1008FF53,
    XF86XK_Calculater:              0x1008FF54,
    XF86XK_Clear:                   0x1008FF55,
    XF86XK_Close:                   0x1008FF56,
    XF86XK_Copy:                    0x1008FF57,
    XF86XK_Cut:                     0x1008FF58,
    XF86XK_Display:                 0x1008FF59,
    XF86XK_DOS:                     0x1008FF5A,
    XF86XK_Documents:               0x1008FF5B,
    XF86XK_Excel:                   0x1008FF5C,
    XF86XK_Explorer:                0x1008FF5D,
    XF86XK_Game:                    0x1008FF5E,
    XF86XK_Go:                      0x1008FF5F,
    XF86XK_iTouch:                  0x1008FF60,
    XF86XK_LogOff:                  0x1008FF61,
    XF86XK_Market:                  0x1008FF62,
    XF86XK_Meeting:                 0x1008FF63,
    XF86XK_MenuKB:                  0x1008FF65,
    XF86XK_MenuPB:                  0x1008FF66,
    XF86XK_MySites:                 0x1008FF67,
    XF86XK_New:                     0x1008FF68,
    XF86XK_News:                    0x1008FF69,
    XF86XK_OfficeHome:              0x1008FF6A,
    XF86XK_Open:                    0x1008FF6B,
    XF86XK_Option:                  0x1008FF6C,
    XF86XK_Paste:                   0x1008FF6D,
    XF86XK_Phone:                   0x1008FF6E,
    XF86XK_Q:                       0x1008FF70,
    XF86XK_Reply:                   0x1008FF72,
    XF86XK_Reload:                  0x1008FF73,
    XF86XK_RotateWindows:           0x1008FF74,
    XF86XK_RotationPB:              0x1008FF75,
    XF86XK_RotationKB:              0x1008FF76,
    XF86XK_Save:                    0x1008FF77,
    XF86XK_ScrollUp:                0x1008FF78,
    XF86XK_ScrollDown:              0x1008FF79,
    XF86XK_ScrollClick:             0x1008FF7A,
    XF86XK_Send:                    0x1008FF7B,
    XF86XK_Spell:                   0x1008FF7C,
    XF86XK_SplitScreen:             0x1008FF7D,
    XF86XK_Support:                 0x1008FF7E,
    XF86XK_TaskPane:                0x1008FF7F,
    XF86XK_Terminal:                0x1008FF80,
    XF86XK_Tools:                   0x1008FF81,
    XF86XK_Travel:                  0x1008FF82,
    XF86XK_UserPB:                  0x1008FF84,
    XF86XK_User1KB:                 0x1008FF85,
    XF86XK_User2KB:                 0x1008FF86,
    XF86XK_Video:                   0x1008FF87,
    XF86XK_WheelButton:             0x1008FF88,
    XF86XK_Word:                    0x1008FF89,
    XF86XK_Xfer:                    0x1008FF8A,
    XF86XK_ZoomIn:                  0x1008FF8B,
    XF86XK_ZoomOut:                 0x1008FF8C,
    XF86XK_Away:                    0x1008FF8D,
    XF86XK_Messenger:               0x1008FF8E,
    XF86XK_WebCam:                  0x1008FF8F,
    XF86XK_MailForward:             0x1008FF90,
    XF86XK_Pictures:                0x1008FF91,
    XF86XK_Music:                   0x1008FF92,
    XF86XK_Battery:                 0x1008FF93,
    XF86XK_Bluetooth:               0x1008FF94,
    XF86XK_WLAN:                    0x1008FF95,
    XF86XK_UWB:                     0x1008FF96,
    XF86XK_AudioForward:            0x1008FF97,
    XF86XK_AudioRepeat:             0x1008FF98,
    XF86XK_AudioRandomPlay:         0x1008FF99,
    XF86XK_Subtitle:                0x1008FF9A,
    XF86XK_AudioCycleTrack:         0x1008FF9B,
    XF86XK_CycleAngle:              0x1008FF9C,
    XF86XK_FrameBack:               0x1008FF9D,
    XF86XK_FrameForward:            0x1008FF9E,
    XF86XK_Time:                    0x1008FF9F,
    XF86XK_Select:                  0x1008FFA0,
    XF86XK_View:                    0x1008FFA1,
    XF86XK_TopMenu:                 0x1008FFA2,
    XF86XK_Red:                     0x1008FFA3,
    XF86XK_Green:                   0x1008FFA4,
    XF86XK_Yellow:                  0x1008FFA5,
    XF86XK_Blue:                    0x1008FFA6,
    XF86XK_Suspend:                 0x1008FFA7,
    XF86XK_Hibernate:               0x1008FFA8,
    XF86XK_TouchpadToggle:          0x1008FFA9,
    XF86XK_TouchpadOn:              0x1008FFB0,
    XF86XK_TouchpadOff:             0x1008FFB1,
    XF86XK_AudioMicMute:            0x1008FFB2,
    XF86XK_Switch_VT_1:             0x1008FE01,
    XF86XK_Switch_VT_2:             0x1008FE02,
    XF86XK_Switch_VT_3:             0x1008FE03,
    XF86XK_Switch_VT_4:             0x1008FE04,
    XF86XK_Switch_VT_5:             0x1008FE05,
    XF86XK_Switch_VT_6:             0x1008FE06,
    XF86XK_Switch_VT_7:             0x1008FE07,
    XF86XK_Switch_VT_8:             0x1008FE08,
    XF86XK_Switch_VT_9:             0x1008FE09,
    XF86XK_Switch_VT_10:            0x1008FE0A,
    XF86XK_Switch_VT_11:            0x1008FE0B,
    XF86XK_Switch_VT_12:            0x1008FE0C,
    XF86XK_Ungrab:                  0x1008FE20,
    XF86XK_ClearGrab:               0x1008FE21,
    XF86XK_Next_VMode:              0x1008FE22,
    XF86XK_Prev_VMode:              0x1008FE23,
    XF86XK_LogWindowTree:           0x1008FE24,
    XF86XK_LogGrabInfo:             0x1008FE25,
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keysymdef.js":
/*!***********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keysymdef.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * Mapping from Unicode codepoints to X11/RFB keysyms
 *
 * This file was automatically generated from keysymdef.h
 * DO NOT EDIT!
 */

/* Functions at the bottom */

var codepoints = {
    0x0100: 0x03c0, // XK_Amacron
    0x0101: 0x03e0, // XK_amacron
    0x0102: 0x01c3, // XK_Abreve
    0x0103: 0x01e3, // XK_abreve
    0x0104: 0x01a1, // XK_Aogonek
    0x0105: 0x01b1, // XK_aogonek
    0x0106: 0x01c6, // XK_Cacute
    0x0107: 0x01e6, // XK_cacute
    0x0108: 0x02c6, // XK_Ccircumflex
    0x0109: 0x02e6, // XK_ccircumflex
    0x010a: 0x02c5, // XK_Cabovedot
    0x010b: 0x02e5, // XK_cabovedot
    0x010c: 0x01c8, // XK_Ccaron
    0x010d: 0x01e8, // XK_ccaron
    0x010e: 0x01cf, // XK_Dcaron
    0x010f: 0x01ef, // XK_dcaron
    0x0110: 0x01d0, // XK_Dstroke
    0x0111: 0x01f0, // XK_dstroke
    0x0112: 0x03aa, // XK_Emacron
    0x0113: 0x03ba, // XK_emacron
    0x0116: 0x03cc, // XK_Eabovedot
    0x0117: 0x03ec, // XK_eabovedot
    0x0118: 0x01ca, // XK_Eogonek
    0x0119: 0x01ea, // XK_eogonek
    0x011a: 0x01cc, // XK_Ecaron
    0x011b: 0x01ec, // XK_ecaron
    0x011c: 0x02d8, // XK_Gcircumflex
    0x011d: 0x02f8, // XK_gcircumflex
    0x011e: 0x02ab, // XK_Gbreve
    0x011f: 0x02bb, // XK_gbreve
    0x0120: 0x02d5, // XK_Gabovedot
    0x0121: 0x02f5, // XK_gabovedot
    0x0122: 0x03ab, // XK_Gcedilla
    0x0123: 0x03bb, // XK_gcedilla
    0x0124: 0x02a6, // XK_Hcircumflex
    0x0125: 0x02b6, // XK_hcircumflex
    0x0126: 0x02a1, // XK_Hstroke
    0x0127: 0x02b1, // XK_hstroke
    0x0128: 0x03a5, // XK_Itilde
    0x0129: 0x03b5, // XK_itilde
    0x012a: 0x03cf, // XK_Imacron
    0x012b: 0x03ef, // XK_imacron
    0x012e: 0x03c7, // XK_Iogonek
    0x012f: 0x03e7, // XK_iogonek
    0x0130: 0x02a9, // XK_Iabovedot
    0x0131: 0x02b9, // XK_idotless
    0x0134: 0x02ac, // XK_Jcircumflex
    0x0135: 0x02bc, // XK_jcircumflex
    0x0136: 0x03d3, // XK_Kcedilla
    0x0137: 0x03f3, // XK_kcedilla
    0x0138: 0x03a2, // XK_kra
    0x0139: 0x01c5, // XK_Lacute
    0x013a: 0x01e5, // XK_lacute
    0x013b: 0x03a6, // XK_Lcedilla
    0x013c: 0x03b6, // XK_lcedilla
    0x013d: 0x01a5, // XK_Lcaron
    0x013e: 0x01b5, // XK_lcaron
    0x0141: 0x01a3, // XK_Lstroke
    0x0142: 0x01b3, // XK_lstroke
    0x0143: 0x01d1, // XK_Nacute
    0x0144: 0x01f1, // XK_nacute
    0x0145: 0x03d1, // XK_Ncedilla
    0x0146: 0x03f1, // XK_ncedilla
    0x0147: 0x01d2, // XK_Ncaron
    0x0148: 0x01f2, // XK_ncaron
    0x014a: 0x03bd, // XK_ENG
    0x014b: 0x03bf, // XK_eng
    0x014c: 0x03d2, // XK_Omacron
    0x014d: 0x03f2, // XK_omacron
    0x0150: 0x01d5, // XK_Odoubleacute
    0x0151: 0x01f5, // XK_odoubleacute
    0x0152: 0x13bc, // XK_OE
    0x0153: 0x13bd, // XK_oe
    0x0154: 0x01c0, // XK_Racute
    0x0155: 0x01e0, // XK_racute
    0x0156: 0x03a3, // XK_Rcedilla
    0x0157: 0x03b3, // XK_rcedilla
    0x0158: 0x01d8, // XK_Rcaron
    0x0159: 0x01f8, // XK_rcaron
    0x015a: 0x01a6, // XK_Sacute
    0x015b: 0x01b6, // XK_sacute
    0x015c: 0x02de, // XK_Scircumflex
    0x015d: 0x02fe, // XK_scircumflex
    0x015e: 0x01aa, // XK_Scedilla
    0x015f: 0x01ba, // XK_scedilla
    0x0160: 0x01a9, // XK_Scaron
    0x0161: 0x01b9, // XK_scaron
    0x0162: 0x01de, // XK_Tcedilla
    0x0163: 0x01fe, // XK_tcedilla
    0x0164: 0x01ab, // XK_Tcaron
    0x0165: 0x01bb, // XK_tcaron
    0x0166: 0x03ac, // XK_Tslash
    0x0167: 0x03bc, // XK_tslash
    0x0168: 0x03dd, // XK_Utilde
    0x0169: 0x03fd, // XK_utilde
    0x016a: 0x03de, // XK_Umacron
    0x016b: 0x03fe, // XK_umacron
    0x016c: 0x02dd, // XK_Ubreve
    0x016d: 0x02fd, // XK_ubreve
    0x016e: 0x01d9, // XK_Uring
    0x016f: 0x01f9, // XK_uring
    0x0170: 0x01db, // XK_Udoubleacute
    0x0171: 0x01fb, // XK_udoubleacute
    0x0172: 0x03d9, // XK_Uogonek
    0x0173: 0x03f9, // XK_uogonek
    0x0178: 0x13be, // XK_Ydiaeresis
    0x0179: 0x01ac, // XK_Zacute
    0x017a: 0x01bc, // XK_zacute
    0x017b: 0x01af, // XK_Zabovedot
    0x017c: 0x01bf, // XK_zabovedot
    0x017d: 0x01ae, // XK_Zcaron
    0x017e: 0x01be, // XK_zcaron
    0x0192: 0x08f6, // XK_function
    0x01d2: 0x10001d1, // XK_Ocaron
    0x02c7: 0x01b7, // XK_caron
    0x02d8: 0x01a2, // XK_breve
    0x02d9: 0x01ff, // XK_abovedot
    0x02db: 0x01b2, // XK_ogonek
    0x02dd: 0x01bd, // XK_doubleacute
    0x0385: 0x07ae, // XK_Greek_accentdieresis
    0x0386: 0x07a1, // XK_Greek_ALPHAaccent
    0x0388: 0x07a2, // XK_Greek_EPSILONaccent
    0x0389: 0x07a3, // XK_Greek_ETAaccent
    0x038a: 0x07a4, // XK_Greek_IOTAaccent
    0x038c: 0x07a7, // XK_Greek_OMICRONaccent
    0x038e: 0x07a8, // XK_Greek_UPSILONaccent
    0x038f: 0x07ab, // XK_Greek_OMEGAaccent
    0x0390: 0x07b6, // XK_Greek_iotaaccentdieresis
    0x0391: 0x07c1, // XK_Greek_ALPHA
    0x0392: 0x07c2, // XK_Greek_BETA
    0x0393: 0x07c3, // XK_Greek_GAMMA
    0x0394: 0x07c4, // XK_Greek_DELTA
    0x0395: 0x07c5, // XK_Greek_EPSILON
    0x0396: 0x07c6, // XK_Greek_ZETA
    0x0397: 0x07c7, // XK_Greek_ETA
    0x0398: 0x07c8, // XK_Greek_THETA
    0x0399: 0x07c9, // XK_Greek_IOTA
    0x039a: 0x07ca, // XK_Greek_KAPPA
    0x039b: 0x07cb, // XK_Greek_LAMDA
    0x039c: 0x07cc, // XK_Greek_MU
    0x039d: 0x07cd, // XK_Greek_NU
    0x039e: 0x07ce, // XK_Greek_XI
    0x039f: 0x07cf, // XK_Greek_OMICRON
    0x03a0: 0x07d0, // XK_Greek_PI
    0x03a1: 0x07d1, // XK_Greek_RHO
    0x03a3: 0x07d2, // XK_Greek_SIGMA
    0x03a4: 0x07d4, // XK_Greek_TAU
    0x03a5: 0x07d5, // XK_Greek_UPSILON
    0x03a6: 0x07d6, // XK_Greek_PHI
    0x03a7: 0x07d7, // XK_Greek_CHI
    0x03a8: 0x07d8, // XK_Greek_PSI
    0x03a9: 0x07d9, // XK_Greek_OMEGA
    0x03aa: 0x07a5, // XK_Greek_IOTAdieresis
    0x03ab: 0x07a9, // XK_Greek_UPSILONdieresis
    0x03ac: 0x07b1, // XK_Greek_alphaaccent
    0x03ad: 0x07b2, // XK_Greek_epsilonaccent
    0x03ae: 0x07b3, // XK_Greek_etaaccent
    0x03af: 0x07b4, // XK_Greek_iotaaccent
    0x03b0: 0x07ba, // XK_Greek_upsilonaccentdieresis
    0x03b1: 0x07e1, // XK_Greek_alpha
    0x03b2: 0x07e2, // XK_Greek_beta
    0x03b3: 0x07e3, // XK_Greek_gamma
    0x03b4: 0x07e4, // XK_Greek_delta
    0x03b5: 0x07e5, // XK_Greek_epsilon
    0x03b6: 0x07e6, // XK_Greek_zeta
    0x03b7: 0x07e7, // XK_Greek_eta
    0x03b8: 0x07e8, // XK_Greek_theta
    0x03b9: 0x07e9, // XK_Greek_iota
    0x03ba: 0x07ea, // XK_Greek_kappa
    0x03bb: 0x07eb, // XK_Greek_lamda
    0x03bc: 0x07ec, // XK_Greek_mu
    0x03bd: 0x07ed, // XK_Greek_nu
    0x03be: 0x07ee, // XK_Greek_xi
    0x03bf: 0x07ef, // XK_Greek_omicron
    0x03c0: 0x07f0, // XK_Greek_pi
    0x03c1: 0x07f1, // XK_Greek_rho
    0x03c2: 0x07f3, // XK_Greek_finalsmallsigma
    0x03c3: 0x07f2, // XK_Greek_sigma
    0x03c4: 0x07f4, // XK_Greek_tau
    0x03c5: 0x07f5, // XK_Greek_upsilon
    0x03c6: 0x07f6, // XK_Greek_phi
    0x03c7: 0x07f7, // XK_Greek_chi
    0x03c8: 0x07f8, // XK_Greek_psi
    0x03c9: 0x07f9, // XK_Greek_omega
    0x03ca: 0x07b5, // XK_Greek_iotadieresis
    0x03cb: 0x07b9, // XK_Greek_upsilondieresis
    0x03cc: 0x07b7, // XK_Greek_omicronaccent
    0x03cd: 0x07b8, // XK_Greek_upsilonaccent
    0x03ce: 0x07bb, // XK_Greek_omegaaccent
    0x0401: 0x06b3, // XK_Cyrillic_IO
    0x0402: 0x06b1, // XK_Serbian_DJE
    0x0403: 0x06b2, // XK_Macedonia_GJE
    0x0404: 0x06b4, // XK_Ukrainian_IE
    0x0405: 0x06b5, // XK_Macedonia_DSE
    0x0406: 0x06b6, // XK_Ukrainian_I
    0x0407: 0x06b7, // XK_Ukrainian_YI
    0x0408: 0x06b8, // XK_Cyrillic_JE
    0x0409: 0x06b9, // XK_Cyrillic_LJE
    0x040a: 0x06ba, // XK_Cyrillic_NJE
    0x040b: 0x06bb, // XK_Serbian_TSHE
    0x040c: 0x06bc, // XK_Macedonia_KJE
    0x040e: 0x06be, // XK_Byelorussian_SHORTU
    0x040f: 0x06bf, // XK_Cyrillic_DZHE
    0x0410: 0x06e1, // XK_Cyrillic_A
    0x0411: 0x06e2, // XK_Cyrillic_BE
    0x0412: 0x06f7, // XK_Cyrillic_VE
    0x0413: 0x06e7, // XK_Cyrillic_GHE
    0x0414: 0x06e4, // XK_Cyrillic_DE
    0x0415: 0x06e5, // XK_Cyrillic_IE
    0x0416: 0x06f6, // XK_Cyrillic_ZHE
    0x0417: 0x06fa, // XK_Cyrillic_ZE
    0x0418: 0x06e9, // XK_Cyrillic_I
    0x0419: 0x06ea, // XK_Cyrillic_SHORTI
    0x041a: 0x06eb, // XK_Cyrillic_KA
    0x041b: 0x06ec, // XK_Cyrillic_EL
    0x041c: 0x06ed, // XK_Cyrillic_EM
    0x041d: 0x06ee, // XK_Cyrillic_EN
    0x041e: 0x06ef, // XK_Cyrillic_O
    0x041f: 0x06f0, // XK_Cyrillic_PE
    0x0420: 0x06f2, // XK_Cyrillic_ER
    0x0421: 0x06f3, // XK_Cyrillic_ES
    0x0422: 0x06f4, // XK_Cyrillic_TE
    0x0423: 0x06f5, // XK_Cyrillic_U
    0x0424: 0x06e6, // XK_Cyrillic_EF
    0x0425: 0x06e8, // XK_Cyrillic_HA
    0x0426: 0x06e3, // XK_Cyrillic_TSE
    0x0427: 0x06fe, // XK_Cyrillic_CHE
    0x0428: 0x06fb, // XK_Cyrillic_SHA
    0x0429: 0x06fd, // XK_Cyrillic_SHCHA
    0x042a: 0x06ff, // XK_Cyrillic_HARDSIGN
    0x042b: 0x06f9, // XK_Cyrillic_YERU
    0x042c: 0x06f8, // XK_Cyrillic_SOFTSIGN
    0x042d: 0x06fc, // XK_Cyrillic_E
    0x042e: 0x06e0, // XK_Cyrillic_YU
    0x042f: 0x06f1, // XK_Cyrillic_YA
    0x0430: 0x06c1, // XK_Cyrillic_a
    0x0431: 0x06c2, // XK_Cyrillic_be
    0x0432: 0x06d7, // XK_Cyrillic_ve
    0x0433: 0x06c7, // XK_Cyrillic_ghe
    0x0434: 0x06c4, // XK_Cyrillic_de
    0x0435: 0x06c5, // XK_Cyrillic_ie
    0x0436: 0x06d6, // XK_Cyrillic_zhe
    0x0437: 0x06da, // XK_Cyrillic_ze
    0x0438: 0x06c9, // XK_Cyrillic_i
    0x0439: 0x06ca, // XK_Cyrillic_shorti
    0x043a: 0x06cb, // XK_Cyrillic_ka
    0x043b: 0x06cc, // XK_Cyrillic_el
    0x043c: 0x06cd, // XK_Cyrillic_em
    0x043d: 0x06ce, // XK_Cyrillic_en
    0x043e: 0x06cf, // XK_Cyrillic_o
    0x043f: 0x06d0, // XK_Cyrillic_pe
    0x0440: 0x06d2, // XK_Cyrillic_er
    0x0441: 0x06d3, // XK_Cyrillic_es
    0x0442: 0x06d4, // XK_Cyrillic_te
    0x0443: 0x06d5, // XK_Cyrillic_u
    0x0444: 0x06c6, // XK_Cyrillic_ef
    0x0445: 0x06c8, // XK_Cyrillic_ha
    0x0446: 0x06c3, // XK_Cyrillic_tse
    0x0447: 0x06de, // XK_Cyrillic_che
    0x0448: 0x06db, // XK_Cyrillic_sha
    0x0449: 0x06dd, // XK_Cyrillic_shcha
    0x044a: 0x06df, // XK_Cyrillic_hardsign
    0x044b: 0x06d9, // XK_Cyrillic_yeru
    0x044c: 0x06d8, // XK_Cyrillic_softsign
    0x044d: 0x06dc, // XK_Cyrillic_e
    0x044e: 0x06c0, // XK_Cyrillic_yu
    0x044f: 0x06d1, // XK_Cyrillic_ya
    0x0451: 0x06a3, // XK_Cyrillic_io
    0x0452: 0x06a1, // XK_Serbian_dje
    0x0453: 0x06a2, // XK_Macedonia_gje
    0x0454: 0x06a4, // XK_Ukrainian_ie
    0x0455: 0x06a5, // XK_Macedonia_dse
    0x0456: 0x06a6, // XK_Ukrainian_i
    0x0457: 0x06a7, // XK_Ukrainian_yi
    0x0458: 0x06a8, // XK_Cyrillic_je
    0x0459: 0x06a9, // XK_Cyrillic_lje
    0x045a: 0x06aa, // XK_Cyrillic_nje
    0x045b: 0x06ab, // XK_Serbian_tshe
    0x045c: 0x06ac, // XK_Macedonia_kje
    0x045e: 0x06ae, // XK_Byelorussian_shortu
    0x045f: 0x06af, // XK_Cyrillic_dzhe
    0x0490: 0x06bd, // XK_Ukrainian_GHE_WITH_UPTURN
    0x0491: 0x06ad, // XK_Ukrainian_ghe_with_upturn
    0x05d0: 0x0ce0, // XK_hebrew_aleph
    0x05d1: 0x0ce1, // XK_hebrew_bet
    0x05d2: 0x0ce2, // XK_hebrew_gimel
    0x05d3: 0x0ce3, // XK_hebrew_dalet
    0x05d4: 0x0ce4, // XK_hebrew_he
    0x05d5: 0x0ce5, // XK_hebrew_waw
    0x05d6: 0x0ce6, // XK_hebrew_zain
    0x05d7: 0x0ce7, // XK_hebrew_chet
    0x05d8: 0x0ce8, // XK_hebrew_tet
    0x05d9: 0x0ce9, // XK_hebrew_yod
    0x05da: 0x0cea, // XK_hebrew_finalkaph
    0x05db: 0x0ceb, // XK_hebrew_kaph
    0x05dc: 0x0cec, // XK_hebrew_lamed
    0x05dd: 0x0ced, // XK_hebrew_finalmem
    0x05de: 0x0cee, // XK_hebrew_mem
    0x05df: 0x0cef, // XK_hebrew_finalnun
    0x05e0: 0x0cf0, // XK_hebrew_nun
    0x05e1: 0x0cf1, // XK_hebrew_samech
    0x05e2: 0x0cf2, // XK_hebrew_ayin
    0x05e3: 0x0cf3, // XK_hebrew_finalpe
    0x05e4: 0x0cf4, // XK_hebrew_pe
    0x05e5: 0x0cf5, // XK_hebrew_finalzade
    0x05e6: 0x0cf6, // XK_hebrew_zade
    0x05e7: 0x0cf7, // XK_hebrew_qoph
    0x05e8: 0x0cf8, // XK_hebrew_resh
    0x05e9: 0x0cf9, // XK_hebrew_shin
    0x05ea: 0x0cfa, // XK_hebrew_taw
    0x060c: 0x05ac, // XK_Arabic_comma
    0x061b: 0x05bb, // XK_Arabic_semicolon
    0x061f: 0x05bf, // XK_Arabic_question_mark
    0x0621: 0x05c1, // XK_Arabic_hamza
    0x0622: 0x05c2, // XK_Arabic_maddaonalef
    0x0623: 0x05c3, // XK_Arabic_hamzaonalef
    0x0624: 0x05c4, // XK_Arabic_hamzaonwaw
    0x0625: 0x05c5, // XK_Arabic_hamzaunderalef
    0x0626: 0x05c6, // XK_Arabic_hamzaonyeh
    0x0627: 0x05c7, // XK_Arabic_alef
    0x0628: 0x05c8, // XK_Arabic_beh
    0x0629: 0x05c9, // XK_Arabic_tehmarbuta
    0x062a: 0x05ca, // XK_Arabic_teh
    0x062b: 0x05cb, // XK_Arabic_theh
    0x062c: 0x05cc, // XK_Arabic_jeem
    0x062d: 0x05cd, // XK_Arabic_hah
    0x062e: 0x05ce, // XK_Arabic_khah
    0x062f: 0x05cf, // XK_Arabic_dal
    0x0630: 0x05d0, // XK_Arabic_thal
    0x0631: 0x05d1, // XK_Arabic_ra
    0x0632: 0x05d2, // XK_Arabic_zain
    0x0633: 0x05d3, // XK_Arabic_seen
    0x0634: 0x05d4, // XK_Arabic_sheen
    0x0635: 0x05d5, // XK_Arabic_sad
    0x0636: 0x05d6, // XK_Arabic_dad
    0x0637: 0x05d7, // XK_Arabic_tah
    0x0638: 0x05d8, // XK_Arabic_zah
    0x0639: 0x05d9, // XK_Arabic_ain
    0x063a: 0x05da, // XK_Arabic_ghain
    0x0640: 0x05e0, // XK_Arabic_tatweel
    0x0641: 0x05e1, // XK_Arabic_feh
    0x0642: 0x05e2, // XK_Arabic_qaf
    0x0643: 0x05e3, // XK_Arabic_kaf
    0x0644: 0x05e4, // XK_Arabic_lam
    0x0645: 0x05e5, // XK_Arabic_meem
    0x0646: 0x05e6, // XK_Arabic_noon
    0x0647: 0x05e7, // XK_Arabic_ha
    0x0648: 0x05e8, // XK_Arabic_waw
    0x0649: 0x05e9, // XK_Arabic_alefmaksura
    0x064a: 0x05ea, // XK_Arabic_yeh
    0x064b: 0x05eb, // XK_Arabic_fathatan
    0x064c: 0x05ec, // XK_Arabic_dammatan
    0x064d: 0x05ed, // XK_Arabic_kasratan
    0x064e: 0x05ee, // XK_Arabic_fatha
    0x064f: 0x05ef, // XK_Arabic_damma
    0x0650: 0x05f0, // XK_Arabic_kasra
    0x0651: 0x05f1, // XK_Arabic_shadda
    0x0652: 0x05f2, // XK_Arabic_sukun
    0x0e01: 0x0da1, // XK_Thai_kokai
    0x0e02: 0x0da2, // XK_Thai_khokhai
    0x0e03: 0x0da3, // XK_Thai_khokhuat
    0x0e04: 0x0da4, // XK_Thai_khokhwai
    0x0e05: 0x0da5, // XK_Thai_khokhon
    0x0e06: 0x0da6, // XK_Thai_khorakhang
    0x0e07: 0x0da7, // XK_Thai_ngongu
    0x0e08: 0x0da8, // XK_Thai_chochan
    0x0e09: 0x0da9, // XK_Thai_choching
    0x0e0a: 0x0daa, // XK_Thai_chochang
    0x0e0b: 0x0dab, // XK_Thai_soso
    0x0e0c: 0x0dac, // XK_Thai_chochoe
    0x0e0d: 0x0dad, // XK_Thai_yoying
    0x0e0e: 0x0dae, // XK_Thai_dochada
    0x0e0f: 0x0daf, // XK_Thai_topatak
    0x0e10: 0x0db0, // XK_Thai_thothan
    0x0e11: 0x0db1, // XK_Thai_thonangmontho
    0x0e12: 0x0db2, // XK_Thai_thophuthao
    0x0e13: 0x0db3, // XK_Thai_nonen
    0x0e14: 0x0db4, // XK_Thai_dodek
    0x0e15: 0x0db5, // XK_Thai_totao
    0x0e16: 0x0db6, // XK_Thai_thothung
    0x0e17: 0x0db7, // XK_Thai_thothahan
    0x0e18: 0x0db8, // XK_Thai_thothong
    0x0e19: 0x0db9, // XK_Thai_nonu
    0x0e1a: 0x0dba, // XK_Thai_bobaimai
    0x0e1b: 0x0dbb, // XK_Thai_popla
    0x0e1c: 0x0dbc, // XK_Thai_phophung
    0x0e1d: 0x0dbd, // XK_Thai_fofa
    0x0e1e: 0x0dbe, // XK_Thai_phophan
    0x0e1f: 0x0dbf, // XK_Thai_fofan
    0x0e20: 0x0dc0, // XK_Thai_phosamphao
    0x0e21: 0x0dc1, // XK_Thai_moma
    0x0e22: 0x0dc2, // XK_Thai_yoyak
    0x0e23: 0x0dc3, // XK_Thai_rorua
    0x0e24: 0x0dc4, // XK_Thai_ru
    0x0e25: 0x0dc5, // XK_Thai_loling
    0x0e26: 0x0dc6, // XK_Thai_lu
    0x0e27: 0x0dc7, // XK_Thai_wowaen
    0x0e28: 0x0dc8, // XK_Thai_sosala
    0x0e29: 0x0dc9, // XK_Thai_sorusi
    0x0e2a: 0x0dca, // XK_Thai_sosua
    0x0e2b: 0x0dcb, // XK_Thai_hohip
    0x0e2c: 0x0dcc, // XK_Thai_lochula
    0x0e2d: 0x0dcd, // XK_Thai_oang
    0x0e2e: 0x0dce, // XK_Thai_honokhuk
    0x0e2f: 0x0dcf, // XK_Thai_paiyannoi
    0x0e30: 0x0dd0, // XK_Thai_saraa
    0x0e31: 0x0dd1, // XK_Thai_maihanakat
    0x0e32: 0x0dd2, // XK_Thai_saraaa
    0x0e33: 0x0dd3, // XK_Thai_saraam
    0x0e34: 0x0dd4, // XK_Thai_sarai
    0x0e35: 0x0dd5, // XK_Thai_saraii
    0x0e36: 0x0dd6, // XK_Thai_saraue
    0x0e37: 0x0dd7, // XK_Thai_sarauee
    0x0e38: 0x0dd8, // XK_Thai_sarau
    0x0e39: 0x0dd9, // XK_Thai_sarauu
    0x0e3a: 0x0dda, // XK_Thai_phinthu
    0x0e3f: 0x0ddf, // XK_Thai_baht
    0x0e40: 0x0de0, // XK_Thai_sarae
    0x0e41: 0x0de1, // XK_Thai_saraae
    0x0e42: 0x0de2, // XK_Thai_sarao
    0x0e43: 0x0de3, // XK_Thai_saraaimaimuan
    0x0e44: 0x0de4, // XK_Thai_saraaimaimalai
    0x0e45: 0x0de5, // XK_Thai_lakkhangyao
    0x0e46: 0x0de6, // XK_Thai_maiyamok
    0x0e47: 0x0de7, // XK_Thai_maitaikhu
    0x0e48: 0x0de8, // XK_Thai_maiek
    0x0e49: 0x0de9, // XK_Thai_maitho
    0x0e4a: 0x0dea, // XK_Thai_maitri
    0x0e4b: 0x0deb, // XK_Thai_maichattawa
    0x0e4c: 0x0dec, // XK_Thai_thanthakhat
    0x0e4d: 0x0ded, // XK_Thai_nikhahit
    0x0e50: 0x0df0, // XK_Thai_leksun
    0x0e51: 0x0df1, // XK_Thai_leknung
    0x0e52: 0x0df2, // XK_Thai_leksong
    0x0e53: 0x0df3, // XK_Thai_leksam
    0x0e54: 0x0df4, // XK_Thai_leksi
    0x0e55: 0x0df5, // XK_Thai_lekha
    0x0e56: 0x0df6, // XK_Thai_lekhok
    0x0e57: 0x0df7, // XK_Thai_lekchet
    0x0e58: 0x0df8, // XK_Thai_lekpaet
    0x0e59: 0x0df9, // XK_Thai_lekkao
    0x2002: 0x0aa2, // XK_enspace
    0x2003: 0x0aa1, // XK_emspace
    0x2004: 0x0aa3, // XK_em3space
    0x2005: 0x0aa4, // XK_em4space
    0x2007: 0x0aa5, // XK_digitspace
    0x2008: 0x0aa6, // XK_punctspace
    0x2009: 0x0aa7, // XK_thinspace
    0x200a: 0x0aa8, // XK_hairspace
    0x2012: 0x0abb, // XK_figdash
    0x2013: 0x0aaa, // XK_endash
    0x2014: 0x0aa9, // XK_emdash
    0x2015: 0x07af, // XK_Greek_horizbar
    0x2017: 0x0cdf, // XK_hebrew_doublelowline
    0x2018: 0x0ad0, // XK_leftsinglequotemark
    0x2019: 0x0ad1, // XK_rightsinglequotemark
    0x201a: 0x0afd, // XK_singlelowquotemark
    0x201c: 0x0ad2, // XK_leftdoublequotemark
    0x201d: 0x0ad3, // XK_rightdoublequotemark
    0x201e: 0x0afe, // XK_doublelowquotemark
    0x2020: 0x0af1, // XK_dagger
    0x2021: 0x0af2, // XK_doubledagger
    0x2022: 0x0ae6, // XK_enfilledcircbullet
    0x2025: 0x0aaf, // XK_doubbaselinedot
    0x2026: 0x0aae, // XK_ellipsis
    0x2030: 0x0ad5, // XK_permille
    0x2032: 0x0ad6, // XK_minutes
    0x2033: 0x0ad7, // XK_seconds
    0x2038: 0x0afc, // XK_caret
    0x203e: 0x047e, // XK_overline
    0x20a9: 0x0eff, // XK_Korean_Won
    0x20ac: 0x20ac, // XK_EuroSign
    0x2105: 0x0ab8, // XK_careof
    0x2116: 0x06b0, // XK_numerosign
    0x2117: 0x0afb, // XK_phonographcopyright
    0x211e: 0x0ad4, // XK_prescription
    0x2122: 0x0ac9, // XK_trademark
    0x2153: 0x0ab0, // XK_onethird
    0x2154: 0x0ab1, // XK_twothirds
    0x2155: 0x0ab2, // XK_onefifth
    0x2156: 0x0ab3, // XK_twofifths
    0x2157: 0x0ab4, // XK_threefifths
    0x2158: 0x0ab5, // XK_fourfifths
    0x2159: 0x0ab6, // XK_onesixth
    0x215a: 0x0ab7, // XK_fivesixths
    0x215b: 0x0ac3, // XK_oneeighth
    0x215c: 0x0ac4, // XK_threeeighths
    0x215d: 0x0ac5, // XK_fiveeighths
    0x215e: 0x0ac6, // XK_seveneighths
    0x2190: 0x08fb, // XK_leftarrow
    0x2191: 0x08fc, // XK_uparrow
    0x2192: 0x08fd, // XK_rightarrow
    0x2193: 0x08fe, // XK_downarrow
    0x21d2: 0x08ce, // XK_implies
    0x21d4: 0x08cd, // XK_ifonlyif
    0x2202: 0x08ef, // XK_partialderivative
    0x2207: 0x08c5, // XK_nabla
    0x2218: 0x0bca, // XK_jot
    0x221a: 0x08d6, // XK_radical
    0x221d: 0x08c1, // XK_variation
    0x221e: 0x08c2, // XK_infinity
    0x2227: 0x08de, // XK_logicaland
    0x2228: 0x08df, // XK_logicalor
    0x2229: 0x08dc, // XK_intersection
    0x222a: 0x08dd, // XK_union
    0x222b: 0x08bf, // XK_integral
    0x2234: 0x08c0, // XK_therefore
    0x223c: 0x08c8, // XK_approximate
    0x2243: 0x08c9, // XK_similarequal
    0x2245: 0x1002248, // XK_approxeq
    0x2260: 0x08bd, // XK_notequal
    0x2261: 0x08cf, // XK_identical
    0x2264: 0x08bc, // XK_lessthanequal
    0x2265: 0x08be, // XK_greaterthanequal
    0x2282: 0x08da, // XK_includedin
    0x2283: 0x08db, // XK_includes
    0x22a2: 0x0bfc, // XK_righttack
    0x22a3: 0x0bdc, // XK_lefttack
    0x22a4: 0x0bc2, // XK_downtack
    0x22a5: 0x0bce, // XK_uptack
    0x2308: 0x0bd3, // XK_upstile
    0x230a: 0x0bc4, // XK_downstile
    0x2315: 0x0afa, // XK_telephonerecorder
    0x2320: 0x08a4, // XK_topintegral
    0x2321: 0x08a5, // XK_botintegral
    0x2395: 0x0bcc, // XK_quad
    0x239b: 0x08ab, // XK_topleftparens
    0x239d: 0x08ac, // XK_botleftparens
    0x239e: 0x08ad, // XK_toprightparens
    0x23a0: 0x08ae, // XK_botrightparens
    0x23a1: 0x08a7, // XK_topleftsqbracket
    0x23a3: 0x08a8, // XK_botleftsqbracket
    0x23a4: 0x08a9, // XK_toprightsqbracket
    0x23a6: 0x08aa, // XK_botrightsqbracket
    0x23a8: 0x08af, // XK_leftmiddlecurlybrace
    0x23ac: 0x08b0, // XK_rightmiddlecurlybrace
    0x23b7: 0x08a1, // XK_leftradical
    0x23ba: 0x09ef, // XK_horizlinescan1
    0x23bb: 0x09f0, // XK_horizlinescan3
    0x23bc: 0x09f2, // XK_horizlinescan7
    0x23bd: 0x09f3, // XK_horizlinescan9
    0x2409: 0x09e2, // XK_ht
    0x240a: 0x09e5, // XK_lf
    0x240b: 0x09e9, // XK_vt
    0x240c: 0x09e3, // XK_ff
    0x240d: 0x09e4, // XK_cr
    0x2423: 0x0aac, // XK_signifblank
    0x2424: 0x09e8, // XK_nl
    0x2500: 0x08a3, // XK_horizconnector
    0x2502: 0x08a6, // XK_vertconnector
    0x250c: 0x08a2, // XK_topleftradical
    0x2510: 0x09eb, // XK_uprightcorner
    0x2514: 0x09ed, // XK_lowleftcorner
    0x2518: 0x09ea, // XK_lowrightcorner
    0x251c: 0x09f4, // XK_leftt
    0x2524: 0x09f5, // XK_rightt
    0x252c: 0x09f7, // XK_topt
    0x2534: 0x09f6, // XK_bott
    0x253c: 0x09ee, // XK_crossinglines
    0x2592: 0x09e1, // XK_checkerboard
    0x25aa: 0x0ae7, // XK_enfilledsqbullet
    0x25ab: 0x0ae1, // XK_enopensquarebullet
    0x25ac: 0x0adb, // XK_filledrectbullet
    0x25ad: 0x0ae2, // XK_openrectbullet
    0x25ae: 0x0adf, // XK_emfilledrect
    0x25af: 0x0acf, // XK_emopenrectangle
    0x25b2: 0x0ae8, // XK_filledtribulletup
    0x25b3: 0x0ae3, // XK_opentribulletup
    0x25b6: 0x0add, // XK_filledrighttribullet
    0x25b7: 0x0acd, // XK_rightopentriangle
    0x25bc: 0x0ae9, // XK_filledtribulletdown
    0x25bd: 0x0ae4, // XK_opentribulletdown
    0x25c0: 0x0adc, // XK_filledlefttribullet
    0x25c1: 0x0acc, // XK_leftopentriangle
    0x25c6: 0x09e0, // XK_soliddiamond
    0x25cb: 0x0ace, // XK_emopencircle
    0x25cf: 0x0ade, // XK_emfilledcircle
    0x25e6: 0x0ae0, // XK_enopencircbullet
    0x2606: 0x0ae5, // XK_openstar
    0x260e: 0x0af9, // XK_telephone
    0x2613: 0x0aca, // XK_signaturemark
    0x261c: 0x0aea, // XK_leftpointer
    0x261e: 0x0aeb, // XK_rightpointer
    0x2640: 0x0af8, // XK_femalesymbol
    0x2642: 0x0af7, // XK_malesymbol
    0x2663: 0x0aec, // XK_club
    0x2665: 0x0aee, // XK_heart
    0x2666: 0x0aed, // XK_diamond
    0x266d: 0x0af6, // XK_musicalflat
    0x266f: 0x0af5, // XK_musicalsharp
    0x2713: 0x0af3, // XK_checkmark
    0x2717: 0x0af4, // XK_ballotcross
    0x271d: 0x0ad9, // XK_latincross
    0x2720: 0x0af0, // XK_maltesecross
    0x27e8: 0x0abc, // XK_leftanglebracket
    0x27e9: 0x0abe, // XK_rightanglebracket
    0x3001: 0x04a4, // XK_kana_comma
    0x3002: 0x04a1, // XK_kana_fullstop
    0x300c: 0x04a2, // XK_kana_openingbracket
    0x300d: 0x04a3, // XK_kana_closingbracket
    0x309b: 0x04de, // XK_voicedsound
    0x309c: 0x04df, // XK_semivoicedsound
    0x30a1: 0x04a7, // XK_kana_a
    0x30a2: 0x04b1, // XK_kana_A
    0x30a3: 0x04a8, // XK_kana_i
    0x30a4: 0x04b2, // XK_kana_I
    0x30a5: 0x04a9, // XK_kana_u
    0x30a6: 0x04b3, // XK_kana_U
    0x30a7: 0x04aa, // XK_kana_e
    0x30a8: 0x04b4, // XK_kana_E
    0x30a9: 0x04ab, // XK_kana_o
    0x30aa: 0x04b5, // XK_kana_O
    0x30ab: 0x04b6, // XK_kana_KA
    0x30ad: 0x04b7, // XK_kana_KI
    0x30af: 0x04b8, // XK_kana_KU
    0x30b1: 0x04b9, // XK_kana_KE
    0x30b3: 0x04ba, // XK_kana_KO
    0x30b5: 0x04bb, // XK_kana_SA
    0x30b7: 0x04bc, // XK_kana_SHI
    0x30b9: 0x04bd, // XK_kana_SU
    0x30bb: 0x04be, // XK_kana_SE
    0x30bd: 0x04bf, // XK_kana_SO
    0x30bf: 0x04c0, // XK_kana_TA
    0x30c1: 0x04c1, // XK_kana_CHI
    0x30c3: 0x04af, // XK_kana_tsu
    0x30c4: 0x04c2, // XK_kana_TSU
    0x30c6: 0x04c3, // XK_kana_TE
    0x30c8: 0x04c4, // XK_kana_TO
    0x30ca: 0x04c5, // XK_kana_NA
    0x30cb: 0x04c6, // XK_kana_NI
    0x30cc: 0x04c7, // XK_kana_NU
    0x30cd: 0x04c8, // XK_kana_NE
    0x30ce: 0x04c9, // XK_kana_NO
    0x30cf: 0x04ca, // XK_kana_HA
    0x30d2: 0x04cb, // XK_kana_HI
    0x30d5: 0x04cc, // XK_kana_FU
    0x30d8: 0x04cd, // XK_kana_HE
    0x30db: 0x04ce, // XK_kana_HO
    0x30de: 0x04cf, // XK_kana_MA
    0x30df: 0x04d0, // XK_kana_MI
    0x30e0: 0x04d1, // XK_kana_MU
    0x30e1: 0x04d2, // XK_kana_ME
    0x30e2: 0x04d3, // XK_kana_MO
    0x30e3: 0x04ac, // XK_kana_ya
    0x30e4: 0x04d4, // XK_kana_YA
    0x30e5: 0x04ad, // XK_kana_yu
    0x30e6: 0x04d5, // XK_kana_YU
    0x30e7: 0x04ae, // XK_kana_yo
    0x30e8: 0x04d6, // XK_kana_YO
    0x30e9: 0x04d7, // XK_kana_RA
    0x30ea: 0x04d8, // XK_kana_RI
    0x30eb: 0x04d9, // XK_kana_RU
    0x30ec: 0x04da, // XK_kana_RE
    0x30ed: 0x04db, // XK_kana_RO
    0x30ef: 0x04dc, // XK_kana_WA
    0x30f2: 0x04a6, // XK_kana_WO
    0x30f3: 0x04dd, // XK_kana_N
    0x30fb: 0x04a5, // XK_kana_conjunctive
    0x30fc: 0x04b0, // XK_prolongedsound
};

/* harmony default export */ __webpack_exports__["default"] = ({
    lookup : function(u) {
        // Latin-1 is one-to-one mapping
        if ((u >= 0x20) && (u <= 0xff)) {
            return u;
        }

        // Lookup table (fairly random)
        var keysym = codepoints[u];
        if (keysym !== undefined) {
            return keysym;
        }

        // General mapping as final fallback
        return 0x01000000 | u;
    },
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/mouse.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/mouse.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Mouse; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/* harmony import */ var _util_events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/events.js */ "./node_modules/@novnc/novnc/core/util/events.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2013 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */





var WHEEL_STEP = 10; // Delta threshold for a mouse wheel step
var WHEEL_STEP_TIMEOUT = 50; // ms
var WHEEL_LINE_HEIGHT = 19;

function Mouse(target) {
    this._target = target || document;

    this._doubleClickTimer = null;
    this._lastTouchPos = null;

    this._pos = null;
    this._wheelStepXTimer = null;
    this._wheelStepYTimer = null;
    this._accumulatedWheelDeltaX = 0;
    this._accumulatedWheelDeltaY = 0;

    this._eventHandlers = {
        'mousedown': this._handleMouseDown.bind(this),
        'mouseup': this._handleMouseUp.bind(this),
        'mousemove': this._handleMouseMove.bind(this),
        'mousewheel': this._handleMouseWheel.bind(this),
        'mousedisable': this._handleMouseDisable.bind(this)
    };
};

Mouse.prototype = {
    // ===== PROPERTIES =====

    touchButton: 1,                 // Button mask (1, 2, 4) for touch devices (0 means ignore clicks)

    // ===== EVENT HANDLERS =====

    onmousebutton: function () {},  // Handler for mouse button click/release
    onmousemove: function () {},    // Handler for mouse movement

    // ===== PRIVATE METHODS =====

    _resetDoubleClickTimer: function () {
        this._doubleClickTimer = null;
    },

    _handleMouseButton: function (e, down) {
        this._updateMousePosition(e);
        var pos = this._pos;

        var bmask;
        if (e.touches || e.changedTouches) {
            // Touch device

            // When two touches occur within 500 ms of each other and are
            // close enough together a double click is triggered.
            if (down == 1) {
                if (this._doubleClickTimer === null) {
                    this._lastTouchPos = pos;
                } else {
                    clearTimeout(this._doubleClickTimer);

                    // When the distance between the two touches is small enough
                    // force the position of the latter touch to the position of
                    // the first.

                    var xs = this._lastTouchPos.x - pos.x;
                    var ys = this._lastTouchPos.y - pos.y;
                    var d = Math.sqrt((xs * xs) + (ys * ys));

                    // The goal is to trigger on a certain physical width, the
                    // devicePixelRatio brings us a bit closer but is not optimal.
                    var threshold = 20 * (window.devicePixelRatio || 1);
                    if (d < threshold) {
                        pos = this._lastTouchPos;
                    }
                }
                this._doubleClickTimer = setTimeout(this._resetDoubleClickTimer.bind(this), 500);
            }
            bmask = this.touchButton;
            // If bmask is set
        } else if (e.which) {
            /* everything except IE */
            bmask = 1 << e.button;
        } else {
            /* IE including 9 */
            bmask = (e.button & 0x1) +      // Left
                    (e.button & 0x2) * 2 +  // Right
                    (e.button & 0x4) / 2;   // Middle
        }

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("onmousebutton " + (down ? "down" : "up") +
                  ", x: " + pos.x + ", y: " + pos.y + ", bmask: " + bmask);
        this.onmousebutton(pos.x, pos.y, down, bmask);

        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    },

    _handleMouseDown: function (e) {
        // Touch events have implicit capture
        if (e.type === "mousedown") {
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["setCapture"])(this._target);
        }

        this._handleMouseButton(e, 1);
    },

    _handleMouseUp: function (e) {
        this._handleMouseButton(e, 0);
    },

    // Mouse wheel events are sent in steps over VNC. This means that the VNC
    // protocol can't handle a wheel event with specific distance or speed.
    // Therefor, if we get a lot of small mouse wheel events we combine them.
    _generateWheelStepX: function () {

        if (this._accumulatedWheelDeltaX < 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 5);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 5);
        } else if (this._accumulatedWheelDeltaX > 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 6);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 6);
        }

        this._accumulatedWheelDeltaX = 0;
    },

    _generateWheelStepY: function () {

        if (this._accumulatedWheelDeltaY < 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 3);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 3);
        } else if (this._accumulatedWheelDeltaY > 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 4);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 4);
        }

        this._accumulatedWheelDeltaY = 0;
    },

    _resetWheelStepTimers: function () {
        window.clearTimeout(this._wheelStepXTimer);
        window.clearTimeout(this._wheelStepYTimer);
        this._wheelStepXTimer = null;
        this._wheelStepYTimer = null;
    },

    _handleMouseWheel: function (e) {
        this._resetWheelStepTimers();

        this._updateMousePosition(e);

        var dX = e.deltaX;
        var dY = e.deltaY;

        // Pixel units unless it's non-zero.
        // Note that if deltamode is line or page won't matter since we aren't
        // sending the mouse wheel delta to the server anyway.
        // The difference between pixel and line can be important however since
        // we have a threshold that can be smaller than the line height.
        if (e.deltaMode !== 0) {
            dX *= WHEEL_LINE_HEIGHT;
            dY *= WHEEL_LINE_HEIGHT;
        }

        this._accumulatedWheelDeltaX += dX;
        this._accumulatedWheelDeltaY += dY;

        // Generate a mouse wheel step event when the accumulated delta
        // for one of the axes is large enough.
        // Small delta events that do not pass the threshold get sent
        // after a timeout.
        if (Math.abs(this._accumulatedWheelDeltaX) > WHEEL_STEP) {
            this._generateWheelStepX();
        } else {
            this._wheelStepXTimer =
                window.setTimeout(this._generateWheelStepX.bind(this),
                                  WHEEL_STEP_TIMEOUT);
        }
        if (Math.abs(this._accumulatedWheelDeltaY) > WHEEL_STEP) {
            this._generateWheelStepY();
        } else {
            this._wheelStepYTimer =
                window.setTimeout(this._generateWheelStepY.bind(this),
                                  WHEEL_STEP_TIMEOUT);
        }

        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    },

    _handleMouseMove: function (e) {
        this._updateMousePosition(e);
        this.onmousemove(this._pos.x, this._pos.y);
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    },

    _handleMouseDisable: function (e) {
        /*
         * Stop propagation if inside canvas area
         * Note: This is only needed for the 'click' event as it fails
         *       to fire properly for the target element so we have
         *       to listen on the document element instead.
         */
        if (e.target == this._target) {
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
        }
    },

    // Update coordinates relative to target
    _updateMousePosition: function(e) {
        e = Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["getPointerEvent"])(e);
        var bounds = this._target.getBoundingClientRect();
        var x, y;
        // Clip to target bounds
        if (e.clientX < bounds.left) {
            x = 0;
        } else if (e.clientX >= bounds.right) {
            x = bounds.width - 1;
        } else {
            x = e.clientX - bounds.left;
        }
        if (e.clientY < bounds.top) {
            y = 0;
        } else if (e.clientY >= bounds.bottom) {
            y = bounds.height - 1;
        } else {
            y = e.clientY - bounds.top;
        }
        this._pos = {x:x, y:y};
    },

    // ===== PUBLIC METHODS =====

    grab: function () {
        var c = this._target;

        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_1__["isTouchDevice"]) {
            c.addEventListener('touchstart', this._eventHandlers.mousedown);
            c.addEventListener('touchend', this._eventHandlers.mouseup);
            c.addEventListener('touchmove', this._eventHandlers.mousemove);
        }
        c.addEventListener('mousedown', this._eventHandlers.mousedown);
        c.addEventListener('mouseup', this._eventHandlers.mouseup);
        c.addEventListener('mousemove', this._eventHandlers.mousemove);
        c.addEventListener('wheel', this._eventHandlers.mousewheel);

        /* Prevent middle-click pasting (see above for why we bind to document) */
        document.addEventListener('click', this._eventHandlers.mousedisable);

        /* preventDefault() on mousedown doesn't stop this event for some
           reason so we have to explicitly block it */
        c.addEventListener('contextmenu', this._eventHandlers.mousedisable);
    },

    ungrab: function () {
        var c = this._target;

        this._resetWheelStepTimers();

        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_1__["isTouchDevice"]) {
            c.removeEventListener('touchstart', this._eventHandlers.mousedown);
            c.removeEventListener('touchend', this._eventHandlers.mouseup);
            c.removeEventListener('touchmove', this._eventHandlers.mousemove);
        }
        c.removeEventListener('mousedown', this._eventHandlers.mousedown);
        c.removeEventListener('mouseup', this._eventHandlers.mouseup);
        c.removeEventListener('mousemove', this._eventHandlers.mousemove);
        c.removeEventListener('wheel', this._eventHandlers.mousewheel);

        document.removeEventListener('click', this._eventHandlers.mousedisable);

        c.removeEventListener('contextmenu', this._eventHandlers.mousedisable);
    }
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/util.js":
/*!******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/util.js ***!
  \******************************************************/
/*! exports provided: getKeycode, getKey, getKeysym */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKeycode", function() { return getKeycode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKey", function() { return getKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKeysym", function() { return getKeysym; });
/* harmony import */ var _keysym_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/* harmony import */ var _keysymdef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./keysymdef.js */ "./node_modules/@novnc/novnc/core/input/keysymdef.js");
/* harmony import */ var _vkeys_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vkeys.js */ "./node_modules/@novnc/novnc/core/input/vkeys.js");
/* harmony import */ var _fixedkeys_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fixedkeys.js */ "./node_modules/@novnc/novnc/core/input/fixedkeys.js");
/* harmony import */ var _domkeytable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./domkeytable.js */ "./node_modules/@novnc/novnc/core/input/domkeytable.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");







// Get 'KeyboardEvent.code', handling legacy browsers
function getKeycode(evt){
    // Are we getting proper key identifiers?
    // (unfortunately Firefox and Chrome are crappy here and gives
    // us an empty string on some platforms, rather than leaving it
    // undefined)
    if (evt.code) {
        // Mozilla isn't fully in sync with the spec yet
        switch (evt.code) {
            case 'OSLeft': return 'MetaLeft';
            case 'OSRight': return 'MetaRight';
        }

        return evt.code;
    }

    // The de-facto standard is to use Windows Virtual-Key codes
    // in the 'keyCode' field for non-printable characters. However
    // Webkit sets it to the same as charCode in 'keypress' events.
    if ((evt.type !== 'keypress') && (evt.keyCode in _vkeys_js__WEBPACK_IMPORTED_MODULE_2__["default"])) {
        var code = _vkeys_js__WEBPACK_IMPORTED_MODULE_2__["default"][evt.keyCode];

        // macOS has messed up this code for some reason
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_5__["isMac"]() && (code === 'ContextMenu')) {
            code = 'MetaRight';
        }

        // The keyCode doesn't distinguish between left and right
        // for the standard modifiers
        if (evt.location === 2) {
            switch (code) {
                case 'ShiftLeft': return 'ShiftRight';
                case 'ControlLeft': return 'ControlRight';
                case 'AltLeft': return 'AltRight';
            }
        }

        // Nor a bunch of the numpad keys
        if (evt.location === 3) {
            switch (code) {
                case 'Delete': return 'NumpadDecimal';
                case 'Insert': return 'Numpad0';
                case 'End': return 'Numpad1';
                case 'ArrowDown': return 'Numpad2';
                case 'PageDown': return 'Numpad3';
                case 'ArrowLeft': return 'Numpad4';
                case 'ArrowRight': return 'Numpad6';
                case 'Home': return 'Numpad7';
                case 'ArrowUp': return 'Numpad8';
                case 'PageUp': return 'Numpad9';
                case 'Enter': return 'NumpadEnter';
            }
        }

        return code;
    }

    return 'Unidentified';
}

// Get 'KeyboardEvent.key', handling legacy browsers
function getKey(evt) {
    // Are we getting a proper key value?
    if (evt.key !== undefined) {
        // IE and Edge use some ancient version of the spec
        // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/
        switch (evt.key) {
            case 'Spacebar': return ' ';
            case 'Esc': return 'Escape';
            case 'Scroll': return 'ScrollLock';
            case 'Win': return 'Meta';
            case 'Apps': return 'ContextMenu';
            case 'Up': return 'ArrowUp';
            case 'Left': return 'ArrowLeft';
            case 'Right': return 'ArrowRight';
            case 'Down': return 'ArrowDown';
            case 'Del': return 'Delete';
            case 'Divide': return '/';
            case 'Multiply': return '*';
            case 'Subtract': return '-';
            case 'Add': return '+';
            case 'Decimal': return evt.char;
        }

        // Mozilla isn't fully in sync with the spec yet
        switch (evt.key) {
            case 'OS': return 'Meta';
        }

        // iOS leaks some OS names
        switch (evt.key) {
            case 'UIKeyInputUpArrow': return 'ArrowUp';
            case 'UIKeyInputDownArrow': return 'ArrowDown';
            case 'UIKeyInputLeftArrow': return 'ArrowLeft';
            case 'UIKeyInputRightArrow': return 'ArrowRight';
            case 'UIKeyInputEscape': return 'Escape';
        }

        // IE and Edge have broken handling of AltGraph so we cannot
        // trust them for printable characters
        if ((evt.key.length !== 1) || (!_util_browser_js__WEBPACK_IMPORTED_MODULE_5__["isIE"]() && !_util_browser_js__WEBPACK_IMPORTED_MODULE_5__["isEdge"]())) {
            return evt.key;
        }
    }

    // Try to deduce it based on the physical key
    var code = getKeycode(evt);
    if (code in _fixedkeys_js__WEBPACK_IMPORTED_MODULE_3__["default"]) {
        return _fixedkeys_js__WEBPACK_IMPORTED_MODULE_3__["default"][code];
    }

    // If that failed, then see if we have a printable character
    if (evt.charCode) {
        return String.fromCharCode(evt.charCode);
    }

    // At this point we have nothing left to go on
    return 'Unidentified';
}

// Get the most reliable keysym value we can get from a key event
function getKeysym(evt){
    var key = getKey(evt);

    if (key === 'Unidentified') {
        return null;
    }

    // First look up special keys
    if (key in _domkeytable_js__WEBPACK_IMPORTED_MODULE_4__["default"]) {
        var location = evt.location;

        // Safari screws up location for the right cmd key
        if ((key === 'Meta') && (location === 0)) {
            location = 2;
        }

        if ((location === undefined) || (location > 3)) {
            location = 0;
        }

        return _domkeytable_js__WEBPACK_IMPORTED_MODULE_4__["default"][key][location];
    }

    // Now we need to look at the Unicode symbol instead

    var codepoint;

    // Special key? (FIXME: Should have been caught earlier)
    if (key.length !== 1) {
        return null;
    }

    codepoint = key.charCodeAt();
    if (codepoint) {
        return _keysymdef_js__WEBPACK_IMPORTED_MODULE_1__["default"].lookup(codepoint);
    }

    return null;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/vkeys.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/vkeys.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/*
 * Mapping between Microsoft® Windows® Virtual-Key codes and
 * HTML key codes.
 */

/* harmony default export */ __webpack_exports__["default"] = ({
    0x08: 'Backspace',
    0x09: 'Tab',
    0x0a: 'NumpadClear',
    0x0d: 'Enter',
    0x10: 'ShiftLeft',
    0x11: 'ControlLeft',
    0x12: 'AltLeft',
    0x13: 'Pause',
    0x14: 'CapsLock',
    0x15: 'Lang1',
    0x19: 'Lang2',
    0x1b: 'Escape',
    0x1c: 'Convert',
    0x1d: 'NonConvert',
    0x20: 'Space',
    0x21: 'PageUp',
    0x22: 'PageDown',
    0x23: 'End',
    0x24: 'Home',
    0x25: 'ArrowLeft',
    0x26: 'ArrowUp',
    0x27: 'ArrowRight',
    0x28: 'ArrowDown',
    0x29: 'Select',
    0x2c: 'PrintScreen',
    0x2d: 'Insert',
    0x2e: 'Delete',
    0x2f: 'Help',
    0x30: 'Digit0',
    0x31: 'Digit1',
    0x32: 'Digit2',
    0x33: 'Digit3',
    0x34: 'Digit4',
    0x35: 'Digit5',
    0x36: 'Digit6',
    0x37: 'Digit7',
    0x38: 'Digit8',
    0x39: 'Digit9',
    0x5b: 'MetaLeft',
    0x5c: 'MetaRight',
    0x5d: 'ContextMenu',
    0x5f: 'Sleep',
    0x60: 'Numpad0',
    0x61: 'Numpad1',
    0x62: 'Numpad2',
    0x63: 'Numpad3',
    0x64: 'Numpad4',
    0x65: 'Numpad5',
    0x66: 'Numpad6',
    0x67: 'Numpad7',
    0x68: 'Numpad8',
    0x69: 'Numpad9',
    0x6a: 'NumpadMultiply',
    0x6b: 'NumpadAdd',
    0x6c: 'NumpadDecimal',
    0x6d: 'NumpadSubtract',
    0x6e: 'NumpadDecimal', // Duplicate, because buggy on Windows
    0x6f: 'NumpadDivide',
    0x70: 'F1',
    0x71: 'F2',
    0x72: 'F3',
    0x73: 'F4',
    0x74: 'F5',
    0x75: 'F6',
    0x76: 'F7',
    0x77: 'F8',
    0x78: 'F9',
    0x79: 'F10',
    0x7a: 'F11',
    0x7b: 'F12',
    0x7c: 'F13',
    0x7d: 'F14',
    0x7e: 'F15',
    0x7f: 'F16',
    0x80: 'F17',
    0x81: 'F18',
    0x82: 'F19',
    0x83: 'F20',
    0x84: 'F21',
    0x85: 'F22',
    0x86: 'F23',
    0x87: 'F24',
    0x90: 'NumLock',
    0x91: 'ScrollLock',
    0xa6: 'BrowserBack',
    0xa7: 'BrowserForward',
    0xa8: 'BrowserRefresh',
    0xa9: 'BrowserStop',
    0xaa: 'BrowserSearch',
    0xab: 'BrowserFavorites',
    0xac: 'BrowserHome',
    0xad: 'AudioVolumeMute',
    0xae: 'AudioVolumeDown',
    0xaf: 'AudioVolumeUp',
    0xb0: 'MediaTrackNext',
    0xb1: 'MediaTrackPrevious',
    0xb2: 'MediaStop',
    0xb3: 'MediaPlayPause',
    0xb4: 'LaunchMail',
    0xb5: 'MediaSelect',
    0xb6: 'LaunchApp1',
    0xb7: 'LaunchApp2',
    0xe1: 'AltRight', // Only when it is AltGraph
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/xtscancodes.js":
/*!*************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/xtscancodes.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * This file is auto-generated from keymaps.csv on 2017-05-31 16:20
 * Database checksum sha256(92fd165507f2a3b8c5b3fa56e425d45788dbcb98cf067a307527d91ce22cab94)
 * To re-generate, run:
 *   keymap-gen --lang=js code-map keymaps.csv html atset1
*/
/* harmony default export */ __webpack_exports__["default"] = ({
  "Again": 0xe005, /* html:Again (Again) -> linux:129 (KEY_AGAIN) -> atset1:57349 */
  "AltLeft": 0x38, /* html:AltLeft (AltLeft) -> linux:56 (KEY_LEFTALT) -> atset1:56 */
  "AltRight": 0xe038, /* html:AltRight (AltRight) -> linux:100 (KEY_RIGHTALT) -> atset1:57400 */
  "ArrowDown": 0xe050, /* html:ArrowDown (ArrowDown) -> linux:108 (KEY_DOWN) -> atset1:57424 */
  "ArrowLeft": 0xe04b, /* html:ArrowLeft (ArrowLeft) -> linux:105 (KEY_LEFT) -> atset1:57419 */
  "ArrowRight": 0xe04d, /* html:ArrowRight (ArrowRight) -> linux:106 (KEY_RIGHT) -> atset1:57421 */
  "ArrowUp": 0xe048, /* html:ArrowUp (ArrowUp) -> linux:103 (KEY_UP) -> atset1:57416 */
  "AudioVolumeDown": 0xe02e, /* html:AudioVolumeDown (AudioVolumeDown) -> linux:114 (KEY_VOLUMEDOWN) -> atset1:57390 */
  "AudioVolumeMute": 0xe020, /* html:AudioVolumeMute (AudioVolumeMute) -> linux:113 (KEY_MUTE) -> atset1:57376 */
  "AudioVolumeUp": 0xe030, /* html:AudioVolumeUp (AudioVolumeUp) -> linux:115 (KEY_VOLUMEUP) -> atset1:57392 */
  "Backquote": 0x29, /* html:Backquote (Backquote) -> linux:41 (KEY_GRAVE) -> atset1:41 */
  "Backslash": 0x2b, /* html:Backslash (Backslash) -> linux:43 (KEY_BACKSLASH) -> atset1:43 */
  "Backspace": 0xe, /* html:Backspace (Backspace) -> linux:14 (KEY_BACKSPACE) -> atset1:14 */
  "BracketLeft": 0x1a, /* html:BracketLeft (BracketLeft) -> linux:26 (KEY_LEFTBRACE) -> atset1:26 */
  "BracketRight": 0x1b, /* html:BracketRight (BracketRight) -> linux:27 (KEY_RIGHTBRACE) -> atset1:27 */
  "BrowserBack": 0xe06a, /* html:BrowserBack (BrowserBack) -> linux:158 (KEY_BACK) -> atset1:57450 */
  "BrowserFavorites": 0xe066, /* html:BrowserFavorites (BrowserFavorites) -> linux:156 (KEY_BOOKMARKS) -> atset1:57446 */
  "BrowserForward": 0xe069, /* html:BrowserForward (BrowserForward) -> linux:159 (KEY_FORWARD) -> atset1:57449 */
  "BrowserHome": 0xe032, /* html:BrowserHome (BrowserHome) -> linux:172 (KEY_HOMEPAGE) -> atset1:57394 */
  "BrowserRefresh": 0xe067, /* html:BrowserRefresh (BrowserRefresh) -> linux:173 (KEY_REFRESH) -> atset1:57447 */
  "BrowserSearch": 0xe065, /* html:BrowserSearch (BrowserSearch) -> linux:217 (KEY_SEARCH) -> atset1:57445 */
  "BrowserStop": 0xe068, /* html:BrowserStop (BrowserStop) -> linux:128 (KEY_STOP) -> atset1:57448 */
  "CapsLock": 0x3a, /* html:CapsLock (CapsLock) -> linux:58 (KEY_CAPSLOCK) -> atset1:58 */
  "Comma": 0x33, /* html:Comma (Comma) -> linux:51 (KEY_COMMA) -> atset1:51 */
  "ContextMenu": 0xe05d, /* html:ContextMenu (ContextMenu) -> linux:127 (KEY_COMPOSE) -> atset1:57437 */
  "ControlLeft": 0x1d, /* html:ControlLeft (ControlLeft) -> linux:29 (KEY_LEFTCTRL) -> atset1:29 */
  "ControlRight": 0xe01d, /* html:ControlRight (ControlRight) -> linux:97 (KEY_RIGHTCTRL) -> atset1:57373 */
  "Convert": 0x79, /* html:Convert (Convert) -> linux:92 (KEY_HENKAN) -> atset1:121 */
  "Copy": 0xe078, /* html:Copy (Copy) -> linux:133 (KEY_COPY) -> atset1:57464 */
  "Cut": 0xe03c, /* html:Cut (Cut) -> linux:137 (KEY_CUT) -> atset1:57404 */
  "Delete": 0xe053, /* html:Delete (Delete) -> linux:111 (KEY_DELETE) -> atset1:57427 */
  "Digit0": 0xb, /* html:Digit0 (Digit0) -> linux:11 (KEY_0) -> atset1:11 */
  "Digit1": 0x2, /* html:Digit1 (Digit1) -> linux:2 (KEY_1) -> atset1:2 */
  "Digit2": 0x3, /* html:Digit2 (Digit2) -> linux:3 (KEY_2) -> atset1:3 */
  "Digit3": 0x4, /* html:Digit3 (Digit3) -> linux:4 (KEY_3) -> atset1:4 */
  "Digit4": 0x5, /* html:Digit4 (Digit4) -> linux:5 (KEY_4) -> atset1:5 */
  "Digit5": 0x6, /* html:Digit5 (Digit5) -> linux:6 (KEY_5) -> atset1:6 */
  "Digit6": 0x7, /* html:Digit6 (Digit6) -> linux:7 (KEY_6) -> atset1:7 */
  "Digit7": 0x8, /* html:Digit7 (Digit7) -> linux:8 (KEY_7) -> atset1:8 */
  "Digit8": 0x9, /* html:Digit8 (Digit8) -> linux:9 (KEY_8) -> atset1:9 */
  "Digit9": 0xa, /* html:Digit9 (Digit9) -> linux:10 (KEY_9) -> atset1:10 */
  "Eject": 0xe07d, /* html:Eject (Eject) -> linux:162 (KEY_EJECTCLOSECD) -> atset1:57469 */
  "End": 0xe04f, /* html:End (End) -> linux:107 (KEY_END) -> atset1:57423 */
  "Enter": 0x1c, /* html:Enter (Enter) -> linux:28 (KEY_ENTER) -> atset1:28 */
  "Equal": 0xd, /* html:Equal (Equal) -> linux:13 (KEY_EQUAL) -> atset1:13 */
  "Escape": 0x1, /* html:Escape (Escape) -> linux:1 (KEY_ESC) -> atset1:1 */
  "F1": 0x3b, /* html:F1 (F1) -> linux:59 (KEY_F1) -> atset1:59 */
  "F10": 0x44, /* html:F10 (F10) -> linux:68 (KEY_F10) -> atset1:68 */
  "F11": 0x57, /* html:F11 (F11) -> linux:87 (KEY_F11) -> atset1:87 */
  "F12": 0x58, /* html:F12 (F12) -> linux:88 (KEY_F12) -> atset1:88 */
  "F13": 0x5d, /* html:F13 (F13) -> linux:183 (KEY_F13) -> atset1:93 */
  "F14": 0x5e, /* html:F14 (F14) -> linux:184 (KEY_F14) -> atset1:94 */
  "F15": 0x5f, /* html:F15 (F15) -> linux:185 (KEY_F15) -> atset1:95 */
  "F16": 0x55, /* html:F16 (F16) -> linux:186 (KEY_F16) -> atset1:85 */
  "F17": 0xe003, /* html:F17 (F17) -> linux:187 (KEY_F17) -> atset1:57347 */
  "F18": 0xe077, /* html:F18 (F18) -> linux:188 (KEY_F18) -> atset1:57463 */
  "F19": 0xe004, /* html:F19 (F19) -> linux:189 (KEY_F19) -> atset1:57348 */
  "F2": 0x3c, /* html:F2 (F2) -> linux:60 (KEY_F2) -> atset1:60 */
  "F20": 0x5a, /* html:F20 (F20) -> linux:190 (KEY_F20) -> atset1:90 */
  "F21": 0x74, /* html:F21 (F21) -> linux:191 (KEY_F21) -> atset1:116 */
  "F22": 0xe079, /* html:F22 (F22) -> linux:192 (KEY_F22) -> atset1:57465 */
  "F23": 0x6d, /* html:F23 (F23) -> linux:193 (KEY_F23) -> atset1:109 */
  "F24": 0x6f, /* html:F24 (F24) -> linux:194 (KEY_F24) -> atset1:111 */
  "F3": 0x3d, /* html:F3 (F3) -> linux:61 (KEY_F3) -> atset1:61 */
  "F4": 0x3e, /* html:F4 (F4) -> linux:62 (KEY_F4) -> atset1:62 */
  "F5": 0x3f, /* html:F5 (F5) -> linux:63 (KEY_F5) -> atset1:63 */
  "F6": 0x40, /* html:F6 (F6) -> linux:64 (KEY_F6) -> atset1:64 */
  "F7": 0x41, /* html:F7 (F7) -> linux:65 (KEY_F7) -> atset1:65 */
  "F8": 0x42, /* html:F8 (F8) -> linux:66 (KEY_F8) -> atset1:66 */
  "F9": 0x43, /* html:F9 (F9) -> linux:67 (KEY_F9) -> atset1:67 */
  "Find": 0xe041, /* html:Find (Find) -> linux:136 (KEY_FIND) -> atset1:57409 */
  "Help": 0xe075, /* html:Help (Help) -> linux:138 (KEY_HELP) -> atset1:57461 */
  "Hiragana": 0x77, /* html:Hiragana (Lang4) -> linux:91 (KEY_HIRAGANA) -> atset1:119 */
  "Home": 0xe047, /* html:Home (Home) -> linux:102 (KEY_HOME) -> atset1:57415 */
  "Insert": 0xe052, /* html:Insert (Insert) -> linux:110 (KEY_INSERT) -> atset1:57426 */
  "IntlBackslash": 0x56, /* html:IntlBackslash (IntlBackslash) -> linux:86 (KEY_102ND) -> atset1:86 */
  "IntlRo": 0x73, /* html:IntlRo (IntlRo) -> linux:89 (KEY_RO) -> atset1:115 */
  "IntlYen": 0x7d, /* html:IntlYen (IntlYen) -> linux:124 (KEY_YEN) -> atset1:125 */
  "KanaMode": 0x70, /* html:KanaMode (KanaMode) -> linux:93 (KEY_KATAKANAHIRAGANA) -> atset1:112 */
  "Katakana": 0x78, /* html:Katakana (Lang3) -> linux:90 (KEY_KATAKANA) -> atset1:120 */
  "KeyA": 0x1e, /* html:KeyA (KeyA) -> linux:30 (KEY_A) -> atset1:30 */
  "KeyB": 0x30, /* html:KeyB (KeyB) -> linux:48 (KEY_B) -> atset1:48 */
  "KeyC": 0x2e, /* html:KeyC (KeyC) -> linux:46 (KEY_C) -> atset1:46 */
  "KeyD": 0x20, /* html:KeyD (KeyD) -> linux:32 (KEY_D) -> atset1:32 */
  "KeyE": 0x12, /* html:KeyE (KeyE) -> linux:18 (KEY_E) -> atset1:18 */
  "KeyF": 0x21, /* html:KeyF (KeyF) -> linux:33 (KEY_F) -> atset1:33 */
  "KeyG": 0x22, /* html:KeyG (KeyG) -> linux:34 (KEY_G) -> atset1:34 */
  "KeyH": 0x23, /* html:KeyH (KeyH) -> linux:35 (KEY_H) -> atset1:35 */
  "KeyI": 0x17, /* html:KeyI (KeyI) -> linux:23 (KEY_I) -> atset1:23 */
  "KeyJ": 0x24, /* html:KeyJ (KeyJ) -> linux:36 (KEY_J) -> atset1:36 */
  "KeyK": 0x25, /* html:KeyK (KeyK) -> linux:37 (KEY_K) -> atset1:37 */
  "KeyL": 0x26, /* html:KeyL (KeyL) -> linux:38 (KEY_L) -> atset1:38 */
  "KeyM": 0x32, /* html:KeyM (KeyM) -> linux:50 (KEY_M) -> atset1:50 */
  "KeyN": 0x31, /* html:KeyN (KeyN) -> linux:49 (KEY_N) -> atset1:49 */
  "KeyO": 0x18, /* html:KeyO (KeyO) -> linux:24 (KEY_O) -> atset1:24 */
  "KeyP": 0x19, /* html:KeyP (KeyP) -> linux:25 (KEY_P) -> atset1:25 */
  "KeyQ": 0x10, /* html:KeyQ (KeyQ) -> linux:16 (KEY_Q) -> atset1:16 */
  "KeyR": 0x13, /* html:KeyR (KeyR) -> linux:19 (KEY_R) -> atset1:19 */
  "KeyS": 0x1f, /* html:KeyS (KeyS) -> linux:31 (KEY_S) -> atset1:31 */
  "KeyT": 0x14, /* html:KeyT (KeyT) -> linux:20 (KEY_T) -> atset1:20 */
  "KeyU": 0x16, /* html:KeyU (KeyU) -> linux:22 (KEY_U) -> atset1:22 */
  "KeyV": 0x2f, /* html:KeyV (KeyV) -> linux:47 (KEY_V) -> atset1:47 */
  "KeyW": 0x11, /* html:KeyW (KeyW) -> linux:17 (KEY_W) -> atset1:17 */
  "KeyX": 0x2d, /* html:KeyX (KeyX) -> linux:45 (KEY_X) -> atset1:45 */
  "KeyY": 0x15, /* html:KeyY (KeyY) -> linux:21 (KEY_Y) -> atset1:21 */
  "KeyZ": 0x2c, /* html:KeyZ (KeyZ) -> linux:44 (KEY_Z) -> atset1:44 */
  "Lang3": 0x78, /* html:Lang3 (Lang3) -> linux:90 (KEY_KATAKANA) -> atset1:120 */
  "Lang4": 0x77, /* html:Lang4 (Lang4) -> linux:91 (KEY_HIRAGANA) -> atset1:119 */
  "Lang5": 0x76, /* html:Lang5 (Lang5) -> linux:85 (KEY_ZENKAKUHANKAKU) -> atset1:118 */
  "LaunchApp1": 0xe06b, /* html:LaunchApp1 (LaunchApp1) -> linux:157 (KEY_COMPUTER) -> atset1:57451 */
  "LaunchApp2": 0xe021, /* html:LaunchApp2 (LaunchApp2) -> linux:140 (KEY_CALC) -> atset1:57377 */
  "LaunchMail": 0xe06c, /* html:LaunchMail (LaunchMail) -> linux:155 (KEY_MAIL) -> atset1:57452 */
  "MediaPlayPause": 0xe022, /* html:MediaPlayPause (MediaPlayPause) -> linux:164 (KEY_PLAYPAUSE) -> atset1:57378 */
  "MediaSelect": 0xe06d, /* html:MediaSelect (MediaSelect) -> linux:226 (KEY_MEDIA) -> atset1:57453 */
  "MediaStop": 0xe024, /* html:MediaStop (MediaStop) -> linux:166 (KEY_STOPCD) -> atset1:57380 */
  "MediaTrackNext": 0xe019, /* html:MediaTrackNext (MediaTrackNext) -> linux:163 (KEY_NEXTSONG) -> atset1:57369 */
  "MediaTrackPrevious": 0xe010, /* html:MediaTrackPrevious (MediaTrackPrevious) -> linux:165 (KEY_PREVIOUSSONG) -> atset1:57360 */
  "MetaLeft": 0xe05b, /* html:MetaLeft (MetaLeft) -> linux:125 (KEY_LEFTMETA) -> atset1:57435 */
  "MetaRight": 0xe05c, /* html:MetaRight (MetaRight) -> linux:126 (KEY_RIGHTMETA) -> atset1:57436 */
  "Minus": 0xc, /* html:Minus (Minus) -> linux:12 (KEY_MINUS) -> atset1:12 */
  "NonConvert": 0x7b, /* html:NonConvert (NonConvert) -> linux:94 (KEY_MUHENKAN) -> atset1:123 */
  "NumLock": 0x45, /* html:NumLock (NumLock) -> linux:69 (KEY_NUMLOCK) -> atset1:69 */
  "Numpad0": 0x52, /* html:Numpad0 (Numpad0) -> linux:82 (KEY_KP0) -> atset1:82 */
  "Numpad1": 0x4f, /* html:Numpad1 (Numpad1) -> linux:79 (KEY_KP1) -> atset1:79 */
  "Numpad2": 0x50, /* html:Numpad2 (Numpad2) -> linux:80 (KEY_KP2) -> atset1:80 */
  "Numpad3": 0x51, /* html:Numpad3 (Numpad3) -> linux:81 (KEY_KP3) -> atset1:81 */
  "Numpad4": 0x4b, /* html:Numpad4 (Numpad4) -> linux:75 (KEY_KP4) -> atset1:75 */
  "Numpad5": 0x4c, /* html:Numpad5 (Numpad5) -> linux:76 (KEY_KP5) -> atset1:76 */
  "Numpad6": 0x4d, /* html:Numpad6 (Numpad6) -> linux:77 (KEY_KP6) -> atset1:77 */
  "Numpad7": 0x47, /* html:Numpad7 (Numpad7) -> linux:71 (KEY_KP7) -> atset1:71 */
  "Numpad8": 0x48, /* html:Numpad8 (Numpad8) -> linux:72 (KEY_KP8) -> atset1:72 */
  "Numpad9": 0x49, /* html:Numpad9 (Numpad9) -> linux:73 (KEY_KP9) -> atset1:73 */
  "NumpadAdd": 0x4e, /* html:NumpadAdd (NumpadAdd) -> linux:78 (KEY_KPPLUS) -> atset1:78 */
  "NumpadComma": 0x7e, /* html:NumpadComma (NumpadComma) -> linux:121 (KEY_KPCOMMA) -> atset1:126 */
  "NumpadDecimal": 0x53, /* html:NumpadDecimal (NumpadDecimal) -> linux:83 (KEY_KPDOT) -> atset1:83 */
  "NumpadDivide": 0xe035, /* html:NumpadDivide (NumpadDivide) -> linux:98 (KEY_KPSLASH) -> atset1:57397 */
  "NumpadEnter": 0xe01c, /* html:NumpadEnter (NumpadEnter) -> linux:96 (KEY_KPENTER) -> atset1:57372 */
  "NumpadEqual": 0x59, /* html:NumpadEqual (NumpadEqual) -> linux:117 (KEY_KPEQUAL) -> atset1:89 */
  "NumpadMultiply": 0x37, /* html:NumpadMultiply (NumpadMultiply) -> linux:55 (KEY_KPASTERISK) -> atset1:55 */
  "NumpadParenLeft": 0xe076, /* html:NumpadParenLeft (NumpadParenLeft) -> linux:179 (KEY_KPLEFTPAREN) -> atset1:57462 */
  "NumpadParenRight": 0xe07b, /* html:NumpadParenRight (NumpadParenRight) -> linux:180 (KEY_KPRIGHTPAREN) -> atset1:57467 */
  "NumpadSubtract": 0x4a, /* html:NumpadSubtract (NumpadSubtract) -> linux:74 (KEY_KPMINUS) -> atset1:74 */
  "Open": 0x64, /* html:Open (Open) -> linux:134 (KEY_OPEN) -> atset1:100 */
  "PageDown": 0xe051, /* html:PageDown (PageDown) -> linux:109 (KEY_PAGEDOWN) -> atset1:57425 */
  "PageUp": 0xe049, /* html:PageUp (PageUp) -> linux:104 (KEY_PAGEUP) -> atset1:57417 */
  "Paste": 0x65, /* html:Paste (Paste) -> linux:135 (KEY_PASTE) -> atset1:101 */
  "Pause": 0xe046, /* html:Pause (Pause) -> linux:119 (KEY_PAUSE) -> atset1:57414 */
  "Period": 0x34, /* html:Period (Period) -> linux:52 (KEY_DOT) -> atset1:52 */
  "Power": 0xe05e, /* html:Power (Power) -> linux:116 (KEY_POWER) -> atset1:57438 */
  "PrintScreen": 0x54, /* html:PrintScreen (PrintScreen) -> linux:99 (KEY_SYSRQ) -> atset1:84 */
  "Props": 0xe006, /* html:Props (Props) -> linux:130 (KEY_PROPS) -> atset1:57350 */
  "Quote": 0x28, /* html:Quote (Quote) -> linux:40 (KEY_APOSTROPHE) -> atset1:40 */
  "ScrollLock": 0x46, /* html:ScrollLock (ScrollLock) -> linux:70 (KEY_SCROLLLOCK) -> atset1:70 */
  "Semicolon": 0x27, /* html:Semicolon (Semicolon) -> linux:39 (KEY_SEMICOLON) -> atset1:39 */
  "ShiftLeft": 0x2a, /* html:ShiftLeft (ShiftLeft) -> linux:42 (KEY_LEFTSHIFT) -> atset1:42 */
  "ShiftRight": 0x36, /* html:ShiftRight (ShiftRight) -> linux:54 (KEY_RIGHTSHIFT) -> atset1:54 */
  "Slash": 0x35, /* html:Slash (Slash) -> linux:53 (KEY_SLASH) -> atset1:53 */
  "Sleep": 0xe05f, /* html:Sleep (Sleep) -> linux:142 (KEY_SLEEP) -> atset1:57439 */
  "Space": 0x39, /* html:Space (Space) -> linux:57 (KEY_SPACE) -> atset1:57 */
  "Suspend": 0xe025, /* html:Suspend (Suspend) -> linux:205 (KEY_SUSPEND) -> atset1:57381 */
  "Tab": 0xf, /* html:Tab (Tab) -> linux:15 (KEY_TAB) -> atset1:15 */
  "Undo": 0xe007, /* html:Undo (Undo) -> linux:131 (KEY_UNDO) -> atset1:57351 */
  "WakeUp": 0xe063, /* html:WakeUp (WakeUp) -> linux:143 (KEY_WAKEUP) -> atset1:57443 */
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/rfb.js":
/*!***********************************************!*\
  !*** ./node_modules/@novnc/novnc/core/rfb.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RFB; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_strings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/strings.js */ "./node_modules/@novnc/novnc/core/util/strings.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/* harmony import */ var _util_eventtarget_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/eventtarget.js */ "./node_modules/@novnc/novnc/core/util/eventtarget.js");
/* harmony import */ var _display_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./display.js */ "./node_modules/@novnc/novnc/core/display.js");
/* harmony import */ var _input_keyboard_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./input/keyboard.js */ "./node_modules/@novnc/novnc/core/input/keyboard.js");
/* harmony import */ var _input_mouse_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./input/mouse.js */ "./node_modules/@novnc/novnc/core/input/mouse.js");
/* harmony import */ var _websock_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./websock.js */ "./node_modules/@novnc/novnc/core/websock.js");
/* harmony import */ var _des_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./des.js */ "./node_modules/@novnc/novnc/core/des.js");
/* harmony import */ var _input_keysym_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./input/keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/* harmony import */ var _input_xtscancodes_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./input/xtscancodes.js */ "./node_modules/@novnc/novnc/core/input/xtscancodes.js");
/* harmony import */ var _inflator_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./inflator.js */ "./node_modules/@novnc/novnc/core/inflator.js");
/* harmony import */ var _encodings_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./encodings.js */ "./node_modules/@novnc/novnc/core/encodings.js");
/* harmony import */ var _util_polyfill_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./util/polyfill.js */ "./node_modules/@novnc/novnc/core/util/polyfill.js");
/* harmony import */ var _util_polyfill_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_util_polyfill_js__WEBPACK_IMPORTED_MODULE_13__);
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2017 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 *
 * TIGHT decoder portion:
 * (c) 2012 Michael Tinglof, Joe Balaz, Les Piech (Mercuri.ca)
 */
















/*jslint white: false, browser: true */
/*global window, Util, Display, Keyboard, Mouse, Websock, Websock_native, Base64, DES, KeyTable, Inflator, XtScancode */

// How many seconds to wait for a disconnect to finish
var DISCONNECT_TIMEOUT = 3;

function RFB(target, url, options) {
    if (!target) {
        throw Error("Must specify target");
    }
    if (!url) {
        throw Error("Must specify URL");
    }

    this._target = target;
    this._url = url;

    // Connection details
    options = options || {};
    this._rfb_credentials = options.credentials || {};
    this._shared = 'shared' in options ? !!options.shared : true;
    this._repeaterID = options.repeaterID || '';

    // Internal state
    this._rfb_connection_state = '';
    this._rfb_init_state = '';
    this._rfb_auth_scheme = '';
    this._rfb_clean_disconnect = true;

    // Server capabilities
    this._rfb_version = 0;
    this._rfb_max_version = 3.8;
    this._rfb_tightvnc = false;
    this._rfb_xvp_ver = 0;

    this._fb_width = 0;
    this._fb_height = 0;

    this._fb_name = "";

    this._capabilities = { power: false };

    this._supportsFence = false;

    this._supportsContinuousUpdates = false;
    this._enabledContinuousUpdates = false;

    this._supportsSetDesktopSize = false;
    this._screen_id = 0;
    this._screen_flags = 0;

    this._qemuExtKeyEventSupported = false;

    // Internal objects
    this._sock = null;              // Websock object
    this._display = null;           // Display object
    this._flushing = false;         // Display flushing state
    this._keyboard = null;          // Keyboard input handler object
    this._mouse = null;             // Mouse input handler object

    // Timers
    this._disconnTimer = null;      // disconnection timer
    this._resizeTimeout = null;     // resize rate limiting

    // Decoder states and stats
    this._encHandlers = {};
    this._encStats = {};

    this._FBU = {
        rects: 0,
        subrects: 0,            // RRE and HEXTILE
        lines: 0,               // RAW
        tiles: 0,               // HEXTILE
        bytes: 0,
        x: 0,
        y: 0,
        width: 0,
        height: 0,
        encoding: 0,
        subencoding: -1,
        background: null,
        zlibs: []               // TIGHT zlib streams
    };
    for (var i = 0; i < 4; i++) {
        this._FBU.zlibs[i] = new _inflator_js__WEBPACK_IMPORTED_MODULE_11__["default"]();
    }

    this._destBuff = null;
    this._paletteBuff = new Uint8Array(1024);  // 256 * 4 (max palette size * max bytes-per-pixel)

    this._rre_chunk_sz = 100;

    this._timing = {
        last_fbu: 0,
        fbu_total: 0,
        fbu_total_cnt: 0,
        full_fbu_total: 0,
        full_fbu_cnt: 0,

        fbu_rt_start: 0,
        fbu_rt_total: 0,
        fbu_rt_cnt: 0,
        pixels: 0
    };

    // Mouse state
    this._mouse_buttonMask = 0;
    this._mouse_arr = [];
    this._viewportDragging = false;
    this._viewportDragPos = {};
    this._viewportHasMoved = false;

    // Bound event handlers
    this._eventHandlers = {
        focusCanvas: this._focusCanvas.bind(this),
        windowResize: this._windowResize.bind(this),
    };

    // main setup
    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.constructor");

    // Create DOM elements
    this._screen = document.createElement('div');
    this._screen.style.display = 'flex';
    this._screen.style.width = '100%';
    this._screen.style.height = '100%';
    this._screen.style.overflow = 'auto';
    this._screen.style.backgroundColor = 'rgb(40, 40, 40)';
    this._canvas = document.createElement('canvas');
    this._canvas.style.margin = 'auto';
    // Some browsers add an outline on focus
    this._canvas.style.outline = 'none';
    // IE miscalculates width without this :(
    this._canvas.style.flexShrink = '0';
    this._canvas.width = 0;
    this._canvas.height = 0;
    this._canvas.tabIndex = -1;
    this._screen.appendChild(this._canvas);

    // populate encHandlers with bound versions
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRaw] = RFB.encodingHandlers.RAW.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingCopyRect] = RFB.encodingHandlers.COPYRECT.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRRE] = RFB.encodingHandlers.RRE.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingHextile] = RFB.encodingHandlers.HEXTILE.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingTight] = RFB.encodingHandlers.TIGHT.bind(this);

    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingDesktopSize] = RFB.encodingHandlers.DesktopSize.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingLastRect] = RFB.encodingHandlers.last_rect.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCursor] = RFB.encodingHandlers.Cursor.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQEMUExtendedKeyEvent] = RFB.encodingHandlers.QEMUExtendedKeyEvent.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingExtendedDesktopSize] = RFB.encodingHandlers.ExtendedDesktopSize.bind(this);

    // NB: nothing that needs explicit teardown should be done
    // before this point, since this can throw an exception
    try {
        this._display = new _display_js__WEBPACK_IMPORTED_MODULE_4__["default"](this._canvas);
    } catch (exc) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Display exception: " + exc);
        throw exc;
    }
    this._display.onflush = this._onFlush.bind(this);
    this._display.clear();

    this._keyboard = new _input_keyboard_js__WEBPACK_IMPORTED_MODULE_5__["default"](this._canvas);
    this._keyboard.onkeyevent = this._handleKeyEvent.bind(this);

    this._mouse = new _input_mouse_js__WEBPACK_IMPORTED_MODULE_6__["default"](this._canvas);
    this._mouse.onmousebutton = this._handleMouseButton.bind(this);
    this._mouse.onmousemove = this._handleMouseMove.bind(this);

    this._sock = new _websock_js__WEBPACK_IMPORTED_MODULE_7__["default"]();
    this._sock.on('message', this._handle_message.bind(this));
    this._sock.on('open', function () {
        if ((this._rfb_connection_state === 'connecting') &&
            (this._rfb_init_state === '')) {
            this._rfb_init_state = 'ProtocolVersion';
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Starting VNC handshake");
        } else {
            this._fail("Unexpected server connection while " +
                       this._rfb_connection_state);
        }
    }.bind(this));
    this._sock.on('close', function (e) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("WebSocket on-close event");
        var msg = "";
        if (e.code) {
            msg = "(code: " + e.code;
            if (e.reason) {
                msg += ", reason: " + e.reason;
            }
            msg += ")";
        }
        switch (this._rfb_connection_state) {
            case 'connecting':
                this._fail("Connection closed " + msg);
                break;
            case 'connected':
                // Handle disconnects that were initiated server-side
                this._updateConnectionState('disconnecting');
                this._updateConnectionState('disconnected');
                break;
            case 'disconnecting':
                // Normal disconnection path
                this._updateConnectionState('disconnected');
                break;
            case 'disconnected':
                this._fail("Unexpected server disconnect " +
                           "when already disconnected " + msg);
                break;
            default:
                this._fail("Unexpected server disconnect before connecting " +
                           msg);
                break;
        }
        this._sock.off('close');
    }.bind(this));
    this._sock.on('error', function (e) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("WebSocket on-error event");
    });

    // Slight delay of the actual connection so that the caller has
    // time to set up callbacks
    setTimeout(this._updateConnectionState.bind(this, 'connecting'));

    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.constructor");
};

RFB.prototype = {
    // ===== PROPERTIES =====

    dragViewport: false,
    focusOnClick: true,

    _viewOnly: false,
    get viewOnly() { return this._viewOnly; },
    set viewOnly(viewOnly) {
        this._viewOnly = viewOnly;

        if (this._rfb_connection_state === "connecting" ||
            this._rfb_connection_state === "connected") {
            if (viewOnly) {
                this._keyboard.ungrab();
                this._mouse.ungrab();
            } else {
                this._keyboard.grab();
                this._mouse.grab();
            }
        }
    },

    get capabilities() { return this._capabilities; },

    get touchButton() { return this._mouse.touchButton; },
    set touchButton(button) { this._mouse.touchButton = button; },

    _clipViewport: false,
    get clipViewport() { return this._clipViewport; },
    set clipViewport(viewport) {
        this._clipViewport = viewport;
        this._updateClip();
    },

    _scaleViewport: false,
    get scaleViewport() { return this._scaleViewport; },
    set scaleViewport(scale) {
        this._scaleViewport = scale;
        // Scaling trumps clipping, so we may need to adjust
        // clipping when enabling or disabling scaling
        if (scale && this._clipViewport) {
            this._updateClip();
        }
        this._updateScale();
        if (!scale && this._clipViewport) {
            this._updateClip();
        }
    },

    _resizeSession: false,
    get resizeSession() { return this._resizeSession; },
    set resizeSession(resize) {
        this._resizeSession = resize;
        if (resize) {
            this._requestRemoteResize();
        }
    },

    // ===== PUBLIC METHODS =====

    disconnect: function () {
        this._updateConnectionState('disconnecting');
        this._sock.off('error');
        this._sock.off('message');
        this._sock.off('open');
    },

    sendCredentials: function (creds) {
        this._rfb_credentials = creds;
        setTimeout(this._init_msg.bind(this), 0);
    },

    sendCtrlAltDel: function () {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending Ctrl-Alt-Del");

        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Control_L, "ControlLeft", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Alt_L, "AltLeft", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Delete, "Delete", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Delete, "Delete", false);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Alt_L, "AltLeft", false);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Control_L, "ControlLeft", false);
    },

    machineShutdown: function () {
        this._xvpOp(1, 2);
    },

    machineReboot: function () {
        this._xvpOp(1, 3);
    },

    machineReset: function () {
        this._xvpOp(1, 4);
    },

    // Send a key press. If 'down' is not specified then send a down key
    // followed by an up key.
    sendKey: function (keysym, code, down) {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }

        if (down === undefined) {
            this.sendKey(keysym, code, true);
            this.sendKey(keysym, code, false);
            return;
        }

        var scancode = _input_xtscancodes_js__WEBPACK_IMPORTED_MODULE_10__["default"][code];

        if (this._qemuExtKeyEventSupported && scancode) {
            // 0 is NoSymbol
            keysym = keysym || 0;

            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending key (" + (down ? "down" : "up") + "): keysym " + keysym + ", scancode " + scancode);

            RFB.messages.QEMUExtendedKeyEvent(this._sock, keysym, down, scancode);
        } else {
            if (!keysym) {
                return;
            }
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending keysym (" + (down ? "down" : "up") + "): " + keysym);
            RFB.messages.keyEvent(this._sock, keysym, down ? 1 : 0);
        }
    },

    focus: function () {
        this._canvas.focus();
    },

    blur: function () {
        this._canvas.blur();
    },

    clipboardPasteFrom: function (text) {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }
        RFB.messages.clientCutText(this._sock, text);
    },

    // ===== PRIVATE METHODS =====

    _connect: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.connect");

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("connecting to " + this._url);

        try {
            // WebSocket.onopen transitions to the RFB init states
            this._sock.open(this._url, ['binary']);
        } catch (e) {
            if (e.name === 'SyntaxError') {
                this._fail("Invalid host or port (" + e + ")");
            } else {
                this._fail("Error when opening socket (" + e + ")");
            }
        }

        // Make our elements part of the page
        this._target.appendChild(this._screen);

        // Monitor size changes of the screen
        // FIXME: Use ResizeObserver, or hidden overflow
        window.addEventListener('resize', this._eventHandlers.windowResize);

        // Always grab focus on some kind of click event
        this._canvas.addEventListener("mousedown", this._eventHandlers.focusCanvas);
        this._canvas.addEventListener("touchstart", this._eventHandlers.focusCanvas);

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.connect");
    },

    _disconnect: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.disconnect");
        this._canvas.removeEventListener("mousedown", this._eventHandlers.focusCanvas);
        this._canvas.removeEventListener("touchstart", this._eventHandlers.focusCanvas);
        window.removeEventListener('resize', this._eventHandlers.windowResize);
        this._keyboard.ungrab();
        this._mouse.ungrab();
        this._sock.close();
        this._print_stats();
        try {
            this._target.removeChild(this._screen);
        } catch (e) {
            if (e.name === 'NotFoundError') {
                // Some cases where the initial connection fails
                // can disconnect before the _screen is created
            } else {
                throw e;
            }
        }
        clearTimeout(this._resizeTimeout);
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.disconnect");
    },

    _print_stats: function () {
        var stats = this._encStats;

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Encoding stats for this connection:");
        Object.keys(stats).forEach(function (key) {
            var s = stats[key];
            if (s[0] + s[1] > 0) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("    " + Object(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodingName"])(key) + ": " + s[0] + " rects");
            }
        });

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Encoding stats since page load:");
        Object.keys(stats).forEach(function (key) {
            var s = stats[key];
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("    " + Object(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodingName"])(key) + ": " + s[1] + " rects");
        });
    },

    _focusCanvas: function(event) {
        // Respect earlier handlers' request to not do side-effects
        if (event.defaultPrevented) {
            return;
        }

        if (!this.focusOnClick) {
            return;
        }

        this.focus();
    },

    _windowResize: function (event) {
        // If the window resized then our screen element might have
        // as well. Update the viewport dimensions.
        window.requestAnimationFrame(function () {
            this._updateClip();
            this._updateScale();
        }.bind(this));

        if (this._resizeSession) {
            // Request changing the resolution of the remote display to
            // the size of the local browser viewport.

            // In order to not send multiple requests before the browser-resize
            // is finished we wait 0.5 seconds before sending the request.
            clearTimeout(this._resizeTimeout);
            this._resizeTimeout = setTimeout(this._requestRemoteResize.bind(this), 500);
        }
    },

    // Update state of clipping in Display object, and make sure the
    // configured viewport matches the current screen size
    _updateClip: function () {
        var cur_clip = this._display.clipViewport;
        var new_clip = this._clipViewport;

        if (this._scaleViewport) {
            // Disable viewport clipping if we are scaling
            new_clip = false;
        }

        if (cur_clip !== new_clip) {
            this._display.clipViewport = new_clip;
        }

        if (new_clip) {
            // When clipping is enabled, the screen is limited to
            // the size of the container.
            let size = this._screenSize();
            this._display.viewportChangeSize(size.w, size.h);
            this._fixScrollbars();
        }
    },

    _updateScale: function () {
        if (!this._scaleViewport) {
            this._display.scale = 1.0;
        } else {
            let size = this._screenSize();
            this._display.autoscale(size.w, size.h);
        }
        this._fixScrollbars();
    },

    // Requests a change of remote desktop size. This message is an extension
    // and may only be sent if we have received an ExtendedDesktopSize message
    _requestRemoteResize: function () {
        clearTimeout(this._resizeTimeout);
        this._resizeTimeout = null;

        if (!this._resizeSession || this._viewOnly ||
            !this._supportsSetDesktopSize) {
            return;
        }

        let size = this._screenSize();
        RFB.messages.setDesktopSize(this._sock, size.w, size.h,
                                    this._screen_id, this._screen_flags);

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Requested new desktop size: ' +
                   size.w + 'x' + size.h);
    },

    // Gets the the size of the available screen
    _screenSize: function () {
        return { w: this._screen.offsetWidth,
                 h: this._screen.offsetHeight };
    },

    _fixScrollbars: function () {
        // This is a hack because Chrome screws up the calculation
        // for when scrollbars are needed. So to fix it we temporarily
        // toggle them off and on.
        var orig = this._screen.style.overflow;
        this._screen.style.overflow = 'hidden';
        // Force Chrome to recalculate the layout by asking for
        // an element's dimensions
        this._screen.getBoundingClientRect();
        this._screen.style.overflow = orig;
    },

    /*
     * Connection states:
     *   connecting
     *   connected
     *   disconnecting
     *   disconnected - permanent state
     */
    _updateConnectionState: function (state) {
        var oldstate = this._rfb_connection_state;

        if (state === oldstate) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Already in state '" + state + "', ignoring");
            return;
        }

        // The 'disconnected' state is permanent for each RFB object
        if (oldstate === 'disconnected') {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Tried changing state of a disconnected RFB object");
            return;
        }

        // Ensure proper transitions before doing anything
        switch (state) {
            case 'connected':
                if (oldstate !== 'connecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to connected state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'disconnected':
                if (oldstate !== 'disconnecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to disconnected state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'connecting':
                if (oldstate !== '') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to connecting state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'disconnecting':
                if (oldstate !== 'connected' && oldstate !== 'connecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to disconnecting state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            default:
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Unknown connection state: " + state);
                return;
        }

        // State change actions

        this._rfb_connection_state = state;

        var smsg = "New state '" + state + "', was '" + oldstate + "'.";
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](smsg);

        if (this._disconnTimer && state !== 'disconnecting') {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Clearing disconnect timer");
            clearTimeout(this._disconnTimer);
            this._disconnTimer = null;

            // make sure we don't get a double event
            this._sock.off('close');
        }

        switch (state) {
            case 'connecting':
                this._connect();
                break;

            case 'connected':
                var event = new CustomEvent("connect", { detail: {} });
                this.dispatchEvent(event);
                break;

            case 'disconnecting':
                this._disconnect();

                this._disconnTimer = setTimeout(function () {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Disconnection timed out.");
                    this._updateConnectionState('disconnected');
                }.bind(this), DISCONNECT_TIMEOUT * 1000);
                break;

            case 'disconnected':
                event = new CustomEvent(
                    "disconnect", { detail:
                                    { clean: this._rfb_clean_disconnect } });
                this.dispatchEvent(event);
                break;
        }
    },

    /* Print errors and disconnect
     *
     * The parameter 'details' is used for information that
     * should be logged but not sent to the user interface.
     */
    _fail: function (details) {
        switch (this._rfb_connection_state) {
            case 'disconnecting':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed when disconnecting: " + details);
                break;
            case 'connected':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed while connected: " + details);
                break;
            case 'connecting':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed when connecting: " + details);
                break;
            default:
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("RFB failure: " + details);
                break;
        }
        this._rfb_clean_disconnect = false; //This is sent to the UI

        // Transition to disconnected without waiting for socket to close
        this._updateConnectionState('disconnecting');
        this._updateConnectionState('disconnected');

        return false;
    },

    _setCapability: function (cap, val) {
        this._capabilities[cap] = val;
        var event = new CustomEvent("capabilities",
                                    { detail: { capabilities: this._capabilities } });
        this.dispatchEvent(event);
    },

    _handle_message: function () {
        if (this._sock.rQlen() === 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("handle_message called on an empty receive queue");
            return;
        }

        switch (this._rfb_connection_state) {
            case 'disconnected':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Got data while disconnected");
                break;
            case 'connected':
                while (true) {
                    if (this._flushing) {
                        break;
                    }
                    if (!this._normal_msg()) {
                        break;
                    }
                    if (this._sock.rQlen() === 0) {
                        break;
                    }
                }
                break;
            default:
                this._init_msg();
                break;
        }
    },

    _handleKeyEvent: function (keysym, code, down) {
        this.sendKey(keysym, code, down);
    },

    _handleMouseButton: function (x, y, down, bmask) {
        if (down) {
            this._mouse_buttonMask |= bmask;
        } else {
            this._mouse_buttonMask &= ~bmask;
        }

        if (this.dragViewport) {
            if (down && !this._viewportDragging) {
                this._viewportDragging = true;
                this._viewportDragPos = {'x': x, 'y': y};
                this._viewportHasMoved = false;

                // Skip sending mouse events
                return;
            } else {
                this._viewportDragging = false;

                // If we actually performed a drag then we are done
                // here and should not send any mouse events
                if (this._viewportHasMoved) {
                    return;
                }

                // Otherwise we treat this as a mouse click event.
                // Send the button down event here, as the button up
                // event is sent at the end of this function.
                RFB.messages.pointerEvent(this._sock,
                                          this._display.absX(x),
                                          this._display.absY(y),
                                          bmask);
            }
        }

        if (this._viewOnly) { return; } // View only, skip mouse events

        if (this._rfb_connection_state !== 'connected') { return; }
        RFB.messages.pointerEvent(this._sock, this._display.absX(x), this._display.absY(y), this._mouse_buttonMask);
    },

    _handleMouseMove: function (x, y) {
        if (this._viewportDragging) {
            var deltaX = this._viewportDragPos.x - x;
            var deltaY = this._viewportDragPos.y - y;

            // The goal is to trigger on a certain physical width, the
            // devicePixelRatio brings us a bit closer but is not optimal.
            var dragThreshold = 10 * (window.devicePixelRatio || 1);

            if (this._viewportHasMoved || (Math.abs(deltaX) > dragThreshold ||
                                           Math.abs(deltaY) > dragThreshold)) {
                this._viewportHasMoved = true;

                this._viewportDragPos = {'x': x, 'y': y};
                this._display.viewportChangePos(deltaX, deltaY);
            }

            // Skip sending mouse events
            return;
        }

        if (this._viewOnly) { return; } // View only, skip mouse events

        if (this._rfb_connection_state !== 'connected') { return; }
        RFB.messages.pointerEvent(this._sock, this._display.absX(x), this._display.absY(y), this._mouse_buttonMask);
    },

    // Message Handlers

    _negotiate_protocol_version: function () {
        if (this._sock.rQlen() < 12) {
            return this._fail("Received incomplete protocol version.");
        }

        var sversion = this._sock.rQshiftStr(12).substr(4, 7);
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Server ProtocolVersion: " + sversion);
        var is_repeater = 0;
        switch (sversion) {
            case "000.000":  // UltraVNC repeater
                is_repeater = 1;
                break;
            case "003.003":
            case "003.006":  // UltraVNC
            case "003.889":  // Apple Remote Desktop
                this._rfb_version = 3.3;
                break;
            case "003.007":
                this._rfb_version = 3.7;
                break;
            case "003.008":
            case "004.000":  // Intel AMT KVM
            case "004.001":  // RealVNC 4.6
            case "005.000":  // RealVNC 5.3
                this._rfb_version = 3.8;
                break;
            default:
                return this._fail("Invalid server version " + sversion);
        }

        if (is_repeater) {
            var repeaterID = "ID:" + this._repeaterID;
            while (repeaterID.length < 250) {
                repeaterID += "\0";
            }
            this._sock.send_string(repeaterID);
            return true;
        }

        if (this._rfb_version > this._rfb_max_version) {
            this._rfb_version = this._rfb_max_version;
        }

        var cversion = "00" + parseInt(this._rfb_version, 10) +
                       ".00" + ((this._rfb_version * 10) % 10);
        this._sock.send_string("RFB " + cversion + "\n");
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Sent ProtocolVersion: ' + cversion);

        this._rfb_init_state = 'Security';
    },

    _negotiate_security: function () {
        // Polyfill since IE and PhantomJS doesn't have
        // TypedArray.includes()
        function includes(item, array) {
            for (var i = 0; i < array.length; i++) {
                if (array[i] === item) {
                    return true;
                }
            }
            return false;
        }

        if (this._rfb_version >= 3.7) {
            // Server sends supported list, client decides
            var num_types = this._sock.rQshift8();
            if (this._sock.rQwait("security type", num_types, 1)) { return false; }

            if (num_types === 0) {
                return this._handle_security_failure("no security types");
            }

            var types = this._sock.rQshiftBytes(num_types);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Server security types: " + types);

            // Look for each auth in preferred order
            this._rfb_auth_scheme = 0;
            if (includes(1, types)) {
                this._rfb_auth_scheme = 1; // None
            } else if (includes(22, types)) {
                this._rfb_auth_scheme = 22; // XVP
            } else if (includes(16, types)) {
                this._rfb_auth_scheme = 16; // Tight
            } else if (includes(2, types)) {
                this._rfb_auth_scheme = 2; // VNC Auth
            } else {
                return this._fail("Unsupported security types (types: " + types + ")");
            }

            this._sock.send([this._rfb_auth_scheme]);
        } else {
            // Server decides
            if (this._sock.rQwait("security scheme", 4)) { return false; }
            this._rfb_auth_scheme = this._sock.rQshift32();
        }

        this._rfb_init_state = 'Authentication';
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Authenticating using scheme: ' + this._rfb_auth_scheme);

        return this._init_msg(); // jump to authentication
    },

    /*
     * Get the security failure reason if sent from the server and
     * send the 'securityfailure' event.
     *
     * - The optional parameter context can be used to add some extra
     *   context to the log output.
     *
     * - The optional parameter security_result_status can be used to
     *   add a custom status code to the event.
     */
    _handle_security_failure: function (context, security_result_status) {

        if (typeof context === 'undefined') {
            context = "";
        } else {
            context = " on " + context;
        }

        if (typeof security_result_status === 'undefined') {
            security_result_status = 1; // fail
        }

        if (this._sock.rQwait("reason length", 4)) {
            return false;
        }
        let strlen = this._sock.rQshift32();
        let reason = "";

        if (strlen > 0) {
            if (this._sock.rQwait("reason", strlen, 8)) { return false; }
            reason = this._sock.rQshiftStr(strlen);
        }

        if (reason !== "") {

            let event = new CustomEvent(
                "securityfailure",
                { detail: { status: security_result_status, reason: reason } });
            this.dispatchEvent(event);

            return this._fail("Security negotiation failed" + context +
                              " (reason: " + reason + ")");
        } else {

            let event = new CustomEvent(
                "securityfailure",
                { detail: { status: security_result_status } });
            this.dispatchEvent(event);

            return this._fail("Security negotiation failed" + context);
        }
    },

    // authentication
    _negotiate_xvp_auth: function () {
        if (!this._rfb_credentials.username ||
            !this._rfb_credentials.password ||
            !this._rfb_credentials.target) {
            var event = new CustomEvent("credentialsrequired",
                                        { detail: { types: ["username", "password", "target"] } });
            this.dispatchEvent(event);
            return false;
        }

        var xvp_auth_str = String.fromCharCode(this._rfb_credentials.username.length) +
                           String.fromCharCode(this._rfb_credentials.target.length) +
                           this._rfb_credentials.username +
                           this._rfb_credentials.target;
        this._sock.send_string(xvp_auth_str);
        this._rfb_auth_scheme = 2;
        return this._negotiate_authentication();
    },

    _negotiate_std_vnc_auth: function () {
        if (this._sock.rQwait("auth challenge", 16)) { return false; }

        if (!this._rfb_credentials.password) {
            var event = new CustomEvent("credentialsrequired",
                                        { detail: { types: ["password"] } });
            this.dispatchEvent(event);
            return false;
        }

        // TODO(directxman12): make genDES not require an Array
        var challenge = Array.prototype.slice.call(this._sock.rQshiftBytes(16));
        var response = RFB.genDES(this._rfb_credentials.password, challenge);
        this._sock.send(response);
        this._rfb_init_state = "SecurityResult";
        return true;
    },

    _negotiate_tight_tunnels: function (numTunnels) {
        var clientSupportedTunnelTypes = {
            0: { vendor: 'TGHT', signature: 'NOTUNNEL' }
        };
        var serverSupportedTunnelTypes = {};
        // receive tunnel capabilities
        for (var i = 0; i < numTunnels; i++) {
            var cap_code = this._sock.rQshift32();
            var cap_vendor = this._sock.rQshiftStr(4);
            var cap_signature = this._sock.rQshiftStr(8);
            serverSupportedTunnelTypes[cap_code] = { vendor: cap_vendor, signature: cap_signature };
        }

        // choose the notunnel type
        if (serverSupportedTunnelTypes[0]) {
            if (serverSupportedTunnelTypes[0].vendor != clientSupportedTunnelTypes[0].vendor ||
                serverSupportedTunnelTypes[0].signature != clientSupportedTunnelTypes[0].signature) {
                return this._fail("Client's tunnel type had the incorrect " +
                                  "vendor or signature");
            }
            this._sock.send([0, 0, 0, 0]);  // use NOTUNNEL
            return false; // wait until we receive the sub auth count to continue
        } else {
            return this._fail("Server wanted tunnels, but doesn't support " +
                              "the notunnel type");
        }
    },

    _negotiate_tight_auth: function () {
        if (!this._rfb_tightvnc) {  // first pass, do the tunnel negotiation
            if (this._sock.rQwait("num tunnels", 4)) { return false; }
            var numTunnels = this._sock.rQshift32();
            if (numTunnels > 0 && this._sock.rQwait("tunnel capabilities", 16 * numTunnels, 4)) { return false; }

            this._rfb_tightvnc = true;

            if (numTunnels > 0) {
                this._negotiate_tight_tunnels(numTunnels);
                return false;  // wait until we receive the sub auth to continue
            }
        }

        // second pass, do the sub-auth negotiation
        if (this._sock.rQwait("sub auth count", 4)) { return false; }
        var subAuthCount = this._sock.rQshift32();
        if (subAuthCount === 0) {  // empty sub-auth list received means 'no auth' subtype selected
            this._rfb_init_state = 'SecurityResult';
            return true;
        }

        if (this._sock.rQwait("sub auth capabilities", 16 * subAuthCount, 4)) { return false; }

        var clientSupportedTypes = {
            'STDVNOAUTH__': 1,
            'STDVVNCAUTH_': 2
        };

        var serverSupportedTypes = [];

        for (var i = 0; i < subAuthCount; i++) {
            var capNum = this._sock.rQshift32();
            var capabilities = this._sock.rQshiftStr(12);
            serverSupportedTypes.push(capabilities);
        }

        for (var authType in clientSupportedTypes) {
            if (serverSupportedTypes.indexOf(authType) != -1) {
                this._sock.send([0, 0, 0, clientSupportedTypes[authType]]);

                switch (authType) {
                    case 'STDVNOAUTH__':  // no auth
                        this._rfb_init_state = 'SecurityResult';
                        return true;
                    case 'STDVVNCAUTH_': // VNC auth
                        this._rfb_auth_scheme = 2;
                        return this._init_msg();
                    default:
                        return this._fail("Unsupported tiny auth scheme " +
                                          "(scheme: " + authType + ")");
                }
            }
        }

        return this._fail("No supported sub-auth types!");
    },

    _negotiate_authentication: function () {
        switch (this._rfb_auth_scheme) {
            case 0:  // connection failed
                return this._handle_security_failure("authentication scheme");

            case 1:  // no auth
                if (this._rfb_version >= 3.8) {
                    this._rfb_init_state = 'SecurityResult';
                    return true;
                }
                this._rfb_init_state = 'ClientInitialisation';
                return this._init_msg();

            case 22:  // XVP auth
                return this._negotiate_xvp_auth();

            case 2:  // VNC authentication
                return this._negotiate_std_vnc_auth();

            case 16:  // TightVNC Security Type
                return this._negotiate_tight_auth();

            default:
                return this._fail("Unsupported auth scheme (scheme: " +
                                  this._rfb_auth_scheme + ")");
        }
    },

    _handle_security_result: function () {
        if (this._sock.rQwait('VNC auth response ', 4)) { return false; }

        let status = this._sock.rQshift32();

        if (status === 0) { // OK
            this._rfb_init_state = 'ClientInitialisation';
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Authentication OK');
            return this._init_msg();
        } else {
            if (this._rfb_version >= 3.8) {
                return this._handle_security_failure("security result", status);
            } else {
                let event = new CustomEvent("securityfailure",
                                            { detail: { status: status } });
                this.dispatchEvent(event);

                return this._fail("Security handshake failed");
            }
        }
    },

    _negotiate_server_init: function () {
        if (this._sock.rQwait("server initialization", 24)) { return false; }

        /* Screen size */
        var width = this._sock.rQshift16();
        var height = this._sock.rQshift16();

        /* PIXEL_FORMAT */
        var bpp         = this._sock.rQshift8();
        var depth       = this._sock.rQshift8();
        var big_endian  = this._sock.rQshift8();
        var true_color  = this._sock.rQshift8();

        var red_max     = this._sock.rQshift16();
        var green_max   = this._sock.rQshift16();
        var blue_max    = this._sock.rQshift16();
        var red_shift   = this._sock.rQshift8();
        var green_shift = this._sock.rQshift8();
        var blue_shift  = this._sock.rQshift8();
        this._sock.rQskipBytes(3);  // padding

        // NB(directxman12): we don't want to call any callbacks or print messages until
        //                   *after* we're past the point where we could backtrack

        /* Connection name/title */
        var name_length = this._sock.rQshift32();
        if (this._sock.rQwait('server init name', name_length, 24)) { return false; }
        this._fb_name = Object(_util_strings_js__WEBPACK_IMPORTED_MODULE_1__["decodeUTF8"])(this._sock.rQshiftStr(name_length));

        if (this._rfb_tightvnc) {
            if (this._sock.rQwait('TightVNC extended server init header', 8, 24 + name_length)) { return false; }
            // In TightVNC mode, ServerInit message is extended
            var numServerMessages = this._sock.rQshift16();
            var numClientMessages = this._sock.rQshift16();
            var numEncodings = this._sock.rQshift16();
            this._sock.rQskipBytes(2);  // padding

            var totalMessagesLength = (numServerMessages + numClientMessages + numEncodings) * 16;
            if (this._sock.rQwait('TightVNC extended server init header', totalMessagesLength, 32 + name_length)) { return false; }

            // we don't actually do anything with the capability information that TIGHT sends,
            // so we just skip the all of this.

            // TIGHT server message capabilities
            this._sock.rQskipBytes(16 * numServerMessages);

            // TIGHT client message capabilities
            this._sock.rQskipBytes(16 * numClientMessages);

            // TIGHT encoding capabilities
            this._sock.rQskipBytes(16 * numEncodings);
        }

        // NB(directxman12): these are down here so that we don't run them multiple times
        //                   if we backtrack
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Screen: " + width + "x" + height +
                  ", bpp: " + bpp + ", depth: " + depth +
                  ", big_endian: " + big_endian +
                  ", true_color: " + true_color +
                  ", red_max: " + red_max +
                  ", green_max: " + green_max +
                  ", blue_max: " + blue_max +
                  ", red_shift: " + red_shift +
                  ", green_shift: " + green_shift +
                  ", blue_shift: " + blue_shift);

        if (big_endian !== 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native endian is not little endian");
        }

        if (red_shift !== 16) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native red-shift is not 16");
        }

        if (blue_shift !== 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native blue-shift is not 0");
        }

        // we're past the point where we could backtrack, so it's safe to call this
        var event = new CustomEvent("desktopname",
                                    { detail: { name: this._fb_name } });
        this.dispatchEvent(event);

        this._resize(width, height);

        if (!this._viewOnly) { this._keyboard.grab(); }
        if (!this._viewOnly) { this._mouse.grab(); }

        this._fb_depth = 24;

        if (this._fb_name === "Intel(r) AMT KVM") {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Intel AMT KVM only supports 8/16 bit depths. Using low color mode.");
            this._fb_depth = 8;
        }

        RFB.messages.pixelFormat(this._sock, this._fb_depth, true);
        this._sendEncodings();
        RFB.messages.fbUpdateRequest(this._sock, false, 0, 0, this._fb_width, this._fb_height);

        this._timing.fbu_rt_start = (new Date()).getTime();
        this._timing.pixels = 0;

        // Cursor will be server side until the server decides to honor
        // our request and send over the cursor image
        this._display.disableLocalCursor();

        this._updateConnectionState('connected');
        return true;
    },

    _sendEncodings: function () {
        var encs = [];

        // In preference order
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingCopyRect);
        // Only supported with full depth support
        if (this._fb_depth == 24) {
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingTight);
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingHextile);
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRRE);
        }
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRaw);

        // Psuedo-encoding settings
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingTightPNG);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQualityLevel0 + 6);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCompressLevel0 + 2);

        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingDesktopSize);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingLastRect);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQEMUExtendedKeyEvent);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingExtendedDesktopSize);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingXvp);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingFence);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingContinuousUpdates);

        if (Object(_util_browser_js__WEBPACK_IMPORTED_MODULE_2__["supportsCursorURIs"])() &&
            !_util_browser_js__WEBPACK_IMPORTED_MODULE_2__["isTouchDevice"] && this._fb_depth == 24) {
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCursor);
        }

        RFB.messages.clientEncodings(this._sock, encs);
    },

    /* RFB protocol initialization states:
     *   ProtocolVersion
     *   Security
     *   Authentication
     *   SecurityResult
     *   ClientInitialization - not triggered by server message
     *   ServerInitialization
     */
    _init_msg: function () {
        switch (this._rfb_init_state) {
            case 'ProtocolVersion':
                return this._negotiate_protocol_version();

            case 'Security':
                return this._negotiate_security();

            case 'Authentication':
                return this._negotiate_authentication();

            case 'SecurityResult':
                return this._handle_security_result();

            case 'ClientInitialisation':
                this._sock.send([this._shared ? 1 : 0]); // ClientInitialisation
                this._rfb_init_state = 'ServerInitialisation';
                return true;

            case 'ServerInitialisation':
                return this._negotiate_server_init();

            default:
                return this._fail("Unknown init state (state: " +
                                  this._rfb_init_state + ")");
        }
    },

    _handle_set_colour_map_msg: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("SetColorMapEntries");

        return this._fail("Unexpected SetColorMapEntries message");
    },

    _handle_server_cut_text: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("ServerCutText");

        if (this._sock.rQwait("ServerCutText header", 7, 1)) { return false; }
        this._sock.rQskipBytes(3);  // Padding
        var length = this._sock.rQshift32();
        if (this._sock.rQwait("ServerCutText", length, 8)) { return false; }

        var text = this._sock.rQshiftStr(length);

        if (this._viewOnly) { return true; }

        var event = new CustomEvent("clipboard",
                                    { detail: { text: text } });
        this.dispatchEvent(event);

        return true;
    },

    _handle_server_fence_msg: function() {
        if (this._sock.rQwait("ServerFence header", 8, 1)) { return false; }
        this._sock.rQskipBytes(3); // Padding
        var flags = this._sock.rQshift32();
        var length = this._sock.rQshift8();

        if (this._sock.rQwait("ServerFence payload", length, 9)) { return false; }

        if (length > 64) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Bad payload length (" + length + ") in fence response");
            length = 64;
        }

        var payload = this._sock.rQshiftStr(length);

        this._supportsFence = true;

        /*
         * Fence flags
         *
         *  (1<<0)  - BlockBefore
         *  (1<<1)  - BlockAfter
         *  (1<<2)  - SyncNext
         *  (1<<31) - Request
         */

        if (!(flags & (1<<31))) {
            return this._fail("Unexpected fence response");
        }

        // Filter out unsupported flags
        // FIXME: support syncNext
        flags &= (1<<0) | (1<<1);

        // BlockBefore and BlockAfter are automatically handled by
        // the fact that we process each incoming message
        // synchronuosly.
        RFB.messages.clientFence(this._sock, flags, payload);

        return true;
    },

    _handle_xvp_msg: function () {
        if (this._sock.rQwait("XVP version and message", 3, 1)) { return false; }
        this._sock.rQskip8();  // Padding
        var xvp_ver = this._sock.rQshift8();
        var xvp_msg = this._sock.rQshift8();

        switch (xvp_msg) {
            case 0:  // XVP_FAIL
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("XVP Operation Failed");
                break;
            case 1:  // XVP_INIT
                this._rfb_xvp_ver = xvp_ver;
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("XVP extensions enabled (version " + this._rfb_xvp_ver + ")");
                this._setCapability("power", true);
                break;
            default:
                this._fail("Illegal server XVP message (msg: " + xvp_msg + ")");
                break;
        }

        return true;
    },

    _normal_msg: function () {
        var msg_type;

        if (this._FBU.rects > 0) {
            msg_type = 0;
        } else {
            msg_type = this._sock.rQshift8();
        }

        switch (msg_type) {
            case 0:  // FramebufferUpdate
                var ret = this._framebufferUpdate();
                if (ret && !this._enabledContinuousUpdates) {
                    RFB.messages.fbUpdateRequest(this._sock, true, 0, 0,
                                                 this._fb_width, this._fb_height);
                }
                return ret;

            case 1:  // SetColorMapEntries
                return this._handle_set_colour_map_msg();

            case 2:  // Bell
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Bell");
                var event = new CustomEvent("bell", { detail: {} });
                this.dispatchEvent(event);
                return true;

            case 3:  // ServerCutText
                return this._handle_server_cut_text();

            case 150: // EndOfContinuousUpdates
                var first = !(this._supportsContinuousUpdates);
                this._supportsContinuousUpdates = true;
                this._enabledContinuousUpdates = false;
                if (first) {
                    this._enabledContinuousUpdates = true;
                    this._updateContinuousUpdates();
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Enabling continuous updates.");
                } else {
                    // FIXME: We need to send a framebufferupdaterequest here
                    // if we add support for turning off continuous updates
                }
                return true;

            case 248: // ServerFence
                return this._handle_server_fence_msg();

            case 250:  // XVP
                return this._handle_xvp_msg();

            default:
                this._fail("Unexpected server message (type " + msg_type + ")");
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("sock.rQslice(0, 30): " + this._sock.rQslice(0, 30));
                return true;
        }
    },

    _onFlush: function() {
        this._flushing = false;
        // Resume processing
        if (this._sock.rQlen() > 0) {
            this._handle_message();
        }
    },

    _framebufferUpdate: function () {
        var ret = true;
        var now;

        if (this._FBU.rects === 0) {
            if (this._sock.rQwait("FBU header", 3, 1)) { return false; }
            this._sock.rQskip8();  // Padding
            this._FBU.rects = this._sock.rQshift16();
            this._FBU.bytes = 0;
            this._timing.cur_fbu = 0;
            if (this._timing.fbu_rt_start > 0) {
                now = (new Date()).getTime();
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("First FBU latency: " + (now - this._timing.fbu_rt_start));
            }

            // Make sure the previous frame is fully rendered first
            // to avoid building up an excessive queue
            if (this._display.pending()) {
                this._flushing = true;
                this._display.flush();
                return false;
            }
        }

        while (this._FBU.rects > 0) {
            if (this._rfb_connection_state !== 'connected') { return false; }

            if (this._sock.rQwait("FBU", this._FBU.bytes)) { return false; }
            if (this._FBU.bytes === 0) {
                if (this._sock.rQwait("rect header", 12)) { return false; }
                /* New FramebufferUpdate */

                var hdr = this._sock.rQshiftBytes(12);
                this._FBU.x        = (hdr[0] << 8) + hdr[1];
                this._FBU.y        = (hdr[2] << 8) + hdr[3];
                this._FBU.width    = (hdr[4] << 8) + hdr[5];
                this._FBU.height   = (hdr[6] << 8) + hdr[7];
                this._FBU.encoding = parseInt((hdr[8] << 24) + (hdr[9] << 16) +
                                              (hdr[10] << 8) + hdr[11], 10);

                if (!this._encHandlers[this._FBU.encoding]) {
                    this._fail("Unsupported encoding (encoding: " +
                               this._FBU.encoding + ")");
                    return false;
                }
            }

            this._timing.last_fbu = (new Date()).getTime();

            ret = this._encHandlers[this._FBU.encoding]();

            now = (new Date()).getTime();
            this._timing.cur_fbu += (now - this._timing.last_fbu);

            if (ret) {
                if (!(this._FBU.encoding in this._encStats)) {
                    this._encStats[this._FBU.encoding] = [0, 0];
                }
                this._encStats[this._FBU.encoding][0]++;
                this._encStats[this._FBU.encoding][1]++;
                this._timing.pixels += this._FBU.width * this._FBU.height;
            }

            if (this._timing.pixels >= (this._fb_width * this._fb_height)) {
                if ((this._FBU.width === this._fb_width && this._FBU.height === this._fb_height) ||
                    this._timing.fbu_rt_start > 0) {
                    this._timing.full_fbu_total += this._timing.cur_fbu;
                    this._timing.full_fbu_cnt++;
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Timing of full FBU, curr: " +
                              this._timing.cur_fbu + ", total: " +
                              this._timing.full_fbu_total + ", cnt: " +
                              this._timing.full_fbu_cnt + ", avg: " +
                              (this._timing.full_fbu_total / this._timing.full_fbu_cnt));
                }

                if (this._timing.fbu_rt_start > 0) {
                    var fbu_rt_diff = now - this._timing.fbu_rt_start;
                    this._timing.fbu_rt_total += fbu_rt_diff;
                    this._timing.fbu_rt_cnt++;
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("full FBU round-trip, cur: " +
                              fbu_rt_diff + ", total: " +
                              this._timing.fbu_rt_total + ", cnt: " +
                              this._timing.fbu_rt_cnt + ", avg: " +
                              (this._timing.fbu_rt_total / this._timing.fbu_rt_cnt));
                    this._timing.fbu_rt_start = 0;
                }
            }

            if (!ret) { return ret; }  // need more data
        }

        this._display.flip();

        return true;  // We finished this FBU
    },

    _updateContinuousUpdates: function() {
        if (!this._enabledContinuousUpdates) { return; }

        RFB.messages.enableContinuousUpdates(this._sock, true, 0, 0,
                                             this._fb_width, this._fb_height);
    },

    _resize: function(width, height) {
        this._fb_width = width;
        this._fb_height = height;

        this._destBuff = new Uint8Array(this._fb_width * this._fb_height * 4);

        this._display.resize(this._fb_width, this._fb_height);

        // Adjust the visible viewport based on the new dimensions
        this._updateClip();
        this._updateScale();

        this._timing.fbu_rt_start = (new Date()).getTime();
        this._updateContinuousUpdates();
    },

    _xvpOp: function (ver, op) {
        if (this._rfb_xvp_ver < ver) { return; }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending XVP operation " + op + " (version " + ver + ")");
        RFB.messages.xvpOp(this._sock, ver, op);
    },
};

Object.assign(RFB.prototype, _util_eventtarget_js__WEBPACK_IMPORTED_MODULE_3__["default"]);

// Class Methods
RFB.messages = {
    keyEvent: function (sock, keysym, down) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 4;  // msg-type
        buff[offset + 1] = down;

        buff[offset + 2] = 0;
        buff[offset + 3] = 0;

        buff[offset + 4] = (keysym >> 24);
        buff[offset + 5] = (keysym >> 16);
        buff[offset + 6] = (keysym >> 8);
        buff[offset + 7] = keysym;

        sock._sQlen += 8;
        sock.flush();
    },

    QEMUExtendedKeyEvent: function (sock, keysym, down, keycode) {
        function getRFBkeycode(xt_scancode) {
            var upperByte = (keycode >> 8);
            var lowerByte = (keycode & 0x00ff);
            if (upperByte === 0xe0 && lowerByte < 0x7f) {
                lowerByte = lowerByte | 0x80;
                return lowerByte;
            }
            return xt_scancode;
        }

        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 255; // msg-type
        buff[offset + 1] = 0; // sub msg-type

        buff[offset + 2] = (down >> 8);
        buff[offset + 3] = down;

        buff[offset + 4] = (keysym >> 24);
        buff[offset + 5] = (keysym >> 16);
        buff[offset + 6] = (keysym >> 8);
        buff[offset + 7] = keysym;

        var RFBkeycode = getRFBkeycode(keycode);

        buff[offset + 8] = (RFBkeycode >> 24);
        buff[offset + 9] = (RFBkeycode >> 16);
        buff[offset + 10] = (RFBkeycode >> 8);
        buff[offset + 11] = RFBkeycode;

        sock._sQlen += 12;
        sock.flush();
    },

    pointerEvent: function (sock, x, y, mask) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 5; // msg-type

        buff[offset + 1] = mask;

        buff[offset + 2] = x >> 8;
        buff[offset + 3] = x;

        buff[offset + 4] = y >> 8;
        buff[offset + 5] = y;

        sock._sQlen += 6;
        sock.flush();
    },

    // TODO(directxman12): make this unicode compatible?
    clientCutText: function (sock, text) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 6; // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        var n = text.length;

        buff[offset + 4] = n >> 24;
        buff[offset + 5] = n >> 16;
        buff[offset + 6] = n >> 8;
        buff[offset + 7] = n;

        for (var i = 0; i < n; i++) {
            buff[offset + 8 + i] =  text.charCodeAt(i);
        }

        sock._sQlen += 8 + n;
        sock.flush();
    },

    setDesktopSize: function (sock, width, height, id, flags) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 251;              // msg-type
        buff[offset + 1] = 0;            // padding
        buff[offset + 2] = width >> 8;   // width
        buff[offset + 3] = width;
        buff[offset + 4] = height >> 8;  // height
        buff[offset + 5] = height;

        buff[offset + 6] = 1;            // number-of-screens
        buff[offset + 7] = 0;            // padding

        // screen array
        buff[offset + 8] = id >> 24;     // id
        buff[offset + 9] = id >> 16;
        buff[offset + 10] = id >> 8;
        buff[offset + 11] = id;
        buff[offset + 12] = 0;           // x-position
        buff[offset + 13] = 0;
        buff[offset + 14] = 0;           // y-position
        buff[offset + 15] = 0;
        buff[offset + 16] = width >> 8;  // width
        buff[offset + 17] = width;
        buff[offset + 18] = height >> 8; // height
        buff[offset + 19] = height;
        buff[offset + 20] = flags >> 24; // flags
        buff[offset + 21] = flags >> 16;
        buff[offset + 22] = flags >> 8;
        buff[offset + 23] = flags;

        sock._sQlen += 24;
        sock.flush();
    },

    clientFence: function (sock, flags, payload) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 248; // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        buff[offset + 4] = flags >> 24; // flags
        buff[offset + 5] = flags >> 16;
        buff[offset + 6] = flags >> 8;
        buff[offset + 7] = flags;

        var n = payload.length;

        buff[offset + 8] = n; // length

        for (var i = 0; i < n; i++) {
            buff[offset + 9 + i] = payload.charCodeAt(i);
        }

        sock._sQlen += 9 + n;
        sock.flush();
    },

    enableContinuousUpdates: function (sock, enable, x, y, width, height) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 150;             // msg-type
        buff[offset + 1] = enable;      // enable-flag

        buff[offset + 2] = x >> 8;      // x
        buff[offset + 3] = x;
        buff[offset + 4] = y >> 8;      // y
        buff[offset + 5] = y;
        buff[offset + 6] = width >> 8;  // width
        buff[offset + 7] = width;
        buff[offset + 8] = height >> 8; // height
        buff[offset + 9] = height;

        sock._sQlen += 10;
        sock.flush();
    },

    pixelFormat: function (sock, depth, true_color) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        var bpp, bits;

        if (depth > 16) {
            bpp = 32;
        } else if (depth > 8) {
            bpp = 16;
        } else {
            bpp = 8;
        }

        bits = Math.floor(depth/3);

        buff[offset] = 0;  // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        buff[offset + 4] = bpp;                 // bits-per-pixel
        buff[offset + 5] = depth;               // depth
        buff[offset + 6] = 0;                   // little-endian
        buff[offset + 7] = true_color ? 1 : 0;  // true-color

        buff[offset + 8] = 0;    // red-max
        buff[offset + 9] = (1 << bits) - 1;  // red-max

        buff[offset + 10] = 0;   // green-max
        buff[offset + 11] = (1 << bits) - 1; // green-max

        buff[offset + 12] = 0;   // blue-max
        buff[offset + 13] = (1 << bits) - 1; // blue-max

        buff[offset + 14] = bits * 2; // red-shift
        buff[offset + 15] = bits * 1; // green-shift
        buff[offset + 16] = bits * 0; // blue-shift

        buff[offset + 17] = 0;   // padding
        buff[offset + 18] = 0;   // padding
        buff[offset + 19] = 0;   // padding

        sock._sQlen += 20;
        sock.flush();
    },

    clientEncodings: function (sock, encodings) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 2; // msg-type
        buff[offset + 1] = 0; // padding

        buff[offset + 2] = encodings.length >> 8;
        buff[offset + 3] = encodings.length;

        var i, j = offset + 4;
        for (i = 0; i < encodings.length; i++) {
            var enc = encodings[i];
            buff[j] = enc >> 24;
            buff[j + 1] = enc >> 16;
            buff[j + 2] = enc >> 8;
            buff[j + 3] = enc;

            j += 4;
        }

        sock._sQlen += j - offset;
        sock.flush();
    },

    fbUpdateRequest: function (sock, incremental, x, y, w, h) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        if (typeof(x) === "undefined") { x = 0; }
        if (typeof(y) === "undefined") { y = 0; }

        buff[offset] = 3;  // msg-type
        buff[offset + 1] = incremental ? 1 : 0;

        buff[offset + 2] = (x >> 8) & 0xFF;
        buff[offset + 3] = x & 0xFF;

        buff[offset + 4] = (y >> 8) & 0xFF;
        buff[offset + 5] = y & 0xFF;

        buff[offset + 6] = (w >> 8) & 0xFF;
        buff[offset + 7] = w & 0xFF;

        buff[offset + 8] = (h >> 8) & 0xFF;
        buff[offset + 9] = h & 0xFF;

        sock._sQlen += 10;
        sock.flush();
    },

    xvpOp: function (sock, ver, op) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 250; // msg-type
        buff[offset + 1] = 0; // padding

        buff[offset + 2] = ver;
        buff[offset + 3] = op;

        sock._sQlen += 4;
        sock.flush();
    },
};

RFB.genDES = function (password, challenge) {
    var passwd = [];
    for (var i = 0; i < password.length; i++) {
        passwd.push(password.charCodeAt(i));
    }
    return (new _des_js__WEBPACK_IMPORTED_MODULE_8__["default"](passwd)).encrypt(challenge);
};

RFB.encodingHandlers = {
    RAW: function () {
        if (this._FBU.lines === 0) {
            this._FBU.lines = this._FBU.height;
        }

        var pixelSize = this._fb_depth == 8 ? 1 : 4;
        this._FBU.bytes = this._FBU.width * pixelSize;  // at least a line
        if (this._sock.rQwait("RAW", this._FBU.bytes)) { return false; }
        var cur_y = this._FBU.y + (this._FBU.height - this._FBU.lines);
        var curr_height = Math.min(this._FBU.lines,
                                   Math.floor(this._sock.rQlen() / (this._FBU.width * pixelSize)));
        var data = this._sock.get_rQ();
        var index = this._sock.get_rQi();
        if (this._fb_depth == 8) {
            var pixels = this._FBU.width * curr_height
            var newdata = new Uint8Array(pixels * 4);
            var i;
            for (i = 0;i < pixels;i++) {
                newdata[i * 4 + 0] = ((data[index + i] >> 0) & 0x3) * 255 / 3;
                newdata[i * 4 + 1] = ((data[index + i] >> 2) & 0x3) * 255 / 3;
                newdata[i * 4 + 2] = ((data[index + i] >> 4) & 0x3) * 255 / 3;
                newdata[i * 4 + 4] = 0;
            }
            data = newdata;
            index = 0;
        }
        this._display.blitImage(this._FBU.x, cur_y, this._FBU.width,
                                curr_height, data, index);
        this._sock.rQskipBytes(this._FBU.width * curr_height * pixelSize);
        this._FBU.lines -= curr_height;

        if (this._FBU.lines > 0) {
            this._FBU.bytes = this._FBU.width * pixelSize;  // At least another line
        } else {
            this._FBU.rects--;
            this._FBU.bytes = 0;
        }

        return true;
    },

    COPYRECT: function () {
        this._FBU.bytes = 4;
        if (this._sock.rQwait("COPYRECT", 4)) { return false; }
        this._display.copyImage(this._sock.rQshift16(), this._sock.rQshift16(),
                                this._FBU.x, this._FBU.y, this._FBU.width,
                                this._FBU.height);

        this._FBU.rects--;
        this._FBU.bytes = 0;
        return true;
    },

    RRE: function () {
        var color;
        if (this._FBU.subrects === 0) {
            this._FBU.bytes = 4 + 4;
            if (this._sock.rQwait("RRE", 4 + 4)) { return false; }
            this._FBU.subrects = this._sock.rQshift32();
            color = this._sock.rQshiftBytes(4);  // Background
            this._display.fillRect(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, color);
        }

        while (this._FBU.subrects > 0 && this._sock.rQlen() >= (4 + 8)) {
            color = this._sock.rQshiftBytes(4);
            var x = this._sock.rQshift16();
            var y = this._sock.rQshift16();
            var width = this._sock.rQshift16();
            var height = this._sock.rQshift16();
            this._display.fillRect(this._FBU.x + x, this._FBU.y + y, width, height, color);
            this._FBU.subrects--;
        }

        if (this._FBU.subrects > 0) {
            var chunk = Math.min(this._rre_chunk_sz, this._FBU.subrects);
            this._FBU.bytes = (4 + 8) * chunk;
        } else {
            this._FBU.rects--;
            this._FBU.bytes = 0;
        }

        return true;
    },

    HEXTILE: function () {
        var rQ = this._sock.get_rQ();
        var rQi = this._sock.get_rQi();

        if (this._FBU.tiles === 0) {
            this._FBU.tiles_x = Math.ceil(this._FBU.width / 16);
            this._FBU.tiles_y = Math.ceil(this._FBU.height / 16);
            this._FBU.total_tiles = this._FBU.tiles_x * this._FBU.tiles_y;
            this._FBU.tiles = this._FBU.total_tiles;
        }

        while (this._FBU.tiles > 0) {
            this._FBU.bytes = 1;
            if (this._sock.rQwait("HEXTILE subencoding", this._FBU.bytes)) { return false; }
            var subencoding = rQ[rQi];  // Peek
            if (subencoding > 30) {  // Raw
                this._fail("Illegal hextile subencoding (subencoding: " +
                           subencoding + ")");
                return false;
            }

            var subrects = 0;
            var curr_tile = this._FBU.total_tiles - this._FBU.tiles;
            var tile_x = curr_tile % this._FBU.tiles_x;
            var tile_y = Math.floor(curr_tile / this._FBU.tiles_x);
            var x = this._FBU.x + tile_x * 16;
            var y = this._FBU.y + tile_y * 16;
            var w = Math.min(16, (this._FBU.x + this._FBU.width) - x);
            var h = Math.min(16, (this._FBU.y + this._FBU.height) - y);

            // Figure out how much we are expecting
            if (subencoding & 0x01) {  // Raw
                this._FBU.bytes += w * h * 4;
            } else {
                if (subencoding & 0x02) {  // Background
                    this._FBU.bytes += 4;
                }
                if (subencoding & 0x04) {  // Foreground
                    this._FBU.bytes += 4;
                }
                if (subencoding & 0x08) {  // AnySubrects
                    this._FBU.bytes++;  // Since we aren't shifting it off
                    if (this._sock.rQwait("hextile subrects header", this._FBU.bytes)) { return false; }
                    subrects = rQ[rQi + this._FBU.bytes - 1];  // Peek
                    if (subencoding & 0x10) {  // SubrectsColoured
                        this._FBU.bytes += subrects * (4 + 2);
                    } else {
                        this._FBU.bytes += subrects * 2;
                    }
                }
            }

            if (this._sock.rQwait("hextile", this._FBU.bytes)) { return false; }

            // We know the encoding and have a whole tile
            this._FBU.subencoding = rQ[rQi];
            rQi++;
            if (this._FBU.subencoding === 0) {
                if (this._FBU.lastsubencoding & 0x01) {
                    // Weird: ignore blanks are RAW
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("     Ignoring blank after RAW");
                } else {
                    this._display.fillRect(x, y, w, h, this._FBU.background);
                }
            } else if (this._FBU.subencoding & 0x01) {  // Raw
                this._display.blitImage(x, y, w, h, rQ, rQi);
                rQi += this._FBU.bytes - 1;
            } else {
                if (this._FBU.subencoding & 0x02) {  // Background
                    this._FBU.background = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                    rQi += 4;
                }
                if (this._FBU.subencoding & 0x04) {  // Foreground
                    this._FBU.foreground = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                    rQi += 4;
                }

                this._display.startTile(x, y, w, h, this._FBU.background);
                if (this._FBU.subencoding & 0x08) {  // AnySubrects
                    subrects = rQ[rQi];
                    rQi++;

                    for (var s = 0; s < subrects; s++) {
                        var color;
                        if (this._FBU.subencoding & 0x10) {  // SubrectsColoured
                            color = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                            rQi += 4;
                        } else {
                            color = this._FBU.foreground;
                        }
                        var xy = rQ[rQi];
                        rQi++;
                        var sx = (xy >> 4);
                        var sy = (xy & 0x0f);

                        var wh = rQ[rQi];
                        rQi++;
                        var sw = (wh >> 4) + 1;
                        var sh = (wh & 0x0f) + 1;

                        this._display.subTile(sx, sy, sw, sh, color);
                    }
                }
                this._display.finishTile();
            }
            this._sock.set_rQi(rQi);
            this._FBU.lastsubencoding = this._FBU.subencoding;
            this._FBU.bytes = 0;
            this._FBU.tiles--;
        }

        if (this._FBU.tiles === 0) {
            this._FBU.rects--;
        }

        return true;
    },

    TIGHT: function () {
        this._FBU.bytes = 1;  // compression-control byte
        if (this._sock.rQwait("TIGHT compression-control", this._FBU.bytes)) { return false; }

        var checksum = function (data) {
            var sum = 0;
            for (var i = 0; i < data.length; i++) {
                sum += data[i];
                if (sum > 65536) sum -= 65536;
            }
            return sum;
        };

        var resetStreams = 0;
        var streamId = -1;
        var decompress = function (data, expected) {
            for (var i = 0; i < 4; i++) {
                if ((resetStreams >> i) & 1) {
                    this._FBU.zlibs[i].reset();
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Reset zlib stream " + i);
                }
            }

            //var uncompressed = this._FBU.zlibs[streamId].uncompress(data, 0);
            var uncompressed = this._FBU.zlibs[streamId].inflate(data, true, expected);
            /*if (uncompressed.status !== 0) {
                Log.Error("Invalid data in zlib stream");
            }*/

            //return uncompressed.data;
            return uncompressed;
        }.bind(this);

        var indexedToRGBX2Color = function (data, palette, width, height) {
            // Convert indexed (palette based) image data to RGB
            // TODO: reduce number of calculations inside loop
            var dest = this._destBuff;
            var w = Math.floor((width + 7) / 8);
            var w1 = Math.floor(width / 8);

            /*for (var y = 0; y < height; y++) {
                var b, x, dp, sp;
                var yoffset = y * width;
                var ybitoffset = y * w;
                var xoffset, targetbyte;
                for (x = 0; x < w1; x++) {
                    xoffset = yoffset + x * 8;
                    targetbyte = data[ybitoffset + x];
                    for (b = 7; b >= 0; b--) {
                        dp = (xoffset + 7 - b) * 3;
                        sp = (targetbyte >> b & 1) * 3;
                        dest[dp] = palette[sp];
                        dest[dp + 1] = palette[sp + 1];
                        dest[dp + 2] = palette[sp + 2];
                    }
                }

                xoffset = yoffset + x * 8;
                targetbyte = data[ybitoffset + x];
                for (b = 7; b >= 8 - width % 8; b--) {
                    dp = (xoffset + 7 - b) * 3;
                    sp = (targetbyte >> b & 1) * 3;
                    dest[dp] = palette[sp];
                    dest[dp + 1] = palette[sp + 1];
                    dest[dp + 2] = palette[sp + 2];
                }
            }*/

            for (var y = 0; y < height; y++) {
                var b, x, dp, sp;
                for (x = 0; x < w1; x++) {
                    for (b = 7; b >= 0; b--) {
                        dp = (y * width + x * 8 + 7 - b) * 4;
                        sp = (data[y * w + x] >> b & 1) * 3;
                        dest[dp] = palette[sp];
                        dest[dp + 1] = palette[sp + 1];
                        dest[dp + 2] = palette[sp + 2];
                        dest[dp + 3] = 255;
                    }
                }

                for (b = 7; b >= 8 - width % 8; b--) {
                    dp = (y * width + x * 8 + 7 - b) * 4;
                    sp = (data[y * w + x] >> b & 1) * 3;
                    dest[dp] = palette[sp];
                    dest[dp + 1] = palette[sp + 1];
                    dest[dp + 2] = palette[sp + 2];
                    dest[dp + 3] = 255;
                }
            }

            return dest;
        }.bind(this);

        var indexedToRGBX = function (data, palette, width, height) {
            // Convert indexed (palette based) image data to RGB
            var dest = this._destBuff;
            var total = width * height * 4;
            for (var i = 0, j = 0; i < total; i += 4, j++) {
                var sp = data[j] * 3;
                dest[i] = palette[sp];
                dest[i + 1] = palette[sp + 1];
                dest[i + 2] = palette[sp + 2];
                dest[i + 3] = 255;
            }

            return dest;
        }.bind(this);

        var rQi = this._sock.get_rQi();
        var rQ = this._sock.rQwhole();
        var cmode, data;
        var cl_header, cl_data;

        var handlePalette = function () {
            var numColors = rQ[rQi + 2] + 1;
            var paletteSize = numColors * 3;
            this._FBU.bytes += paletteSize;
            if (this._sock.rQwait("TIGHT palette " + cmode, this._FBU.bytes)) { return false; }

            var bpp = (numColors <= 2) ? 1 : 8;
            var rowSize = Math.floor((this._FBU.width * bpp + 7) / 8);
            var raw = false;
            if (rowSize * this._FBU.height < 12) {
                raw = true;
                cl_header = 0;
                cl_data = rowSize * this._FBU.height;
                //clength = [0, rowSize * this._FBU.height];
            } else {
                // begin inline getTightCLength (returning two-item arrays is bad for performance with GC)
                var cl_offset = rQi + 3 + paletteSize;
                cl_header = 1;
                cl_data = 0;
                cl_data += rQ[cl_offset] & 0x7f;
                if (rQ[cl_offset] & 0x80) {
                    cl_header++;
                    cl_data += (rQ[cl_offset + 1] & 0x7f) << 7;
                    if (rQ[cl_offset + 1] & 0x80) {
                        cl_header++;
                        cl_data += rQ[cl_offset + 2] << 14;
                    }
                }
                // end inline getTightCLength
            }

            this._FBU.bytes += cl_header + cl_data;
            if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

            // Shift ctl, filter id, num colors, palette entries, and clength off
            this._sock.rQskipBytes(3);
            //var palette = this._sock.rQshiftBytes(paletteSize);
            this._sock.rQshiftTo(this._paletteBuff, paletteSize);
            this._sock.rQskipBytes(cl_header);

            if (raw) {
                data = this._sock.rQshiftBytes(cl_data);
            } else {
                data = decompress(this._sock.rQshiftBytes(cl_data), rowSize * this._FBU.height);
            }

            // Convert indexed (palette based) image data to RGB
            var rgbx;
            if (numColors == 2) {
                rgbx = indexedToRGBX2Color(data, this._paletteBuff, this._FBU.width, this._FBU.height);
                this._display.blitRgbxImage(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, rgbx, 0, false);
            } else {
                rgbx = indexedToRGBX(data, this._paletteBuff, this._FBU.width, this._FBU.height);
                this._display.blitRgbxImage(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, rgbx, 0, false);
            }


            return true;
        }.bind(this);

        var handleCopy = function () {
            var raw = false;
            var uncompressedSize = this._FBU.width * this._FBU.height * 3;
            if (uncompressedSize < 12) {
                raw = true;
                cl_header = 0;
                cl_data = uncompressedSize;
            } else {
                // begin inline getTightCLength (returning two-item arrays is for peformance with GC)
                var cl_offset = rQi + 1;
                cl_header = 1;
                cl_data = 0;
                cl_data += rQ[cl_offset] & 0x7f;
                if (rQ[cl_offset] & 0x80) {
                    cl_header++;
                    cl_data += (rQ[cl_offset + 1] & 0x7f) << 7;
                    if (rQ[cl_offset + 1] & 0x80) {
                        cl_header++;
                        cl_data += rQ[cl_offset + 2] << 14;
                    }
                }
                // end inline getTightCLength
            }
            this._FBU.bytes = 1 + cl_header + cl_data;
            if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

            // Shift ctl, clength off
            this._sock.rQshiftBytes(1 + cl_header);

            if (raw) {
                data = this._sock.rQshiftBytes(cl_data);
            } else {
                data = decompress(this._sock.rQshiftBytes(cl_data), uncompressedSize);
            }

            this._display.blitRgbImage(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, data, 0, false);

            return true;
        }.bind(this);

        var ctl = this._sock.rQpeek8();

        // Keep tight reset bits
        resetStreams = ctl & 0xF;

        // Figure out filter
        ctl = ctl >> 4;
        streamId = ctl & 0x3;

        if (ctl === 0x08)       cmode = "fill";
        else if (ctl === 0x09)  cmode = "jpeg";
        else if (ctl === 0x0A)  cmode = "png";
        else if (ctl & 0x04)    cmode = "filter";
        else if (ctl < 0x04)    cmode = "copy";
        else return this._fail("Illegal tight compression received (ctl: " +
                               ctl + ")");

        switch (cmode) {
            // fill use depth because TPIXELs drop the padding byte
            case "fill":  // TPIXEL
                this._FBU.bytes += 3;
                break;
            case "jpeg":  // max clength
                this._FBU.bytes += 3;
                break;
            case "png":  // max clength
                this._FBU.bytes += 3;
                break;
            case "filter":  // filter id + num colors if palette
                this._FBU.bytes += 2;
                break;
            case "copy":
                break;
        }

        if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

        // Determine FBU.bytes
        switch (cmode) {
            case "fill":
                // skip ctl byte
                this._display.fillRect(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, [rQ[rQi + 3], rQ[rQi + 2], rQ[rQi + 1]], false);
                this._sock.rQskipBytes(4);
                break;
            case "png":
            case "jpeg":
                // begin inline getTightCLength (returning two-item arrays is for peformance with GC)
                var cl_offset = rQi + 1;
                cl_header = 1;
                cl_data = 0;
                cl_data += rQ[cl_offset] & 0x7f;
                if (rQ[cl_offset] & 0x80) {
                    cl_header++;
                    cl_data += (rQ[cl_offset + 1] & 0x7f) << 7;
                    if (rQ[cl_offset + 1] & 0x80) {
                        cl_header++;
                        cl_data += rQ[cl_offset + 2] << 14;
                    }
                }
                // end inline getTightCLength
                this._FBU.bytes = 1 + cl_header + cl_data;  // ctl + clength size + jpeg-data
                if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

                // We have everything, render it
                this._sock.rQskipBytes(1 + cl_header);  // shift off clt + compact length
                data = this._sock.rQshiftBytes(cl_data);
                this._display.imageRect(this._FBU.x, this._FBU.y, "image/" + cmode, data);
                break;
            case "filter":
                var filterId = rQ[rQi + 1];
                if (filterId === 1) {
                    if (!handlePalette()) { return false; }
                } else {
                    // Filter 0, Copy could be valid here, but servers don't send it as an explicit filter
                    // Filter 2, Gradient is valid but not use if jpeg is enabled
                    this._fail("Unsupported tight subencoding received " +
                               "(filter: " + filterId + ")");
                }
                break;
            case "copy":
                if (!handleCopy()) { return false; }
                break;
        }


        this._FBU.bytes = 0;
        this._FBU.rects--;

        return true;
    },

    last_rect: function () {
        this._FBU.rects = 0;
        return true;
    },

    ExtendedDesktopSize: function () {
        this._FBU.bytes = 1;
        if (this._sock.rQwait("ExtendedDesktopSize", this._FBU.bytes)) { return false; }

        var firstUpdate = !this._supportsSetDesktopSize;
        this._supportsSetDesktopSize = true;

        // Normally we only apply the current resize mode after a
        // window resize event. However there is no such trigger on the
        // initial connect. And we don't know if the server supports
        // resizing until we've gotten here.
        if (firstUpdate) {
            this._requestRemoteResize();
        }

        var number_of_screens = this._sock.rQpeek8();

        this._FBU.bytes = 4 + (number_of_screens * 16);
        if (this._sock.rQwait("ExtendedDesktopSize", this._FBU.bytes)) { return false; }

        this._sock.rQskipBytes(1);  // number-of-screens
        this._sock.rQskipBytes(3);  // padding

        for (var i = 0; i < number_of_screens; i += 1) {
            // Save the id and flags of the first screen
            if (i === 0) {
                this._screen_id = this._sock.rQshiftBytes(4);    // id
                this._sock.rQskipBytes(2);                       // x-position
                this._sock.rQskipBytes(2);                       // y-position
                this._sock.rQskipBytes(2);                       // width
                this._sock.rQskipBytes(2);                       // height
                this._screen_flags = this._sock.rQshiftBytes(4); // flags
            } else {
                this._sock.rQskipBytes(16);
            }
        }

        /*
         * The x-position indicates the reason for the change:
         *
         *  0 - server resized on its own
         *  1 - this client requested the resize
         *  2 - another client requested the resize
         */

        // We need to handle errors when we requested the resize.
        if (this._FBU.x === 1 && this._FBU.y !== 0) {
            var msg = "";
            // The y-position indicates the status code from the server
            switch (this._FBU.y) {
            case 1:
                msg = "Resize is administratively prohibited";
                break;
            case 2:
                msg = "Out of resources";
                break;
            case 3:
                msg = "Invalid screen layout";
                break;
            default:
                msg = "Unknown reason";
                break;
            }
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server did not accept the resize request: "
                     + msg);
        } else {
            this._resize(this._FBU.width, this._FBU.height);
        }

        this._FBU.bytes = 0;
        this._FBU.rects -= 1;
        return true;
    },

    DesktopSize: function () {
        this._resize(this._FBU.width, this._FBU.height);
        this._FBU.bytes = 0;
        this._FBU.rects -= 1;
        return true;
    },

    Cursor: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> set_cursor");
        var x = this._FBU.x;  // hotspot-x
        var y = this._FBU.y;  // hotspot-y
        var w = this._FBU.width;
        var h = this._FBU.height;

        var pixelslength = w * h * 4;
        var masklength = Math.floor((w + 7) / 8) * h;

        this._FBU.bytes = pixelslength + masklength;
        if (this._sock.rQwait("cursor encoding", this._FBU.bytes)) { return false; }

        this._display.changeCursor(this._sock.rQshiftBytes(pixelslength),
                                   this._sock.rQshiftBytes(masklength),
                                   x, y, w, h);

        this._FBU.bytes = 0;
        this._FBU.rects--;

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< set_cursor");
        return true;
    },

    QEMUExtendedKeyEvent: function () {
        this._FBU.rects--;

        // Old Safari doesn't support creating keyboard events
        try {
            var keyboardEvent = document.createEvent("keyboardEvent");
            if (keyboardEvent.code !== undefined) {
                this._qemuExtKeyEventSupported = true;
            }
        } catch (err) {
        }
    },
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/browser.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/browser.js ***!
  \********************************************************/
/*! exports provided: isTouchDevice, supportsCursorURIs, isMac, isIE, isEdge, isWindows, isIOS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isTouchDevice", function() { return isTouchDevice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "supportsCursorURIs", function() { return supportsCursorURIs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isMac", function() { return isMac; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIE", function() { return isIE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEdge", function() { return isEdge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isWindows", function() { return isWindows; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIOS", function() { return isIOS; });
/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */



// Touch detection
var isTouchDevice = ('ontouchstart' in document.documentElement) ||
                                 // requried for Chrome debugger
                                 (document.ontouchstart !== undefined) ||
                                 // required for MS Surface
                                 (navigator.maxTouchPoints > 0) ||
                                 (navigator.msMaxTouchPoints > 0);
window.addEventListener('touchstart', function onFirstTouch() {
    isTouchDevice = true;
    window.removeEventListener('touchstart', onFirstTouch, false);
}, false);

var _cursor_uris_supported = null;

function supportsCursorURIs () {
    if (_cursor_uris_supported === null) {
        try {
            var target = document.createElement('canvas');
            target.style.cursor = 'url("data:image/x-icon;base64,AAACAAEACAgAAAIAAgA4AQAAFgAAACgAAAAIAAAAEAAAAAEAIAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAA==") 2 2, default';

            if (target.style.cursor) {
                _logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Data URI scheme cursor supported");
                _cursor_uris_supported = true;
            } else {
                _logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Data URI scheme cursor not supported");
                _cursor_uris_supported = false;
            }
        } catch (exc) {
            _logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Data URI scheme cursor test exception: " + exc);
            _cursor_uris_supported = false;
        }
    }

    return _cursor_uris_supported;
};

function isMac() {
    return navigator && !!(/mac/i).exec(navigator.platform);
}

function isIE() {
    return navigator && !!(/trident/i).exec(navigator.userAgent);
}

function isEdge() {
    return navigator && !!(/edge/i).exec(navigator.userAgent);
}

function isWindows() {
    return navigator && !!(/win/i).exec(navigator.platform);
}

function isIOS() {
    return navigator &&
           (!!(/ipad/i).exec(navigator.platform) ||
            !!(/iphone/i).exec(navigator.platform) ||
            !!(/ipod/i).exec(navigator.platform));
}



/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/events.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/events.js ***!
  \*******************************************************/
/*! exports provided: getPointerEvent, stopEvent, setCapture, releaseCapture */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPointerEvent", function() { return getPointerEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stopEvent", function() { return stopEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setCapture", function() { return setCapture; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "releaseCapture", function() { return releaseCapture; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Cross-browser event and position routines
 */

function getPointerEvent (e) {
    return e.changedTouches ? e.changedTouches[0] : e.touches ? e.touches[0] : e;
};

function stopEvent (e) {
    e.stopPropagation();
    e.preventDefault();
};

// Emulate Element.setCapture() when not supported
var _captureRecursion = false;
var _captureElem = null;
function _captureProxy(e) {
    // Recursion protection as we'll see our own event
    if (_captureRecursion) return;

    // Clone the event as we cannot dispatch an already dispatched event
    var newEv = new e.constructor(e.type, e);

    _captureRecursion = true;
    _captureElem.dispatchEvent(newEv);
    _captureRecursion = false;

    // Avoid double events
    e.stopPropagation();

    // Respect the wishes of the redirected event handlers
    if (newEv.defaultPrevented) {
        e.preventDefault();
    }

    // Implicitly release the capture on button release
    if (e.type === "mouseup") {
        releaseCapture();
    }
};

// Follow cursor style of target element
function _captureElemChanged() {
    var captureElem = document.getElementById("noVNC_mouse_capture_elem");
    captureElem.style.cursor = window.getComputedStyle(_captureElem).cursor;
};
var _captureObserver = new MutationObserver(_captureElemChanged);

var _captureIndex = 0;

function setCapture (elem) {
    if (elem.setCapture) {

        elem.setCapture();

        // IE releases capture on 'click' events which might not trigger
        elem.addEventListener('mouseup', releaseCapture);

    } else {
        // Release any existing capture in case this method is
        // called multiple times without coordination
        releaseCapture();

        var captureElem = document.getElementById("noVNC_mouse_capture_elem");

        if (captureElem === null) {
            captureElem = document.createElement("div");
            captureElem.id = "noVNC_mouse_capture_elem";
            captureElem.style.position = "fixed";
            captureElem.style.top = "0px";
            captureElem.style.left = "0px";
            captureElem.style.width = "100%";
            captureElem.style.height = "100%";
            captureElem.style.zIndex = 10000;
            captureElem.style.display = "none";
            document.body.appendChild(captureElem);

            // This is to make sure callers don't get confused by having
            // our blocking element as the target
            captureElem.addEventListener('contextmenu', _captureProxy);

            captureElem.addEventListener('mousemove', _captureProxy);
            captureElem.addEventListener('mouseup', _captureProxy);
        }

        _captureElem = elem;
        _captureIndex++;

        // Track cursor and get initial cursor
        _captureObserver.observe(elem, {attributes:true});
        _captureElemChanged();

        captureElem.style.display = "";

        // We listen to events on window in order to keep tracking if it
        // happens to leave the viewport
        window.addEventListener('mousemove', _captureProxy);
        window.addEventListener('mouseup', _captureProxy);
    }
};

function releaseCapture () {
    if (document.releaseCapture) {

        document.releaseCapture();

    } else {
        if (!_captureElem) {
            return;
        }

        // There might be events already queued, so we need to wait for
        // them to flush. E.g. contextmenu in Microsoft Edge
        window.setTimeout(function(expected) {
            // Only clear it if it's the expected grab (i.e. no one
            // else has initiated a new grab)
            if (_captureIndex === expected) {
                _captureElem = null;
            }
        }, 0, _captureIndex);

        _captureObserver.disconnect();

        var captureElem = document.getElementById("noVNC_mouse_capture_elem");
        captureElem.style.display = "none";

        window.removeEventListener('mousemove', _captureProxy);
        window.removeEventListener('mouseup', _captureProxy);
    }
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/eventtarget.js":
/*!************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/eventtarget.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * noVNC: HTML5 VNC client
 * Copyright 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

var EventTargetMixin = {
    _listeners: null,

   addEventListener: function(type, callback) {
      if (!this._listeners) {
         this._listeners = new Map();
      }
      if (!this._listeners.has(type)) {
         this._listeners.set(type, new Set());
      }
      this._listeners.get(type).add(callback);
   },

   removeEventListener: function(type, callback) {
      if (!this._listeners || !this._listeners.has(type)) {
         return;
      }
      this._listeners.get(type).delete(callback);
   },

   dispatchEvent: function(event) {
      if (!this._listeners || !this._listeners.has(event.type)) {
         return true;
      }
      this._listeners.get(event.type).forEach(function (callback) {
         callback.call(this, event);
      }, this);
      return !event.defaultPrevented;
   },
};

/* harmony default export */ __webpack_exports__["default"] = (EventTargetMixin);


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/logging.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/logging.js ***!
  \********************************************************/
/*! exports provided: init_logging, get_logging, Debug, Info, Warn, Error */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "init_logging", function() { return init_logging; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "get_logging", function() { return get_logging; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Debug", function() { return Debug; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Info", function() { return Info; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Warn", function() { return Warn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Error", function() { return Error; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Logging/debug routines
 */

var _log_level = 'warn';

var Debug = function (msg) {};
var Info = function (msg) {};
var Warn = function (msg) {};
var Error = function (msg) {};

function init_logging (level) {
    if (typeof level === 'undefined') {
        level = _log_level;
    } else {
        _log_level = level;
    }

    Debug = Info = Warn = Error = function (msg) {};
    if (typeof window.console !== "undefined") {
        switch (level) {
            case 'debug':
                Debug = console.debug.bind(window.console);
            case 'info':
                Info  = console.info.bind(window.console);
            case 'warn':
                Warn  = console.warn.bind(window.console);
            case 'error':
                Error = console.error.bind(window.console);
            case 'none':
                break;
            default:
                throw new Error("invalid logging type '" + level + "'");
        }
    }
};
function get_logging () {
    return _log_level;
};


// Initialize logging level
init_logging();


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/polyfill.js":
/*!*********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/polyfill.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
 * noVNC: HTML5 VNC client
 * Copyright 2017 Pierre Ossman for noVNC
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/* Polyfills to provide new APIs in old browsers */

/* Object.assign() (taken from MDN) */
if (typeof Object.assign != 'function') {
    // Must be writable: true, enumerable: false, configurable: true
    Object.defineProperty(Object, "assign", {
        value: function assign(target, varArgs) { // .length of function is 2
            'use strict';
            if (target == null) { // TypeError if undefined or null
                throw new TypeError('Cannot convert undefined or null to object');
            }

            var to = Object(target);

            for (var index = 1; index < arguments.length; index++) {
                var nextSource = arguments[index];

                if (nextSource != null) { // Skip over if undefined or null
                    for (var nextKey in nextSource) {
                        // Avoid bugs when hasOwnProperty is shadowed
                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                            to[nextKey] = nextSource[nextKey];
                        }
                    }
                }
            }
            return to;
        },
        writable: true,
        configurable: true
    });
}

/* CustomEvent constructor (taken from MDN) */
(function () {
    function CustomEvent ( event, params ) {
        params = params || { bubbles: false, cancelable: false, detail: undefined };
        var evt = document.createEvent( 'CustomEvent' );
        evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );
        return evt;
    }

    CustomEvent.prototype = window.Event.prototype;

    if (typeof window.CustomEvent !== "function") {
        window.CustomEvent = CustomEvent;
    }
})();


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/strings.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/strings.js ***!
  \********************************************************/
/*! exports provided: decodeUTF8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "decodeUTF8", function() { return decodeUTF8; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Decode from UTF-8
 */
function decodeUTF8 (utf8string) {
    "use strict";
    return decodeURIComponent(escape(utf8string));
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/websock.js":
/*!***************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/websock.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Websock; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/*
 * Websock: high-performance binary WebSockets
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * Websock is similar to the standard WebSocket object but with extra
 * buffer handling.
 *
 * Websock has built-in receive queue buffering; the message event
 * does not contain actual data but is simply a notification that
 * there is new data available. Several rQ* methods are available to
 * read binary data off of the receive queue.
 */



function Websock() {
    "use strict";

    this._websocket = null;  // WebSocket object

    this._rQi = 0;           // Receive queue index
    this._rQlen = 0;         // Next write position in the receive queue
    this._rQbufferSize = 1024 * 1024 * 4; // Receive queue buffer size (4 MiB)
    this._rQmax = this._rQbufferSize / 8;
    // called in init: this._rQ = new Uint8Array(this._rQbufferSize);
    this._rQ = null; // Receive queue

    this._sQbufferSize = 1024 * 10;  // 10 KiB
    // called in init: this._sQ = new Uint8Array(this._sQbufferSize);
    this._sQlen = 0;
    this._sQ = null;  // Send queue

    this._eventHandlers = {
        'message': function () {},
        'open': function () {},
        'close': function () {},
        'error': function () {}
    };
};

// this has performance issues in some versions Chromium, and
// doesn't gain a tremendous amount of performance increase in Firefox
// at the moment.  It may be valuable to turn it on in the future.
var ENABLE_COPYWITHIN = false;

var MAX_RQ_GROW_SIZE = 40 * 1024 * 1024;  // 40 MiB

var typedArrayToString = (function () {
    // This is only for PhantomJS, which doesn't like apply-ing
    // with Typed Arrays
    try {
        var arr = new Uint8Array([1, 2, 3]);
        String.fromCharCode.apply(null, arr);
        return function (a) { return String.fromCharCode.apply(null, a); };
    } catch (ex) {
        return function (a) {
            return String.fromCharCode.apply(
                null, Array.prototype.slice.call(a));
        };
    }
})();

Websock.prototype = {
    // Getters and Setters
    get_sQ: function () {
        return this._sQ;
    },

    get_rQ: function () {
        return this._rQ;
    },

    get_rQi: function () {
        return this._rQi;
    },

    set_rQi: function (val) {
        this._rQi = val;
    },

    // Receive Queue
    rQlen: function () {
        return this._rQlen - this._rQi;
    },

    rQpeek8: function () {
        return this._rQ[this._rQi];
    },

    rQshift8: function () {
        return this._rQ[this._rQi++];
    },

    rQskip8: function () {
        this._rQi++;
    },

    rQskipBytes: function (num) {
        this._rQi += num;
    },

    // TODO(directxman12): test performance with these vs a DataView
    rQshift16: function () {
        return (this._rQ[this._rQi++] << 8) +
               this._rQ[this._rQi++];
    },

    rQshift32: function () {
        return (this._rQ[this._rQi++] << 24) +
               (this._rQ[this._rQi++] << 16) +
               (this._rQ[this._rQi++] << 8) +
               this._rQ[this._rQi++];
    },

    rQshiftStr: function (len) {
        if (typeof(len) === 'undefined') { len = this.rQlen(); }
        var arr = new Uint8Array(this._rQ.buffer, this._rQi, len);
        this._rQi += len;
        return typedArrayToString(arr);
    },

    rQshiftBytes: function (len) {
        if (typeof(len) === 'undefined') { len = this.rQlen(); }
        this._rQi += len;
        return new Uint8Array(this._rQ.buffer, this._rQi - len, len);
    },

    rQshiftTo: function (target, len) {
        if (len === undefined) { len = this.rQlen(); }
        // TODO: make this just use set with views when using a ArrayBuffer to store the rQ
        target.set(new Uint8Array(this._rQ.buffer, this._rQi, len));
        this._rQi += len;
    },

    rQwhole: function () {
        return new Uint8Array(this._rQ.buffer, 0, this._rQlen);
    },

    rQslice: function (start, end) {
        if (end) {
            return new Uint8Array(this._rQ.buffer, this._rQi + start, end - start);
        } else {
            return new Uint8Array(this._rQ.buffer, this._rQi + start, this._rQlen - this._rQi - start);
        }
    },

    // Check to see if we must wait for 'num' bytes (default to FBU.bytes)
    // to be available in the receive queue. Return true if we need to
    // wait (and possibly print a debug message), otherwise false.
    rQwait: function (msg, num, goback) {
        var rQlen = this._rQlen - this._rQi; // Skip rQlen() function call
        if (rQlen < num) {
            if (goback) {
                if (this._rQi < goback) {
                    throw new Error("rQwait cannot backup " + goback + " bytes");
                }
                this._rQi -= goback;
            }
            return true; // true means need more data
        }
        return false;
    },

    // Send Queue

    flush: function () {
        if (this._sQlen > 0 && this._websocket.readyState === WebSocket.OPEN) {
            this._websocket.send(this._encode_message());
            this._sQlen = 0;
        }
    },

    send: function (arr) {
        this._sQ.set(arr, this._sQlen);
        this._sQlen += arr.length;
        this.flush();
    },

    send_string: function (str) {
        this.send(str.split('').map(function (chr) {
            return chr.charCodeAt(0);
        }));
    },

    // Event Handlers
    off: function (evt) {
        this._eventHandlers[evt] = function () {};
    },

    on: function (evt, handler) {
        this._eventHandlers[evt] = handler;
    },

    _allocate_buffers: function () {
        this._rQ = new Uint8Array(this._rQbufferSize);
        this._sQ = new Uint8Array(this._sQbufferSize);
    },

    init: function () {
        this._allocate_buffers();
        this._rQi = 0;
        this._websocket = null;
    },

    open: function (uri, protocols) {
        var ws_schema = uri.match(/^([a-z]+):\/\//)[1];
        this.init();

        this._websocket = new WebSocket(uri, protocols);
        this._websocket.binaryType = 'arraybuffer';

        this._websocket.onmessage = this._recv_message.bind(this);
        this._websocket.onopen = (function () {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('>> WebSock.onopen');
            if (this._websocket.protocol) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Server choose sub-protocol: " + this._websocket.protocol);
            }

            this._eventHandlers.open();
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onopen");
        }).bind(this);
        this._websocket.onclose = (function (e) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> WebSock.onclose");
            this._eventHandlers.close(e);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onclose");
        }).bind(this);
        this._websocket.onerror = (function (e) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> WebSock.onerror: " + e);
            this._eventHandlers.error(e);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onerror: " + e);
        }).bind(this);
    },

    close: function () {
        if (this._websocket) {
            if ((this._websocket.readyState === WebSocket.OPEN) ||
                    (this._websocket.readyState === WebSocket.CONNECTING)) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Closing WebSocket connection");
                this._websocket.close();
            }

            this._websocket.onmessage = function (e) { return; };
        }
    },

    // private methods
    _encode_message: function () {
        // Put in a binary arraybuffer
        // according to the spec, you can send ArrayBufferViews with the send method
        return new Uint8Array(this._sQ.buffer, 0, this._sQlen);
    },

    _expand_compact_rQ: function (min_fit) {
        var resizeNeeded = min_fit || this._rQlen - this._rQi > this._rQbufferSize / 2;
        if (resizeNeeded) {
            if (!min_fit) {
                // just double the size if we need to do compaction
                this._rQbufferSize *= 2;
            } else {
                // otherwise, make sure we satisy rQlen - rQi + min_fit < rQbufferSize / 8
                this._rQbufferSize = (this._rQlen - this._rQi + min_fit) * 8;
            }
        }

        // we don't want to grow unboundedly
        if (this._rQbufferSize > MAX_RQ_GROW_SIZE) {
            this._rQbufferSize = MAX_RQ_GROW_SIZE;
            if (this._rQbufferSize - this._rQlen - this._rQi < min_fit) {
                throw new Exception("Receive Queue buffer exceeded " + MAX_RQ_GROW_SIZE + " bytes, and the new message could not fit");
            }
        }

        if (resizeNeeded) {
            var old_rQbuffer = this._rQ.buffer;
            this._rQmax = this._rQbufferSize / 8;
            this._rQ = new Uint8Array(this._rQbufferSize);
            this._rQ.set(new Uint8Array(old_rQbuffer, this._rQi));
        } else {
            if (ENABLE_COPYWITHIN) {
                this._rQ.copyWithin(0, this._rQi);
            } else {
                this._rQ.set(new Uint8Array(this._rQ.buffer, this._rQi));
            }
        }

        this._rQlen = this._rQlen - this._rQi;
        this._rQi = 0;
    },

    _decode_message: function (data) {
        // push arraybuffer values onto the end
        var u8 = new Uint8Array(data);
        if (u8.length > this._rQbufferSize - this._rQlen) {
            this._expand_compact_rQ(u8.length);
        }
        this._rQ.set(u8, this._rQlen);
        this._rQlen += u8.length;
    },

    _recv_message: function (e) {
        this._decode_message(e.data);
        if (this.rQlen() > 0) {
            this._eventHandlers.message();
            // Compact the receive queue
            if (this._rQlen == this._rQi) {
                this._rQlen = 0;
                this._rQi = 0;
            } else if (this._rQlen > this._rQmax) {
                this._expand_compact_rQ();
            }
        } else {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Ignoring empty message");
        }
    }
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js ***!
  \*******************************************************************/
/*! exports provided: shrinkBuf, arraySet, flattenChunks, Buf8, Buf16, Buf32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shrinkBuf", function() { return shrinkBuf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arraySet", function() { return arraySet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "flattenChunks", function() { return flattenChunks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf8", function() { return Buf8; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf16", function() { return Buf16; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf32", function() { return Buf32; });
// reduce buffer size, avoiding mem copy
function shrinkBuf (buf, size) {
  if (buf.length === size) { return buf; }
  if (buf.subarray) { return buf.subarray(0, size); }
  buf.length = size;
  return buf;
};


function arraySet (dest, src, src_offs, len, dest_offs) {
  if (src.subarray && dest.subarray) {
    dest.set(src.subarray(src_offs, src_offs + len), dest_offs);
    return;
  }
  // Fallback to ordinary array
  for (var i = 0; i < len; i++) {
    dest[dest_offs + i] = src[src_offs + i];
  }
}

// Join array of chunks to single array.
function flattenChunks (chunks) {
  var i, l, len, pos, chunk, result;

  // calculate data length
  len = 0;
  for (i = 0, l = chunks.length; i < l; i++) {
    len += chunks[i].length;
  }

  // join chunks
  result = new Uint8Array(len);
  pos = 0;
  for (i = 0, l = chunks.length; i < l; i++) {
    chunk = chunks[i];
    result.set(chunk, pos);
    pos += chunk.length;
  }

  return result;
}

var Buf8  = Uint8Array;
var Buf16 = Uint16Array;
var Buf32 = Int32Array;


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return adler32; });
// Note: adler32 takes 12% for level 0 and 2% for level 6.
// It doesn't worth to make additional optimizationa as in original.
// Small size is preferable.

function adler32(adler, buf, len, pos) {
  var s1 = (adler & 0xffff) |0,
      s2 = ((adler >>> 16) & 0xffff) |0,
      n = 0;

  while (len !== 0) {
    // Set limit ~ twice less than 5552, to keep
    // s2 in 31-bits, because we force signed ints.
    // in other case %= will fail.
    n = len > 2000 ? 2000 : len;
    len -= n;

    do {
      s1 = (s1 + buf[pos++]) |0;
      s2 = (s2 + s1) |0;
    } while (--n);

    s1 %= 65521;
    s2 %= 65521;
  }

  return (s1 | (s2 << 16)) |0;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return makeTable; });
// Note: we can't get significant speed boost here.
// So write code to minimize size - no pregenerated tables
// and array tools dependencies.


// Use ordinary array, since untyped makes no boost here
function makeTable() {
  var c, table = [];

  for (var n = 0; n < 256; n++) {
    c = n;
    for (var k = 0; k < 8; k++) {
      c = ((c & 1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));
    }
    table[n] = c;
  }

  return table;
}

// Create table on load. Just 255 signed longs. Not a problem.
var crcTable = makeTable();


function crc32(crc, buf, len, pos) {
  var t = crcTable,
      end = pos + len;

  crc ^= -1;

  for (var i = pos; i < end; i++) {
    crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xFF];
  }

  return (crc ^ (-1)); // >>> 0;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return inflate_fast; });
// See state defs from inflate.js
var BAD = 30;       /* got a data error -- remain here until reset */
var TYPE = 12;      /* i: waiting for type bits, including last-flag bit */

/*
   Decode literal, length, and distance codes and write out the resulting
   literal and match bytes until either not enough input or output is
   available, an end-of-block is encountered, or a data error is encountered.
   When large enough input and output buffers are supplied to inflate(), for
   example, a 16K input buffer and a 64K output buffer, more than 95% of the
   inflate execution time is spent in this routine.

   Entry assumptions:

        state.mode === LEN
        strm.avail_in >= 6
        strm.avail_out >= 258
        start >= strm.avail_out
        state.bits < 8

   On return, state.mode is one of:

        LEN -- ran out of enough output space or enough available input
        TYPE -- reached end of block code, inflate() to interpret next block
        BAD -- error in block data

   Notes:

    - The maximum input bits used by a length/distance pair is 15 bits for the
      length code, 5 bits for the length extra, 15 bits for the distance code,
      and 13 bits for the distance extra.  This totals 48 bits, or six bytes.
      Therefore if strm.avail_in >= 6, then there is enough input to avoid
      checking for available input while decoding.

    - The maximum bytes that a single length/distance pair can output is 258
      bytes, which is the maximum length that can be coded.  inflate_fast()
      requires strm.avail_out >= 258 for each loop to avoid checking for
      output space.
 */
function inflate_fast(strm, start) {
  var state;
  var _in;                    /* local strm.input */
  var last;                   /* have enough input while in < last */
  var _out;                   /* local strm.output */
  var beg;                    /* inflate()'s initial strm.output */
  var end;                    /* while out < end, enough space available */
//#ifdef INFLATE_STRICT
  var dmax;                   /* maximum distance from zlib header */
//#endif
  var wsize;                  /* window size or zero if not using window */
  var whave;                  /* valid bytes in the window */
  var wnext;                  /* window write index */
  // Use `s_window` instead `window`, avoid conflict with instrumentation tools
  var s_window;               /* allocated sliding window, if wsize != 0 */
  var hold;                   /* local strm.hold */
  var bits;                   /* local strm.bits */
  var lcode;                  /* local strm.lencode */
  var dcode;                  /* local strm.distcode */
  var lmask;                  /* mask for first level of length codes */
  var dmask;                  /* mask for first level of distance codes */
  var here;                   /* retrieved table entry */
  var op;                     /* code bits, operation, extra bits, or */
                              /*  window position, window bytes to copy */
  var len;                    /* match length, unused bytes */
  var dist;                   /* match distance */
  var from;                   /* where to copy match from */
  var from_source;


  var input, output; // JS specific, because we have no pointers

  /* copy state to local variables */
  state = strm.state;
  //here = state.here;
  _in = strm.next_in;
  input = strm.input;
  last = _in + (strm.avail_in - 5);
  _out = strm.next_out;
  output = strm.output;
  beg = _out - (start - strm.avail_out);
  end = _out + (strm.avail_out - 257);
//#ifdef INFLATE_STRICT
  dmax = state.dmax;
//#endif
  wsize = state.wsize;
  whave = state.whave;
  wnext = state.wnext;
  s_window = state.window;
  hold = state.hold;
  bits = state.bits;
  lcode = state.lencode;
  dcode = state.distcode;
  lmask = (1 << state.lenbits) - 1;
  dmask = (1 << state.distbits) - 1;


  /* decode literals and length/distances until end-of-block or not enough
     input data or output space */

  top:
  do {
    if (bits < 15) {
      hold += input[_in++] << bits;
      bits += 8;
      hold += input[_in++] << bits;
      bits += 8;
    }

    here = lcode[hold & lmask];

    dolen:
    for (;;) { // Goto emulation
      op = here >>> 24/*here.bits*/;
      hold >>>= op;
      bits -= op;
      op = (here >>> 16) & 0xff/*here.op*/;
      if (op === 0) {                          /* literal */
        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?
        //        "inflate:         literal '%c'\n" :
        //        "inflate:         literal 0x%02x\n", here.val));
        output[_out++] = here & 0xffff/*here.val*/;
      }
      else if (op & 16) {                     /* length base */
        len = here & 0xffff/*here.val*/;
        op &= 15;                           /* number of extra bits */
        if (op) {
          if (bits < op) {
            hold += input[_in++] << bits;
            bits += 8;
          }
          len += hold & ((1 << op) - 1);
          hold >>>= op;
          bits -= op;
        }
        //Tracevv((stderr, "inflate:         length %u\n", len));
        if (bits < 15) {
          hold += input[_in++] << bits;
          bits += 8;
          hold += input[_in++] << bits;
          bits += 8;
        }
        here = dcode[hold & dmask];

        dodist:
        for (;;) { // goto emulation
          op = here >>> 24/*here.bits*/;
          hold >>>= op;
          bits -= op;
          op = (here >>> 16) & 0xff/*here.op*/;

          if (op & 16) {                      /* distance base */
            dist = here & 0xffff/*here.val*/;
            op &= 15;                       /* number of extra bits */
            if (bits < op) {
              hold += input[_in++] << bits;
              bits += 8;
              if (bits < op) {
                hold += input[_in++] << bits;
                bits += 8;
              }
            }
            dist += hold & ((1 << op) - 1);
//#ifdef INFLATE_STRICT
            if (dist > dmax) {
              strm.msg = 'invalid distance too far back';
              state.mode = BAD;
              break top;
            }
//#endif
            hold >>>= op;
            bits -= op;
            //Tracevv((stderr, "inflate:         distance %u\n", dist));
            op = _out - beg;                /* max distance in output */
            if (dist > op) {                /* see if copy from window */
              op = dist - op;               /* distance back in window */
              if (op > whave) {
                if (state.sane) {
                  strm.msg = 'invalid distance too far back';
                  state.mode = BAD;
                  break top;
                }

// (!) This block is disabled in zlib defailts,
// don't enable it for binary compatibility
//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR
//                if (len <= op - whave) {
//                  do {
//                    output[_out++] = 0;
//                  } while (--len);
//                  continue top;
//                }
//                len -= op - whave;
//                do {
//                  output[_out++] = 0;
//                } while (--op > whave);
//                if (op === 0) {
//                  from = _out - dist;
//                  do {
//                    output[_out++] = output[from++];
//                  } while (--len);
//                  continue top;
//                }
//#endif
              }
              from = 0; // window index
              from_source = s_window;
              if (wnext === 0) {           /* very common case */
                from += wsize - op;
                if (op < len) {         /* some from window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = _out - dist;  /* rest from output */
                  from_source = output;
                }
              }
              else if (wnext < op) {      /* wrap around window */
                from += wsize + wnext - op;
                op -= wnext;
                if (op < len) {         /* some from end of window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = 0;
                  if (wnext < len) {  /* some from start of window */
                    op = wnext;
                    len -= op;
                    do {
                      output[_out++] = s_window[from++];
                    } while (--op);
                    from = _out - dist;      /* rest from output */
                    from_source = output;
                  }
                }
              }
              else {                      /* contiguous in window */
                from += wnext - op;
                if (op < len) {         /* some from window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = _out - dist;  /* rest from output */
                  from_source = output;
                }
              }
              while (len > 2) {
                output[_out++] = from_source[from++];
                output[_out++] = from_source[from++];
                output[_out++] = from_source[from++];
                len -= 3;
              }
              if (len) {
                output[_out++] = from_source[from++];
                if (len > 1) {
                  output[_out++] = from_source[from++];
                }
              }
            }
            else {
              from = _out - dist;          /* copy direct from output */
              do {                        /* minimum length is three */
                output[_out++] = output[from++];
                output[_out++] = output[from++];
                output[_out++] = output[from++];
                len -= 3;
              } while (len > 2);
              if (len) {
                output[_out++] = output[from++];
                if (len > 1) {
                  output[_out++] = output[from++];
                }
              }
            }
          }
          else if ((op & 64) === 0) {          /* 2nd level distance code */
            here = dcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];
            continue dodist;
          }
          else {
            strm.msg = 'invalid distance code';
            state.mode = BAD;
            break top;
          }

          break; // need to emulate goto via "continue"
        }
      }
      else if ((op & 64) === 0) {              /* 2nd level length code */
        here = lcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];
        continue dolen;
      }
      else if (op & 32) {                     /* end-of-block */
        //Tracevv((stderr, "inflate:         end of block\n"));
        state.mode = TYPE;
        break top;
      }
      else {
        strm.msg = 'invalid literal/length code';
        state.mode = BAD;
        break top;
      }

      break; // need to emulate goto via "continue"
    }
  } while (_in < last && _out < end);

  /* return unused bytes (on entry, bits < 8, so in won't go too far back) */
  len = bits >> 3;
  _in -= len;
  bits -= len << 3;
  hold &= (1 << bits) - 1;

  /* update state and return */
  strm.next_in = _in;
  strm.next_out = _out;
  strm.avail_in = (_in < last ? 5 + (last - _in) : 5 - (_in - last));
  strm.avail_out = (_out < end ? 257 + (end - _out) : 257 - (_out - end));
  state.hold = hold;
  state.bits = bits;
  return;
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js ***!
  \*******************************************************************/
/*! exports provided: inflateReset, inflateReset2, inflateResetKeep, inflateInit, inflateInit2, inflate, inflateEnd, inflateGetHeader, inflateSetDictionary, inflateInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateReset", function() { return inflateReset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateReset2", function() { return inflateReset2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateResetKeep", function() { return inflateResetKeep; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInit", function() { return inflateInit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInit2", function() { return inflateInit2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflate", function() { return inflate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateEnd", function() { return inflateEnd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateGetHeader", function() { return inflateGetHeader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateSetDictionary", function() { return inflateSetDictionary; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInfo", function() { return inflateInfo; });
/* harmony import */ var _utils_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js");
/* harmony import */ var _adler32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adler32.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js");
/* harmony import */ var _crc32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./crc32.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js");
/* harmony import */ var _inffast_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./inffast.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js");
/* harmony import */ var _inftrees_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inftrees.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js");






var CODES = 0;
var LENS = 1;
var DISTS = 2;

/* Public constants ==========================================================*/
/* ===========================================================================*/


/* Allowed flush values; see deflate() and inflate() below for details */
//var Z_NO_FLUSH      = 0;
//var Z_PARTIAL_FLUSH = 1;
//var Z_SYNC_FLUSH    = 2;
//var Z_FULL_FLUSH    = 3;
var Z_FINISH        = 4;
var Z_BLOCK         = 5;
var Z_TREES         = 6;


/* Return codes for the compression/decompression functions. Negative values
 * are errors, positive values are used for special but normal events.
 */
var Z_OK            = 0;
var Z_STREAM_END    = 1;
var Z_NEED_DICT     = 2;
//var Z_ERRNO         = -1;
var Z_STREAM_ERROR  = -2;
var Z_DATA_ERROR    = -3;
var Z_MEM_ERROR     = -4;
var Z_BUF_ERROR     = -5;
//var Z_VERSION_ERROR = -6;

/* The deflate compression method */
var Z_DEFLATED  = 8;


/* STATES ====================================================================*/
/* ===========================================================================*/


var    HEAD = 1;       /* i: waiting for magic header */
var    FLAGS = 2;      /* i: waiting for method and flags (gzip) */
var    TIME = 3;       /* i: waiting for modification time (gzip) */
var    OS = 4;         /* i: waiting for extra flags and operating system (gzip) */
var    EXLEN = 5;      /* i: waiting for extra length (gzip) */
var    EXTRA = 6;      /* i: waiting for extra bytes (gzip) */
var    NAME = 7;       /* i: waiting for end of file name (gzip) */
var    COMMENT = 8;    /* i: waiting for end of comment (gzip) */
var    HCRC = 9;       /* i: waiting for header crc (gzip) */
var    DICTID = 10;    /* i: waiting for dictionary check value */
var    DICT = 11;      /* waiting for inflateSetDictionary() call */
var        TYPE = 12;      /* i: waiting for type bits, including last-flag bit */
var        TYPEDO = 13;    /* i: same, but skip check to exit inflate on new block */
var        STORED = 14;    /* i: waiting for stored size (length and complement) */
var        COPY_ = 15;     /* i/o: same as COPY below, but only first time in */
var        COPY = 16;      /* i/o: waiting for input or output to copy stored block */
var        TABLE = 17;     /* i: waiting for dynamic block table lengths */
var        LENLENS = 18;   /* i: waiting for code length code lengths */
var        CODELENS = 19;  /* i: waiting for length/lit and distance code lengths */
var            LEN_ = 20;      /* i: same as LEN below, but only first time in */
var            LEN = 21;       /* i: waiting for length/lit/eob code */
var            LENEXT = 22;    /* i: waiting for length extra bits */
var            DIST = 23;      /* i: waiting for distance code */
var            DISTEXT = 24;   /* i: waiting for distance extra bits */
var            MATCH = 25;     /* o: waiting for output space to copy string */
var            LIT = 26;       /* o: waiting for output space to write literal */
var    CHECK = 27;     /* i: waiting for 32-bit check value */
var    LENGTH = 28;    /* i: waiting for 32-bit length (gzip) */
var    DONE = 29;      /* finished check, done -- remain here until reset */
var    BAD = 30;       /* got a data error -- remain here until reset */
var    MEM = 31;       /* got an inflate() memory error -- remain here until reset */
var    SYNC = 32;      /* looking for synchronization bytes to restart inflate() */

/* ===========================================================================*/



var ENOUGH_LENS = 852;
var ENOUGH_DISTS = 592;
//var ENOUGH =  (ENOUGH_LENS+ENOUGH_DISTS);

var MAX_WBITS = 15;
/* 32K LZ77 window */
var DEF_WBITS = MAX_WBITS;


function zswap32(q) {
  return  (((q >>> 24) & 0xff) +
          ((q >>> 8) & 0xff00) +
          ((q & 0xff00) << 8) +
          ((q & 0xff) << 24));
}


function InflateState() {
  this.mode = 0;             /* current inflate mode */
  this.last = false;          /* true if processing last block */
  this.wrap = 0;              /* bit 0 true for zlib, bit 1 true for gzip */
  this.havedict = false;      /* true if dictionary provided */
  this.flags = 0;             /* gzip header method and flags (0 if zlib) */
  this.dmax = 0;              /* zlib header max distance (INFLATE_STRICT) */
  this.check = 0;             /* protected copy of check value */
  this.total = 0;             /* protected copy of output count */
  // TODO: may be {}
  this.head = null;           /* where to save gzip header information */

  /* sliding window */
  this.wbits = 0;             /* log base 2 of requested window size */
  this.wsize = 0;             /* window size or zero if not using window */
  this.whave = 0;             /* valid bytes in the window */
  this.wnext = 0;             /* window write index */
  this.window = null;         /* allocated sliding window, if needed */

  /* bit accumulator */
  this.hold = 0;              /* input bit accumulator */
  this.bits = 0;              /* number of bits in "in" */

  /* for string and stored block copying */
  this.length = 0;            /* literal or length of data to copy */
  this.offset = 0;            /* distance back to copy string from */

  /* for table and code decoding */
  this.extra = 0;             /* extra bits needed */

  /* fixed and dynamic code tables */
  this.lencode = null;          /* starting table for length/literal codes */
  this.distcode = null;         /* starting table for distance codes */
  this.lenbits = 0;           /* index bits for lencode */
  this.distbits = 0;          /* index bits for distcode */

  /* dynamic table building */
  this.ncode = 0;             /* number of code length code lengths */
  this.nlen = 0;              /* number of length code lengths */
  this.ndist = 0;             /* number of distance code lengths */
  this.have = 0;              /* number of code lengths in lens[] */
  this.next = null;              /* next available space in codes[] */

  this.lens = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](320); /* temporary storage for code lengths */
  this.work = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](288); /* work area for code table building */

  /*
   because we don't have pointers in js, we use lencode and distcode directly
   as buffers so we don't need codes
  */
  //this.codes = new utils.Buf32(ENOUGH);       /* space for code tables */
  this.lendyn = null;              /* dynamic table for length/literal codes (JS specific) */
  this.distdyn = null;             /* dynamic table for distance codes (JS specific) */
  this.sane = 0;                   /* if false, allow invalid distance too far */
  this.back = 0;                   /* bits back of last unprocessed length/lit */
  this.was = 0;                    /* initial length of match */
}

function inflateResetKeep(strm) {
  var state;

  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  strm.total_in = strm.total_out = state.total = 0;
  strm.msg = ''; /*Z_NULL*/
  if (state.wrap) {       /* to support ill-conceived Java test suite */
    strm.adler = state.wrap & 1;
  }
  state.mode = HEAD;
  state.last = 0;
  state.havedict = 0;
  state.dmax = 32768;
  state.head = null/*Z_NULL*/;
  state.hold = 0;
  state.bits = 0;
  //state.lencode = state.distcode = state.next = state.codes;
  state.lencode = state.lendyn = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](ENOUGH_LENS);
  state.distcode = state.distdyn = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](ENOUGH_DISTS);

  state.sane = 1;
  state.back = -1;
  //Tracev((stderr, "inflate: reset\n"));
  return Z_OK;
}

function inflateReset(strm) {
  var state;

  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  state.wsize = 0;
  state.whave = 0;
  state.wnext = 0;
  return inflateResetKeep(strm);

}

function inflateReset2(strm, windowBits) {
  var wrap;
  var state;

  /* get the state */
  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;

  /* extract wrap request from windowBits parameter */
  if (windowBits < 0) {
    wrap = 0;
    windowBits = -windowBits;
  }
  else {
    wrap = (windowBits >> 4) + 1;
    if (windowBits < 48) {
      windowBits &= 15;
    }
  }

  /* set number of window bits, free window if different */
  if (windowBits && (windowBits < 8 || windowBits > 15)) {
    return Z_STREAM_ERROR;
  }
  if (state.window !== null && state.wbits !== windowBits) {
    state.window = null;
  }

  /* update state and reset the rest of it */
  state.wrap = wrap;
  state.wbits = windowBits;
  return inflateReset(strm);
}

function inflateInit2(strm, windowBits) {
  var ret;
  var state;

  if (!strm) { return Z_STREAM_ERROR; }
  //strm.msg = Z_NULL;                 /* in case we return an error */

  state = new InflateState();

  //if (state === Z_NULL) return Z_MEM_ERROR;
  //Tracev((stderr, "inflate: allocated\n"));
  strm.state = state;
  state.window = null/*Z_NULL*/;
  ret = inflateReset2(strm, windowBits);
  if (ret !== Z_OK) {
    strm.state = null/*Z_NULL*/;
  }
  return ret;
}

function inflateInit(strm) {
  return inflateInit2(strm, DEF_WBITS);
}


/*
 Return state with length and distance decoding tables and index sizes set to
 fixed code decoding.  Normally this returns fixed tables from inffixed.h.
 If BUILDFIXED is defined, then instead this routine builds the tables the
 first time it's called, and returns those tables the first time and
 thereafter.  This reduces the size of the code by about 2K bytes, in
 exchange for a little execution time.  However, BUILDFIXED should not be
 used for threaded applications, since the rewriting of the tables and virgin
 may not be thread-safe.
 */
var virgin = true;

var lenfix, distfix; // We have no pointers in JS, so keep tables separate

function fixedtables(state) {
  /* build fixed huffman tables if first call (may not be thread safe) */
  if (virgin) {
    var sym;

    lenfix = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](512);
    distfix = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](32);

    /* literal/length table */
    sym = 0;
    while (sym < 144) { state.lens[sym++] = 8; }
    while (sym < 256) { state.lens[sym++] = 9; }
    while (sym < 280) { state.lens[sym++] = 7; }
    while (sym < 288) { state.lens[sym++] = 8; }

    Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(LENS,  state.lens, 0, 288, lenfix,   0, state.work, { bits: 9 });

    /* distance table */
    sym = 0;
    while (sym < 32) { state.lens[sym++] = 5; }

    Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(DISTS, state.lens, 0, 32,   distfix, 0, state.work, { bits: 5 });

    /* do this just once */
    virgin = false;
  }

  state.lencode = lenfix;
  state.lenbits = 9;
  state.distcode = distfix;
  state.distbits = 5;
}


/*
 Update the window with the last wsize (normally 32K) bytes written before
 returning.  If window does not exist yet, create it.  This is only called
 when a window is already in use, or when output has been written during this
 inflate call, but the end of the deflate stream has not been reached yet.
 It is also called to create a window for dictionary data when a dictionary
 is loaded.

 Providing output buffers larger than 32K to inflate() should provide a speed
 advantage, since only the last 32K of output is copied to the sliding window
 upon return from inflate(), and since all distances after the first 32K of
 output will fall in the output data, making match copies simpler and faster.
 The advantage may be dependent on the size of the processor's data caches.
 */
function updatewindow(strm, src, end, copy) {
  var dist;
  var state = strm.state;

  /* if it hasn't been done already, allocate space for the window */
  if (state.window === null) {
    state.wsize = 1 << state.wbits;
    state.wnext = 0;
    state.whave = 0;

    state.window = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf8"](state.wsize);
  }

  /* copy state->wsize or less output bytes into the circular window */
  if (copy >= state.wsize) {
    _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - state.wsize, state.wsize, 0);
    state.wnext = 0;
    state.whave = state.wsize;
  }
  else {
    dist = state.wsize - state.wnext;
    if (dist > copy) {
      dist = copy;
    }
    //zmemcpy(state->window + state->wnext, end - copy, dist);
    _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - copy, dist, state.wnext);
    copy -= dist;
    if (copy) {
      //zmemcpy(state->window, end - copy, copy);
      _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - copy, copy, 0);
      state.wnext = copy;
      state.whave = state.wsize;
    }
    else {
      state.wnext += dist;
      if (state.wnext === state.wsize) { state.wnext = 0; }
      if (state.whave < state.wsize) { state.whave += dist; }
    }
  }
  return 0;
}

function inflate(strm, flush) {
  var state;
  var input, output;          // input/output buffers
  var next;                   /* next input INDEX */
  var put;                    /* next output INDEX */
  var have, left;             /* available input and output */
  var hold;                   /* bit buffer */
  var bits;                   /* bits in bit buffer */
  var _in, _out;              /* save starting available input and output */
  var copy;                   /* number of stored or match bytes to copy */
  var from;                   /* where to copy match bytes from */
  var from_source;
  var here = 0;               /* current decoding table entry */
  var here_bits, here_op, here_val; // paked "here" denormalized (JS specific)
  //var last;                   /* parent table entry */
  var last_bits, last_op, last_val; // paked "last" denormalized (JS specific)
  var len;                    /* length to copy for repeats, bits to drop */
  var ret;                    /* return code */
  var hbuf = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf8"](4);    /* buffer for gzip header crc calculation */
  var opts;

  var n; // temporary var for NEED_BITS

  var order = /* permutation of code lengths */
    [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ];


  if (!strm || !strm.state || !strm.output ||
      (!strm.input && strm.avail_in !== 0)) {
    return Z_STREAM_ERROR;
  }

  state = strm.state;
  if (state.mode === TYPE) { state.mode = TYPEDO; }    /* skip check */


  //--- LOAD() ---
  put = strm.next_out;
  output = strm.output;
  left = strm.avail_out;
  next = strm.next_in;
  input = strm.input;
  have = strm.avail_in;
  hold = state.hold;
  bits = state.bits;
  //---

  _in = have;
  _out = left;
  ret = Z_OK;

  inf_leave: // goto emulation
  for (;;) {
    switch (state.mode) {
    case HEAD:
      if (state.wrap === 0) {
        state.mode = TYPEDO;
        break;
      }
      //=== NEEDBITS(16);
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if ((state.wrap & 2) && hold === 0x8b1f) {  /* gzip header */
        state.check = 0/*crc32(0L, Z_NULL, 0)*/;
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//

        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        state.mode = FLAGS;
        break;
      }
      state.flags = 0;           /* expect zlib header */
      if (state.head) {
        state.head.done = false;
      }
      if (!(state.wrap & 1) ||   /* check if zlib header allowed */
        (((hold & 0xff)/*BITS(8)*/ << 8) + (hold >> 8)) % 31) {
        strm.msg = 'incorrect header check';
        state.mode = BAD;
        break;
      }
      if ((hold & 0x0f)/*BITS(4)*/ !== Z_DEFLATED) {
        strm.msg = 'unknown compression method';
        state.mode = BAD;
        break;
      }
      //--- DROPBITS(4) ---//
      hold >>>= 4;
      bits -= 4;
      //---//
      len = (hold & 0x0f)/*BITS(4)*/ + 8;
      if (state.wbits === 0) {
        state.wbits = len;
      }
      else if (len > state.wbits) {
        strm.msg = 'invalid window size';
        state.mode = BAD;
        break;
      }
      state.dmax = 1 << len;
      //Tracev((stderr, "inflate:   zlib header ok\n"));
      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;
      state.mode = hold & 0x200 ? DICTID : TYPE;
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      break;
    case FLAGS:
      //=== NEEDBITS(16); */
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.flags = hold;
      if ((state.flags & 0xff) !== Z_DEFLATED) {
        strm.msg = 'unknown compression method';
        state.mode = BAD;
        break;
      }
      if (state.flags & 0xe000) {
        strm.msg = 'unknown header flags set';
        state.mode = BAD;
        break;
      }
      if (state.head) {
        state.head.text = ((hold >> 8) & 1);
      }
      if (state.flags & 0x0200) {
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = TIME;
      /* falls through */
    case TIME:
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if (state.head) {
        state.head.time = hold;
      }
      if (state.flags & 0x0200) {
        //=== CRC4(state.check, hold)
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        hbuf[2] = (hold >>> 16) & 0xff;
        hbuf[3] = (hold >>> 24) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 4, 0);
        //===
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = OS;
      /* falls through */
    case OS:
      //=== NEEDBITS(16); */
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if (state.head) {
        state.head.xflags = (hold & 0xff);
        state.head.os = (hold >> 8);
      }
      if (state.flags & 0x0200) {
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = EXLEN;
      /* falls through */
    case EXLEN:
      if (state.flags & 0x0400) {
        //=== NEEDBITS(16); */
        while (bits < 16) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.length = hold;
        if (state.head) {
          state.head.extra_len = hold;
        }
        if (state.flags & 0x0200) {
          //=== CRC2(state.check, hold);
          hbuf[0] = hold & 0xff;
          hbuf[1] = (hold >>> 8) & 0xff;
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
          //===//
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
      }
      else if (state.head) {
        state.head.extra = null/*Z_NULL*/;
      }
      state.mode = EXTRA;
      /* falls through */
    case EXTRA:
      if (state.flags & 0x0400) {
        copy = state.length;
        if (copy > have) { copy = have; }
        if (copy) {
          if (state.head) {
            len = state.head.extra_len - state.length;
            if (!state.head.extra) {
              // Use untyped array for more conveniend processing later
              state.head.extra = new Array(state.head.extra_len);
            }
            _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](
              state.head.extra,
              input,
              next,
              // extra field is limited to 65536 bytes
              // - no need for additional size check
              copy,
              /*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/
              len
            );
            //zmemcpy(state.head.extra + len, next,
            //        len + copy > state.head.extra_max ?
            //        state.head.extra_max - len : copy);
          }
          if (state.flags & 0x0200) {
            state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
          }
          have -= copy;
          next += copy;
          state.length -= copy;
        }
        if (state.length) { break inf_leave; }
      }
      state.length = 0;
      state.mode = NAME;
      /* falls through */
    case NAME:
      if (state.flags & 0x0800) {
        if (have === 0) { break inf_leave; }
        copy = 0;
        do {
          // TODO: 2 or 1 bytes?
          len = input[next + copy++];
          /* use constant limit because in js we should not preallocate memory */
          if (state.head && len &&
              (state.length < 65536 /*state.head.name_max*/)) {
            state.head.name += String.fromCharCode(len);
          }
        } while (len && copy < have);

        if (state.flags & 0x0200) {
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
        }
        have -= copy;
        next += copy;
        if (len) { break inf_leave; }
      }
      else if (state.head) {
        state.head.name = null;
      }
      state.length = 0;
      state.mode = COMMENT;
      /* falls through */
    case COMMENT:
      if (state.flags & 0x1000) {
        if (have === 0) { break inf_leave; }
        copy = 0;
        do {
          len = input[next + copy++];
          /* use constant limit because in js we should not preallocate memory */
          if (state.head && len &&
              (state.length < 65536 /*state.head.comm_max*/)) {
            state.head.comment += String.fromCharCode(len);
          }
        } while (len && copy < have);
        if (state.flags & 0x0200) {
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
        }
        have -= copy;
        next += copy;
        if (len) { break inf_leave; }
      }
      else if (state.head) {
        state.head.comment = null;
      }
      state.mode = HCRC;
      /* falls through */
    case HCRC:
      if (state.flags & 0x0200) {
        //=== NEEDBITS(16); */
        while (bits < 16) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        if (hold !== (state.check & 0xffff)) {
          strm.msg = 'header crc mismatch';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
      }
      if (state.head) {
        state.head.hcrc = ((state.flags >> 9) & 1);
        state.head.done = true;
      }
      strm.adler = state.check = 0;
      state.mode = TYPE;
      break;
    case DICTID:
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      strm.adler = state.check = zswap32(hold);
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = DICT;
      /* falls through */
    case DICT:
      if (state.havedict === 0) {
        //--- RESTORE() ---
        strm.next_out = put;
        strm.avail_out = left;
        strm.next_in = next;
        strm.avail_in = have;
        state.hold = hold;
        state.bits = bits;
        //---
        return Z_NEED_DICT;
      }
      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;
      state.mode = TYPE;
      /* falls through */
    case TYPE:
      if (flush === Z_BLOCK || flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case TYPEDO:
      if (state.last) {
        //--- BYTEBITS() ---//
        hold >>>= bits & 7;
        bits -= bits & 7;
        //---//
        state.mode = CHECK;
        break;
      }
      //=== NEEDBITS(3); */
      while (bits < 3) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.last = (hold & 0x01)/*BITS(1)*/;
      //--- DROPBITS(1) ---//
      hold >>>= 1;
      bits -= 1;
      //---//

      switch ((hold & 0x03)/*BITS(2)*/) {
      case 0:                             /* stored block */
        //Tracev((stderr, "inflate:     stored block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = STORED;
        break;
      case 1:                             /* fixed block */
        fixedtables(state);
        //Tracev((stderr, "inflate:     fixed codes block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = LEN_;             /* decode codes */
        if (flush === Z_TREES) {
          //--- DROPBITS(2) ---//
          hold >>>= 2;
          bits -= 2;
          //---//
          break inf_leave;
        }
        break;
      case 2:                             /* dynamic block */
        //Tracev((stderr, "inflate:     dynamic codes block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = TABLE;
        break;
      case 3:
        strm.msg = 'invalid block type';
        state.mode = BAD;
      }
      //--- DROPBITS(2) ---//
      hold >>>= 2;
      bits -= 2;
      //---//
      break;
    case STORED:
      //--- BYTEBITS() ---// /* go to byte boundary */
      hold >>>= bits & 7;
      bits -= bits & 7;
      //---//
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if ((hold & 0xffff) !== ((hold >>> 16) ^ 0xffff)) {
        strm.msg = 'invalid stored block lengths';
        state.mode = BAD;
        break;
      }
      state.length = hold & 0xffff;
      //Tracev((stderr, "inflate:       stored length %u\n",
      //        state.length));
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = COPY_;
      if (flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case COPY_:
      state.mode = COPY;
      /* falls through */
    case COPY:
      copy = state.length;
      if (copy) {
        if (copy > have) { copy = have; }
        if (copy > left) { copy = left; }
        if (copy === 0) { break inf_leave; }
        //--- zmemcpy(put, next, copy); ---
        _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](output, input, next, copy, put);
        //---//
        have -= copy;
        next += copy;
        left -= copy;
        put += copy;
        state.length -= copy;
        break;
      }
      //Tracev((stderr, "inflate:       stored end\n"));
      state.mode = TYPE;
      break;
    case TABLE:
      //=== NEEDBITS(14); */
      while (bits < 14) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.nlen = (hold & 0x1f)/*BITS(5)*/ + 257;
      //--- DROPBITS(5) ---//
      hold >>>= 5;
      bits -= 5;
      //---//
      state.ndist = (hold & 0x1f)/*BITS(5)*/ + 1;
      //--- DROPBITS(5) ---//
      hold >>>= 5;
      bits -= 5;
      //---//
      state.ncode = (hold & 0x0f)/*BITS(4)*/ + 4;
      //--- DROPBITS(4) ---//
      hold >>>= 4;
      bits -= 4;
      //---//
//#ifndef PKZIP_BUG_WORKAROUND
      if (state.nlen > 286 || state.ndist > 30) {
        strm.msg = 'too many length or distance symbols';
        state.mode = BAD;
        break;
      }
//#endif
      //Tracev((stderr, "inflate:       table sizes ok\n"));
      state.have = 0;
      state.mode = LENLENS;
      /* falls through */
    case LENLENS:
      while (state.have < state.ncode) {
        //=== NEEDBITS(3);
        while (bits < 3) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.lens[order[state.have++]] = (hold & 0x07);//BITS(3);
        //--- DROPBITS(3) ---//
        hold >>>= 3;
        bits -= 3;
        //---//
      }
      while (state.have < 19) {
        state.lens[order[state.have++]] = 0;
      }
      // We have separate tables & no pointers. 2 commented lines below not needed.
      //state.next = state.codes;
      //state.lencode = state.next;
      // Switch to use dynamic table
      state.lencode = state.lendyn;
      state.lenbits = 7;

      opts = { bits: state.lenbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts);
      state.lenbits = opts.bits;

      if (ret) {
        strm.msg = 'invalid code lengths set';
        state.mode = BAD;
        break;
      }
      //Tracev((stderr, "inflate:       code lengths ok\n"));
      state.have = 0;
      state.mode = CODELENS;
      /* falls through */
    case CODELENS:
      while (state.have < state.nlen + state.ndist) {
        for (;;) {
          here = state.lencode[hold & ((1 << state.lenbits) - 1)];/*BITS(state.lenbits)*/
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        if (here_val < 16) {
          //--- DROPBITS(here.bits) ---//
          hold >>>= here_bits;
          bits -= here_bits;
          //---//
          state.lens[state.have++] = here_val;
        }
        else {
          if (here_val === 16) {
            //=== NEEDBITS(here.bits + 2);
            n = here_bits + 2;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            if (state.have === 0) {
              strm.msg = 'invalid bit length repeat';
              state.mode = BAD;
              break;
            }
            len = state.lens[state.have - 1];
            copy = 3 + (hold & 0x03);//BITS(2);
            //--- DROPBITS(2) ---//
            hold >>>= 2;
            bits -= 2;
            //---//
          }
          else if (here_val === 17) {
            //=== NEEDBITS(here.bits + 3);
            n = here_bits + 3;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            len = 0;
            copy = 3 + (hold & 0x07);//BITS(3);
            //--- DROPBITS(3) ---//
            hold >>>= 3;
            bits -= 3;
            //---//
          }
          else {
            //=== NEEDBITS(here.bits + 7);
            n = here_bits + 7;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            len = 0;
            copy = 11 + (hold & 0x7f);//BITS(7);
            //--- DROPBITS(7) ---//
            hold >>>= 7;
            bits -= 7;
            //---//
          }
          if (state.have + copy > state.nlen + state.ndist) {
            strm.msg = 'invalid bit length repeat';
            state.mode = BAD;
            break;
          }
          while (copy--) {
            state.lens[state.have++] = len;
          }
        }
      }

      /* handle error breaks in while */
      if (state.mode === BAD) { break; }

      /* check for end-of-block code (better have one) */
      if (state.lens[256] === 0) {
        strm.msg = 'invalid code -- missing end-of-block';
        state.mode = BAD;
        break;
      }

      /* build code tables -- note: do not change the lenbits or distbits
         values here (9 and 6) without reading the comments in inftrees.h
         concerning the ENOUGH constants, which depend on those values */
      state.lenbits = 9;

      opts = { bits: state.lenbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);
      // We have separate tables & no pointers. 2 commented lines below not needed.
      // state.next_index = opts.table_index;
      state.lenbits = opts.bits;
      // state.lencode = state.next;

      if (ret) {
        strm.msg = 'invalid literal/lengths set';
        state.mode = BAD;
        break;
      }

      state.distbits = 6;
      //state.distcode.copy(state.codes);
      // Switch to use dynamic table
      state.distcode = state.distdyn;
      opts = { bits: state.distbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);
      // We have separate tables & no pointers. 2 commented lines below not needed.
      // state.next_index = opts.table_index;
      state.distbits = opts.bits;
      // state.distcode = state.next;

      if (ret) {
        strm.msg = 'invalid distances set';
        state.mode = BAD;
        break;
      }
      //Tracev((stderr, 'inflate:       codes ok\n'));
      state.mode = LEN_;
      if (flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case LEN_:
      state.mode = LEN;
      /* falls through */
    case LEN:
      if (have >= 6 && left >= 258) {
        //--- RESTORE() ---
        strm.next_out = put;
        strm.avail_out = left;
        strm.next_in = next;
        strm.avail_in = have;
        state.hold = hold;
        state.bits = bits;
        //---
        Object(_inffast_js__WEBPACK_IMPORTED_MODULE_3__["default"])(strm, _out);
        //--- LOAD() ---
        put = strm.next_out;
        output = strm.output;
        left = strm.avail_out;
        next = strm.next_in;
        input = strm.input;
        have = strm.avail_in;
        hold = state.hold;
        bits = state.bits;
        //---

        if (state.mode === TYPE) {
          state.back = -1;
        }
        break;
      }
      state.back = 0;
      for (;;) {
        here = state.lencode[hold & ((1 << state.lenbits) - 1)];  /*BITS(state.lenbits)*/
        here_bits = here >>> 24;
        here_op = (here >>> 16) & 0xff;
        here_val = here & 0xffff;

        if (here_bits <= bits) { break; }
        //--- PULLBYTE() ---//
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
        //---//
      }
      if (here_op && (here_op & 0xf0) === 0) {
        last_bits = here_bits;
        last_op = here_op;
        last_val = here_val;
        for (;;) {
          here = state.lencode[last_val +
                  ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((last_bits + here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        //--- DROPBITS(last.bits) ---//
        hold >>>= last_bits;
        bits -= last_bits;
        //---//
        state.back += last_bits;
      }
      //--- DROPBITS(here.bits) ---//
      hold >>>= here_bits;
      bits -= here_bits;
      //---//
      state.back += here_bits;
      state.length = here_val;
      if (here_op === 0) {
        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?
        //        "inflate:         literal '%c'\n" :
        //        "inflate:         literal 0x%02x\n", here.val));
        state.mode = LIT;
        break;
      }
      if (here_op & 32) {
        //Tracevv((stderr, "inflate:         end of block\n"));
        state.back = -1;
        state.mode = TYPE;
        break;
      }
      if (here_op & 64) {
        strm.msg = 'invalid literal/length code';
        state.mode = BAD;
        break;
      }
      state.extra = here_op & 15;
      state.mode = LENEXT;
      /* falls through */
    case LENEXT:
      if (state.extra) {
        //=== NEEDBITS(state.extra);
        n = state.extra;
        while (bits < n) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.length += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;
        //--- DROPBITS(state.extra) ---//
        hold >>>= state.extra;
        bits -= state.extra;
        //---//
        state.back += state.extra;
      }
      //Tracevv((stderr, "inflate:         length %u\n", state.length));
      state.was = state.length;
      state.mode = DIST;
      /* falls through */
    case DIST:
      for (;;) {
        here = state.distcode[hold & ((1 << state.distbits) - 1)];/*BITS(state.distbits)*/
        here_bits = here >>> 24;
        here_op = (here >>> 16) & 0xff;
        here_val = here & 0xffff;

        if ((here_bits) <= bits) { break; }
        //--- PULLBYTE() ---//
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
        //---//
      }
      if ((here_op & 0xf0) === 0) {
        last_bits = here_bits;
        last_op = here_op;
        last_val = here_val;
        for (;;) {
          here = state.distcode[last_val +
                  ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((last_bits + here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        //--- DROPBITS(last.bits) ---//
        hold >>>= last_bits;
        bits -= last_bits;
        //---//
        state.back += last_bits;
      }
      //--- DROPBITS(here.bits) ---//
      hold >>>= here_bits;
      bits -= here_bits;
      //---//
      state.back += here_bits;
      if (here_op & 64) {
        strm.msg = 'invalid distance code';
        state.mode = BAD;
        break;
      }
      state.offset = here_val;
      state.extra = (here_op) & 15;
      state.mode = DISTEXT;
      /* falls through */
    case DISTEXT:
      if (state.extra) {
        //=== NEEDBITS(state.extra);
        n = state.extra;
        while (bits < n) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.offset += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;
        //--- DROPBITS(state.extra) ---//
        hold >>>= state.extra;
        bits -= state.extra;
        //---//
        state.back += state.extra;
      }
//#ifdef INFLATE_STRICT
      if (state.offset > state.dmax) {
        strm.msg = 'invalid distance too far back';
        state.mode = BAD;
        break;
      }
//#endif
      //Tracevv((stderr, "inflate:         distance %u\n", state.offset));
      state.mode = MATCH;
      /* falls through */
    case MATCH:
      if (left === 0) { break inf_leave; }
      copy = _out - left;
      if (state.offset > copy) {         /* copy from window */
        copy = state.offset - copy;
        if (copy > state.whave) {
          if (state.sane) {
            strm.msg = 'invalid distance too far back';
            state.mode = BAD;
            break;
          }
// (!) This block is disabled in zlib defailts,
// don't enable it for binary compatibility
//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR
//          Trace((stderr, "inflate.c too far\n"));
//          copy -= state.whave;
//          if (copy > state.length) { copy = state.length; }
//          if (copy > left) { copy = left; }
//          left -= copy;
//          state.length -= copy;
//          do {
//            output[put++] = 0;
//          } while (--copy);
//          if (state.length === 0) { state.mode = LEN; }
//          break;
//#endif
        }
        if (copy > state.wnext) {
          copy -= state.wnext;
          from = state.wsize - copy;
        }
        else {
          from = state.wnext - copy;
        }
        if (copy > state.length) { copy = state.length; }
        from_source = state.window;
      }
      else {                              /* copy from output */
        from_source = output;
        from = put - state.offset;
        copy = state.length;
      }
      if (copy > left) { copy = left; }
      left -= copy;
      state.length -= copy;
      do {
        output[put++] = from_source[from++];
      } while (--copy);
      if (state.length === 0) { state.mode = LEN; }
      break;
    case LIT:
      if (left === 0) { break inf_leave; }
      output[put++] = state.length;
      left--;
      state.mode = LEN;
      break;
    case CHECK:
      if (state.wrap) {
        //=== NEEDBITS(32);
        while (bits < 32) {
          if (have === 0) { break inf_leave; }
          have--;
          // Use '|' insdead of '+' to make sure that result is signed
          hold |= input[next++] << bits;
          bits += 8;
        }
        //===//
        _out -= left;
        strm.total_out += _out;
        state.total += _out;
        if (_out) {
          strm.adler = state.check =
              /*UPDATE(state.check, put - _out, _out);*/
              (state.flags ? Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, output, _out, put - _out) : Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(state.check, output, _out, put - _out));

        }
        _out = left;
        // NB: crc32 stored as signed 32-bit int, zswap32 returns signed too
        if ((state.flags ? hold : zswap32(hold)) !== state.check) {
          strm.msg = 'incorrect data check';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        //Tracev((stderr, "inflate:   check matches trailer\n"));
      }
      state.mode = LENGTH;
      /* falls through */
    case LENGTH:
      if (state.wrap && state.flags) {
        //=== NEEDBITS(32);
        while (bits < 32) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        if (hold !== (state.total & 0xffffffff)) {
          strm.msg = 'incorrect length check';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        //Tracev((stderr, "inflate:   length matches trailer\n"));
      }
      state.mode = DONE;
      /* falls through */
    case DONE:
      ret = Z_STREAM_END;
      break inf_leave;
    case BAD:
      ret = Z_DATA_ERROR;
      break inf_leave;
    case MEM:
      return Z_MEM_ERROR;
    case SYNC:
      /* falls through */
    default:
      return Z_STREAM_ERROR;
    }
  }

  // inf_leave <- here is real place for "goto inf_leave", emulated via "break inf_leave"

  /*
     Return from inflate(), updating the total counts and the check value.
     If there was no progress during the inflate() call, return a buffer
     error.  Call updatewindow() to create and/or update the window state.
     Note: a memory error from inflate() is non-recoverable.
   */

  //--- RESTORE() ---
  strm.next_out = put;
  strm.avail_out = left;
  strm.next_in = next;
  strm.avail_in = have;
  state.hold = hold;
  state.bits = bits;
  //---

  if (state.wsize || (_out !== strm.avail_out && state.mode < BAD &&
                      (state.mode < CHECK || flush !== Z_FINISH))) {
    if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out)) {
      state.mode = MEM;
      return Z_MEM_ERROR;
    }
  }
  _in -= strm.avail_in;
  _out -= strm.avail_out;
  strm.total_in += _in;
  strm.total_out += _out;
  state.total += _out;
  if (state.wrap && _out) {
    strm.adler = state.check = /*UPDATE(state.check, strm.next_out - _out, _out);*/
      (state.flags ? Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, output, _out, strm.next_out - _out) : Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(state.check, output, _out, strm.next_out - _out));
  }
  strm.data_type = state.bits + (state.last ? 64 : 0) +
                    (state.mode === TYPE ? 128 : 0) +
                    (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);
  if (((_in === 0 && _out === 0) || flush === Z_FINISH) && ret === Z_OK) {
    ret = Z_BUF_ERROR;
  }
  return ret;
}

function inflateEnd(strm) {

  if (!strm || !strm.state /*|| strm->zfree == (free_func)0*/) {
    return Z_STREAM_ERROR;
  }

  var state = strm.state;
  if (state.window) {
    state.window = null;
  }
  strm.state = null;
  return Z_OK;
}

function inflateGetHeader(strm, head) {
  var state;

  /* check state */
  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  if ((state.wrap & 2) === 0) { return Z_STREAM_ERROR; }

  /* save header structure */
  state.head = head;
  head.done = false;
  return Z_OK;
}

function inflateSetDictionary(strm, dictionary) {
  var dictLength = dictionary.length;

  var state;
  var dictid;
  var ret;

  /* check state */
  if (!strm /* == Z_NULL */ || !strm.state /* == Z_NULL */) { return Z_STREAM_ERROR; }
  state = strm.state;

  if (state.wrap !== 0 && state.mode !== DICT) {
    return Z_STREAM_ERROR;
  }

  /* check for correct dictionary identifier */
  if (state.mode === DICT) {
    dictid = 1; /* adler32(0, null, 0)*/
    /* dictid = adler32(dictid, dictionary, dictLength); */
    dictid = Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(dictid, dictionary, dictLength, 0);
    if (dictid !== state.check) {
      return Z_DATA_ERROR;
    }
  }
  /* copy dictionary to window using updatewindow(), which will amend the
   existing dictionary if appropriate */
  ret = updatewindow(strm, dictionary, dictLength, dictLength);
  if (ret) {
    state.mode = MEM;
    return Z_MEM_ERROR;
  }
  state.havedict = 1;
  // Tracev((stderr, "inflate:   dictionary set\n"));
  return Z_OK;
}


var inflateInfo = 'pako inflate (from Nodeca project)';

/* Not implemented
exports.inflateCopy = inflateCopy;
exports.inflateGetDictionary = inflateGetDictionary;
exports.inflateMark = inflateMark;
exports.inflatePrime = inflatePrime;
exports.inflateSync = inflateSync;
exports.inflateSyncPoint = inflateSyncPoint;
exports.inflateUndermine = inflateUndermine;
*/


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js":
/*!********************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return inflate_table; });
/* harmony import */ var _utils_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js");


var MAXBITS = 15;
var ENOUGH_LENS = 852;
var ENOUGH_DISTS = 592;
//var ENOUGH = (ENOUGH_LENS+ENOUGH_DISTS);

var CODES = 0;
var LENS = 1;
var DISTS = 2;

var lbase = [ /* Length codes 257..285 base */
  3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31,
  35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0
];

var lext = [ /* Length codes 257..285 extra */
  16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18,
  19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78
];

var dbase = [ /* Distance codes 0..29 base */
  1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,
  257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,
  8193, 12289, 16385, 24577, 0, 0
];

var dext = [ /* Distance codes 0..29 extra */
  16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22,
  23, 23, 24, 24, 25, 25, 26, 26, 27, 27,
  28, 28, 29, 29, 64, 64
];

function inflate_table(type, lens, lens_index, codes, table, table_index, work, opts)
{
  var bits = opts.bits;
      //here = opts.here; /* table entry for duplication */

  var len = 0;               /* a code's length in bits */
  var sym = 0;               /* index of code symbols */
  var min = 0, max = 0;          /* minimum and maximum code lengths */
  var root = 0;              /* number of index bits for root table */
  var curr = 0;              /* number of index bits for current table */
  var drop = 0;              /* code bits to drop for sub-table */
  var left = 0;                   /* number of prefix codes available */
  var used = 0;              /* code entries in table used */
  var huff = 0;              /* Huffman code */
  var incr;              /* for incrementing code, index */
  var fill;              /* index for replicating entries */
  var low;               /* low bits for current root entry */
  var mask;              /* mask for low root bits */
  var next;             /* next available space in table */
  var base = null;     /* base value table to use */
  var base_index = 0;
//  var shoextra;    /* extra bits table to use */
  var end;                    /* use base and extra for symbol > end */
  var count = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](MAXBITS + 1); //[MAXBITS+1];    /* number of codes of each length */
  var offs = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](MAXBITS + 1); //[MAXBITS+1];     /* offsets in table for each length */
  var extra = null;
  var extra_index = 0;

  var here_bits, here_op, here_val;

  /*
   Process a set of code lengths to create a canonical Huffman code.  The
   code lengths are lens[0..codes-1].  Each length corresponds to the
   symbols 0..codes-1.  The Huffman code is generated by first sorting the
   symbols by length from short to long, and retaining the symbol order
   for codes with equal lengths.  Then the code starts with all zero bits
   for the first code of the shortest length, and the codes are integer
   increments for the same length, and zeros are appended as the length
   increases.  For the deflate format, these bits are stored backwards
   from their more natural integer increment ordering, and so when the
   decoding tables are built in the large loop below, the integer codes
   are incremented backwards.

   This routine assumes, but does not check, that all of the entries in
   lens[] are in the range 0..MAXBITS.  The caller must assure this.
   1..MAXBITS is interpreted as that code length.  zero means that that
   symbol does not occur in this code.

   The codes are sorted by computing a count of codes for each length,
   creating from that a table of starting indices for each length in the
   sorted table, and then entering the symbols in order in the sorted
   table.  The sorted table is work[], with that space being provided by
   the caller.

   The length counts are used for other purposes as well, i.e. finding
   the minimum and maximum length codes, determining if there are any
   codes at all, checking for a valid set of lengths, and looking ahead
   at length counts to determine sub-table sizes when building the
   decoding tables.
   */

  /* accumulate lengths for codes (assumes lens[] all in 0..MAXBITS) */
  for (len = 0; len <= MAXBITS; len++) {
    count[len] = 0;
  }
  for (sym = 0; sym < codes; sym++) {
    count[lens[lens_index + sym]]++;
  }

  /* bound code lengths, force root to be within code lengths */
  root = bits;
  for (max = MAXBITS; max >= 1; max--) {
    if (count[max] !== 0) { break; }
  }
  if (root > max) {
    root = max;
  }
  if (max === 0) {                     /* no symbols to code at all */
    //table.op[opts.table_index] = 64;  //here.op = (var char)64;    /* invalid code marker */
    //table.bits[opts.table_index] = 1;   //here.bits = (var char)1;
    //table.val[opts.table_index++] = 0;   //here.val = (var short)0;
    table[table_index++] = (1 << 24) | (64 << 16) | 0;


    //table.op[opts.table_index] = 64;
    //table.bits[opts.table_index] = 1;
    //table.val[opts.table_index++] = 0;
    table[table_index++] = (1 << 24) | (64 << 16) | 0;

    opts.bits = 1;
    return 0;     /* no symbols, but wait for decoding to report error */
  }
  for (min = 1; min < max; min++) {
    if (count[min] !== 0) { break; }
  }
  if (root < min) {
    root = min;
  }

  /* check for an over-subscribed or incomplete set of lengths */
  left = 1;
  for (len = 1; len <= MAXBITS; len++) {
    left <<= 1;
    left -= count[len];
    if (left < 0) {
      return -1;
    }        /* over-subscribed */
  }
  if (left > 0 && (type === CODES || max !== 1)) {
    return -1;                      /* incomplete set */
  }

  /* generate offsets into symbol table for each length for sorting */
  offs[1] = 0;
  for (len = 1; len < MAXBITS; len++) {
    offs[len + 1] = offs[len] + count[len];
  }

  /* sort symbols by length, by symbol order within each length */
  for (sym = 0; sym < codes; sym++) {
    if (lens[lens_index + sym] !== 0) {
      work[offs[lens[lens_index + sym]]++] = sym;
    }
  }

  /*
   Create and fill in decoding tables.  In this loop, the table being
   filled is at next and has curr index bits.  The code being used is huff
   with length len.  That code is converted to an index by dropping drop
   bits off of the bottom.  For codes where len is less than drop + curr,
   those top drop + curr - len bits are incremented through all values to
   fill the table with replicated entries.

   root is the number of index bits for the root table.  When len exceeds
   root, sub-tables are created pointed to by the root entry with an index
   of the low root bits of huff.  This is saved in low to check for when a
   new sub-table should be started.  drop is zero when the root table is
   being filled, and drop is root when sub-tables are being filled.

   When a new sub-table is needed, it is necessary to look ahead in the
   code lengths to determine what size sub-table is needed.  The length
   counts are used for this, and so count[] is decremented as codes are
   entered in the tables.

   used keeps track of how many table entries have been allocated from the
   provided *table space.  It is checked for LENS and DIST tables against
   the constants ENOUGH_LENS and ENOUGH_DISTS to guard against changes in
   the initial root table size constants.  See the comments in inftrees.h
   for more information.

   sym increments through all symbols, and the loop terminates when
   all codes of length max, i.e. all codes, have been processed.  This
   routine permits incomplete codes, so another loop after this one fills
   in the rest of the decoding tables with invalid code markers.
   */

  /* set up for code type */
  // poor man optimization - use if-else instead of switch,
  // to avoid deopts in old v8
  if (type === CODES) {
    base = extra = work;    /* dummy value--not used */
    end = 19;

  } else if (type === LENS) {
    base = lbase;
    base_index -= 257;
    extra = lext;
    extra_index -= 257;
    end = 256;

  } else {                    /* DISTS */
    base = dbase;
    extra = dext;
    end = -1;
  }

  /* initialize opts for loop */
  huff = 0;                   /* starting code */
  sym = 0;                    /* starting code symbol */
  len = min;                  /* starting code length */
  next = table_index;              /* current table to fill in */
  curr = root;                /* current table index bits */
  drop = 0;                   /* current bits to drop from code for index */
  low = -1;                   /* trigger new sub-table when len > root */
  used = 1 << root;          /* use root table entries */
  mask = used - 1;            /* mask for comparing low */

  /* check available table space */
  if ((type === LENS && used > ENOUGH_LENS) ||
    (type === DISTS && used > ENOUGH_DISTS)) {
    return 1;
  }

  /* process all codes and make table entries */
  for (;;) {
    /* create table entry */
    here_bits = len - drop;
    if (work[sym] < end) {
      here_op = 0;
      here_val = work[sym];
    }
    else if (work[sym] > end) {
      here_op = extra[extra_index + work[sym]];
      here_val = base[base_index + work[sym]];
    }
    else {
      here_op = 32 + 64;         /* end of block */
      here_val = 0;
    }

    /* replicate for those indices with low len bits equal to huff */
    incr = 1 << (len - drop);
    fill = 1 << curr;
    min = fill;                 /* save offset to next table */
    do {
      fill -= incr;
      table[next + (huff >> drop) + fill] = (here_bits << 24) | (here_op << 16) | here_val |0;
    } while (fill !== 0);

    /* backwards increment the len-bit code huff */
    incr = 1 << (len - 1);
    while (huff & incr) {
      incr >>= 1;
    }
    if (incr !== 0) {
      huff &= incr - 1;
      huff += incr;
    } else {
      huff = 0;
    }

    /* go to next symbol, update count, len */
    sym++;
    if (--count[len] === 0) {
      if (len === max) { break; }
      len = lens[lens_index + work[sym]];
    }

    /* create new sub-table if needed */
    if (len > root && (huff & mask) !== low) {
      /* if first time, transition to sub-tables */
      if (drop === 0) {
        drop = root;
      }

      /* increment past last table */
      next += min;            /* here min is 1 << curr */

      /* determine length of next table */
      curr = len - drop;
      left = 1 << curr;
      while (curr + drop < max) {
        left -= count[curr + drop];
        if (left <= 0) { break; }
        curr++;
        left <<= 1;
      }

      /* check for enough space */
      used += 1 << curr;
      if ((type === LENS && used > ENOUGH_LENS) ||
        (type === DISTS && used > ENOUGH_DISTS)) {
        return 1;
      }

      /* point entry in root table to sub-table */
      low = huff & mask;
      /*table.op[low] = curr;
      table.bits[low] = root;
      table.val[low] = next - opts.table_index;*/
      table[low] = (root << 24) | (curr << 16) | (next - table_index) |0;
    }
  }

  /* fill in remaining table entry if code is incomplete (guaranteed to have
   at most one remaining entry, since if the code is incomplete, the
   maximum code length that was allowed to get this far is one bit) */
  if (huff !== 0) {
    //table.op[next + huff] = 64;            /* invalid code marker */
    //table.bits[next + huff] = len - drop;
    //table.val[next + huff] = 0;
    table[next + huff] = ((len - drop) << 24) | (64 << 16) |0;
  }

  /* set return parameters */
  //opts.table_index += used;
  opts.bits = root;
  return 0;
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZStream; });
function ZStream() {
  /* next input byte */
  this.input = null; // JS specific, because we have no pointers
  this.next_in = 0;
  /* number of bytes available at input */
  this.avail_in = 0;
  /* total number of input bytes read so far */
  this.total_in = 0;
  /* next output byte should be put there */
  this.output = null; // JS specific, because we have no pointers
  this.next_out = 0;
  /* remaining free space at output */
  this.avail_out = 0;
  /* total number of bytes output so far */
  this.total_out = 0;
  /* last error message, NULL if no error */
  this.msg = ''/*Z_NULL*/;
  /* not visible by applications */
  this.state = null;
  /* best guess about the data type: binary or text */
  this.data_type = 2/*Z_UNKNOWN*/;
  /* adler32 value of the uncompressed data */
  this.adler = 0;
}


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/promise-polyfill/src/finally.js":
/*!******************************************************!*\
  !*** ./node_modules/promise-polyfill/src/finally.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * @this {Promise}
 */
function finallyConstructor(callback) {
  var constructor = this.constructor;
  return this.then(
    function(value) {
      return constructor.resolve(callback()).then(function() {
        return value;
      });
    },
    function(reason) {
      return constructor.resolve(callback()).then(function() {
        return constructor.reject(reason);
      });
    }
  );
}

/* harmony default export */ __webpack_exports__["default"] = (finallyConstructor);


/***/ }),

/***/ "./node_modules/promise-polyfill/src/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/src/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(setImmediate) {/* harmony import */ var _finally__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./finally */ "./node_modules/promise-polyfill/src/finally.js");


// Store setTimeout reference so promise-polyfill will be unaffected by
// other code modifying setTimeout (like sinon.useFakeTimers())
var setTimeoutFunc = setTimeout;

function noop() {}

// Polyfill for Function.prototype.bind
function bind(fn, thisArg) {
  return function() {
    fn.apply(thisArg, arguments);
  };
}

/**
 * @constructor
 * @param {Function} fn
 */
function Promise(fn) {
  if (!(this instanceof Promise))
    throw new TypeError('Promises must be constructed via new');
  if (typeof fn !== 'function') throw new TypeError('not a function');
  /** @type {!number} */
  this._state = 0;
  /** @type {!boolean} */
  this._handled = false;
  /** @type {Promise|undefined} */
  this._value = undefined;
  /** @type {!Array<!Function>} */
  this._deferreds = [];

  doResolve(fn, this);
}

function handle(self, deferred) {
  while (self._state === 3) {
    self = self._value;
  }
  if (self._state === 0) {
    self._deferreds.push(deferred);
    return;
  }
  self._handled = true;
  Promise._immediateFn(function() {
    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;
    if (cb === null) {
      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);
      return;
    }
    var ret;
    try {
      ret = cb(self._value);
    } catch (e) {
      reject(deferred.promise, e);
      return;
    }
    resolve(deferred.promise, ret);
  });
}

function resolve(self, newValue) {
  try {
    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
    if (newValue === self)
      throw new TypeError('A promise cannot be resolved with itself.');
    if (
      newValue &&
      (typeof newValue === 'object' || typeof newValue === 'function')
    ) {
      var then = newValue.then;
      if (newValue instanceof Promise) {
        self._state = 3;
        self._value = newValue;
        finale(self);
        return;
      } else if (typeof then === 'function') {
        doResolve(bind(then, newValue), self);
        return;
      }
    }
    self._state = 1;
    self._value = newValue;
    finale(self);
  } catch (e) {
    reject(self, e);
  }
}

function reject(self, newValue) {
  self._state = 2;
  self._value = newValue;
  finale(self);
}

function finale(self) {
  if (self._state === 2 && self._deferreds.length === 0) {
    Promise._immediateFn(function() {
      if (!self._handled) {
        Promise._unhandledRejectionFn(self._value);
      }
    });
  }

  for (var i = 0, len = self._deferreds.length; i < len; i++) {
    handle(self, self._deferreds[i]);
  }
  self._deferreds = null;
}

/**
 * @constructor
 */
function Handler(onFulfilled, onRejected, promise) {
  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
  this.onRejected = typeof onRejected === 'function' ? onRejected : null;
  this.promise = promise;
}

/**
 * Take a potentially misbehaving resolver function and make sure
 * onFulfilled and onRejected are only called once.
 *
 * Makes no guarantees about asynchrony.
 */
function doResolve(fn, self) {
  var done = false;
  try {
    fn(
      function(value) {
        if (done) return;
        done = true;
        resolve(self, value);
      },
      function(reason) {
        if (done) return;
        done = true;
        reject(self, reason);
      }
    );
  } catch (ex) {
    if (done) return;
    done = true;
    reject(self, ex);
  }
}

Promise.prototype['catch'] = function(onRejected) {
  return this.then(null, onRejected);
};

Promise.prototype.then = function(onFulfilled, onRejected) {
  // @ts-ignore
  var prom = new this.constructor(noop);

  handle(this, new Handler(onFulfilled, onRejected, prom));
  return prom;
};

Promise.prototype['finally'] = _finally__WEBPACK_IMPORTED_MODULE_0__["default"];

Promise.all = function(arr) {
  return new Promise(function(resolve, reject) {
    if (!arr || typeof arr.length === 'undefined')
      throw new TypeError('Promise.all accepts an array');
    var args = Array.prototype.slice.call(arr);
    if (args.length === 0) return resolve([]);
    var remaining = args.length;

    function res(i, val) {
      try {
        if (val && (typeof val === 'object' || typeof val === 'function')) {
          var then = val.then;
          if (typeof then === 'function') {
            then.call(
              val,
              function(val) {
                res(i, val);
              },
              reject
            );
            return;
          }
        }
        args[i] = val;
        if (--remaining === 0) {
          resolve(args);
        }
      } catch (ex) {
        reject(ex);
      }
    }

    for (var i = 0; i < args.length; i++) {
      res(i, args[i]);
    }
  });
};

Promise.resolve = function(value) {
  if (value && typeof value === 'object' && value.constructor === Promise) {
    return value;
  }

  return new Promise(function(resolve) {
    resolve(value);
  });
};

Promise.reject = function(value) {
  return new Promise(function(resolve, reject) {
    reject(value);
  });
};

Promise.race = function(values) {
  return new Promise(function(resolve, reject) {
    for (var i = 0, len = values.length; i < len; i++) {
      values[i].then(resolve, reject);
    }
  });
};

// Use polyfill for setImmediate for performance gains
Promise._immediateFn =
  (typeof setImmediate === 'function' &&
    function(fn) {
      setImmediate(fn);
    }) ||
  function(fn) {
    setTimeoutFunc(fn, 0);
  };

Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {
  if (typeof console !== 'undefined' && console) {
    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console
  }
};

/* harmony default export */ __webpack_exports__["default"] = (Promise);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../timers-browserify/main.js */ "./node_modules/timers-browserify/main.js").setImmediate))

/***/ }),

/***/ "./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 6–8
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== "undefined" && global) ||
            (typeof self !== "undefined" && self) ||
            window;
var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(scope, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__(/*! setimmediate */ "./node_modules/setimmediate/setImmediate.js");
// On some exotic environments, it's not clear which object `setimmediate` was
// able to install onto.  Search each possibility in the same order as the
// `setimmediate` library.
exports.setImmediate = (typeof self !== "undefined" && self.setImmediate) ||
                       (typeof global !== "undefined" && global.setImmediate) ||
                       (this && this.setImmediate);
exports.clearImmediate = (typeof self !== "undefined" && self.clearImmediate) ||
                         (typeof global !== "undefined" && global.clearImmediate) ||
                         (this && this.clearImmediate);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/unfetch/polyfill/index.js":
/*!************************************************!*\
  !*** ./node_modules/unfetch/polyfill/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

self.fetch||(self.fetch=function(e,n){return n=n||{},new Promise(function(t,r){var s=new XMLHttpRequest;for(var o in s.open(n.method||"get",e,!0),n.headers)s.setRequestHeader(o,n.headers[o]);function u(){var e,n=[],t=[],r={};return s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(s,o,u){n.push(o=o.toLowerCase()),t.push([o,u]),r[o]=(e=r[o])?e+","+u:u}),{ok:2==(s.status/100|0),status:s.status,statusText:s.statusText,url:s.responseURL,clone:u,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},headers:{keys:function(){return n},entries:function(){return t},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}s.withCredentials="include"==n.credentials,s.onload=function(){t(u())},s.onerror=r,s.send(n.body||null)})});


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1, eval)("this");
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./src/audio-mediasource.js":
/*!**********************************!*\
  !*** ./src/audio-mediasource.js ***!
  \**********************************/
/*! exports provided: getBestAudioType, WSAudio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBestAudioType", function() { return getBestAudioType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WSAudio", function() { return WSAudio; });
// Play Audio with MediaSource extensions received over a websocket
var OPUS_MIME_TYPE = 'audio/webm; codecs="opus"';
var MP3_MIME_TYPE = 'audio/mpeg';

// This represents the order in which the types are tried
const AUDIO_TYPES = [
  {"id": "mp3",
    "type": MP3_MIME_TYPE},

  {"id": "opus",
    "type": OPUS_MIME_TYPE},
];




function getBestAudioType() {
  if (window.MediaSource) {
    for (var i = 0; i < AUDIO_TYPES.length; i++) {
      if (window.MediaSource.isTypeSupported(AUDIO_TYPES[i].type)) {
        return AUDIO_TYPES[i].id;
      }
    }
  }
};


function WSAudio (browser_info, init_params) {
  init_params = init_params || {};

  var MAX_BUFFERS = 250;
  var MIN_START_BUFFERS = 10;

  var minLatency = 0.2; // 200ms
  var maxLatency = 0.5  // 500ms
  this.latencyCheck = null;

  this.ws = null;
  this.ws_url = null;

  this.errCount = 0;

  this.allowAppend = false;

  this.audio = null;
  this.audio_mime = null;
  this.mediasource = null;
  this.buffer = null;

  this.buffQ = [];
  this.buffCount = 0;
  this.buffSize = 0;

  this.get_audio_mime = function(browser_info) {
    for (var i = 0; i < AUDIO_TYPES.length; i++) {
      if (AUDIO_TYPES[i].id == browser_info.audio) {
        return AUDIO_TYPES[i].type;
      }
    }

    console.log("Audio not inited, unknown audio type: " + browser_info.audio);
    return null;
  }

  this.get_ws_url = function(browser_info) {
    var ws_url = (window.location.protocol == "https:" ? "wss:" : "ws:");
    ws_url += window.location.hostname;

    var audio_port = browser_info.cmd_port;

    if (init_params.proxy_ws) {
      ws_url += "/" + init_params.proxy_ws + audio_port;
    } else {
      ws_url += ":" + audio_port + "/audio_ws";
    }

    return ws_url;
  }


  this.start = function() {
    if (this.audio) {
      return true;
    }

    this.audio_mime = this.get_audio_mime(browser_info);
    this.ws_url = this.get_ws_url(browser_info);

    if (!this.audio_mime) {
      return false;
    }

    this.latencyCheck = setInterval(this.latencyController.bind(this), 250);

    this.mediasource = new MediaSource();
    this.mediasource.addEventListener("sourceopen", this.sourceOpen.bind(this));

    this.mediasource.addEventListener("error", (function(event) {
      this.audioError("MediaSource Error", event);
    }).bind(this));

    this.audio = new Audio();
    this.audio.src = URL.createObjectURL(this.mediasource);
    this.audio.autoplay = true;
    this.audio.load();
    this.audio.play().catch(function() { });

    return true;
  }

  this.sourceOpen = function() {
    if (this.mediasource.sourceBuffers.length) {
      console.log("source already open");
      return;
    }

    var buffer = null;

    try {
      buffer = this.mediasource.addSourceBuffer(this.audio_mime);
    } catch (e) {
      console.log("Opening Source Error: " + e);
      return;
    }

    buffer.mode = "sequence";
    //buffer.timestampOffset = 0;

    buffer.addEventListener("error", (function(event) {
      this.audioError("buffer error: " + (this.buffCount), event);
    }).bind(this));

    buffer.addEventListener("updateend", this.onUpdateEnd.bind(this));

    this.buffer = buffer;

    this.allowAppend = true;

    this.initWs();
  };

  this.close = function() {
    console.log("Closing Audio");
    try {
      if (this.latencyCheck) {
        clearInterval(this.latencyCheck);
      }

      if (this.mediasource) {
        this.mediasource.removeSourceBuffer(this.buffer);
        if (this.mediasource.readyState == "open") {
          this.mediasource.endOfStream();
        }
      }
      this.buffer = null;

    } catch(e) {
      console.log("Error Closing: " + e);
    }
    this.mediasource = null;

    try {
      if (this.audio) {
        this.audio.pause();
      }
      this.audio = null;
    } catch (e) {
      console.log("Error Closing: " + e);
    }

    if (this.ws) {
      console.log("Closing websocket");
      try {
        this.ws.close();
      } catch(e) {}

      this.ws = null;
    }
  }

  this.mergeBuffers = function() {
    var merged;

    if (this.buffQ.length == 1) {
      merged = this.buffQ[0];
    } else {
      merged = new Uint8Array(this.buffSize);

      var length = this.buffQ.length;
      var offset = 0;

      for (var i = 0; i < length; i++) {
        var curr = this.buffQ[i];
        if (curr.length <= 0) {
          continue;
        }
        merged.set(curr, offset);
        offset += curr.length;
      }
    }

    this.buffQ = [];
    this.buffCount++;
    return merged;
  }

  this.onUpdateEnd = function() {
    this.allowAppend = true;
    this.updateNext();
  }

  this.updateNext = function() {
    if (!this.buffQ.length) {
      return;
    }

    try {
      var merged = this.mergeBuffers();
      this.buffer.appendBuffer(merged);
      this.allowAppend = false;
      this.buffSize -= merged.length;
      this.errCount = 0;
    } catch (e) {
      this.audioError("Error Adding Buffer: " + e);
    }
  }

  this.latencyController = function() {
    // check for latency and seek forward if necessary
    try {
      var latency = this.audio.buffered.end(0) - this.audio.currentTime;
      if (latency > maxLatency) {
        this.audio.currentTime = this.audio.buffered.end(0) - minLatency;
        console.log("Audio has been seeked by ", Math.round((latency - minLatency) * 1000), " ms");
      }

    } catch(e) {

    }
  }

  this.audioError = function(msg, event) {
    if (this.audio && this.audio.error) {
      console.log(msg);
      console.log(this.audio.error);
      //console.log("num processed: " + this.buffCount);
      this.errCount += 1;
      //if (this.errCount == 1) {
      //    setTimeout(restartAudio, 3000);
      //}
    }
  }

  this.queue = function(buffer) {
    /*
    if (this.buffSize > 200000) {
        if (this.buffCount > 0) {
            var res = this.buffQ.shift();
            this.buffSize -= res.length;
            console.log("dropping old buffers");
        } else {
            // don't drop the starting buffers
            console.log("dropping new buffers");
            this.updateNext();
            return;
        }
    }
    */

    buffer = new Uint8Array(buffer);
    this.buffQ.push(buffer);
    this.buffSize += buffer.length;

    if (this.allowAppend) {
      this.updateNext();
    }
  }

  this.initWs = function() {
    try {
      this.ws = new WebSocket(this.ws_url, "binary");
    } catch (e) {
      this.audioError("WS Open Failed");
    }

    this.ws.binaryType = 'arraybuffer';
    this.ws.addEventListener("open", ws_open.bind(this));
    this.ws.addEventListener("close", ws_close.bind(this));
    this.ws.addEventListener("message", ws_message.bind(this));
    this.ws.addEventListener('error', ws_error.bind(this));
  }

  var ws_open = function(event) {
    //this.send("ready");
  }

  var ws_message = function(event) {
    if (this.errCount == 0) {
      this.queue(event.data);
    }
  }

  var ws_error = function() {
    this.audioError("WS Error");
  }

  var ws_close = function() {
    this.audioError("WS Close");
  }

  return this;

  //return {"start": start,
  //        "stop": stop,
  //        "restart": restartAudio,
  //        "getAudio": function () {return  audioWS.audio;},
  //}
};






/***/ }),

/***/ "./src/audio-webrtc.js":
/*!*****************************!*\
  !*** ./src/audio-webrtc.js ***!
  \*****************************/
/*! exports provided: WebRTCAudio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WebRTCAudio", function() { return WebRTCAudio; });



function WebRTCAudio(peer_id, data) {

  let debug = true;
  let audio = null;
  let connect_attempts = 0;
  let peer_connection;
  let ws_conn;

  this.start = function() {
    if (audio) {
      console.log("already started");
      return;
    }
    audio = new Audio();
    audio.autoplay = true;
    audio.play().catch(setError);
    connectToSignalingServer();
  };

  function connectToSignalingServer() {
    connect_attempts++;
    if (connect_attempts > 100) {
      setError("Too many connection attempts, aborting. Refresh page to try again");
      return;
    }

    // Fetch the peer id to use
    let peer_id = getPeerId();
    let ws_url = getSignallingServer();
    setStatus("Connecting to server " + ws_url + ", attempt= " + connect_attempts);
    ws_conn = new WebSocket(ws_url);
    /* When connected, immediately register with the server */
    ws_conn.addEventListener('open', () => {
      ws_conn.send('HELLO ' + peer_id);
      setStatus("Registering with server, peer-id = " + peer_id);
    });

    ws_conn.addEventListener('error', onServerError);
    ws_conn.addEventListener('message', onServerMessage);
    ws_conn.addEventListener('close', onServerClose);
  }

  function getPeerId() {
    return peer_id;
  }

  function getSignallingServer() {
    let ws_url = (window.location.protocol === "https:" ? "wss://" : "ws://");
    ws_url += window.location.hostname;

    var audio_port = data.cmd_port;

    if (data.proxy_ws) {
      ws_url += "/" + data.proxy_ws + audio_port;
    } else {
      ws_url += ":" + audio_port + "/audio_ws";
    }

    return ws_url;
  }

  function onServerError() {
    setError("Unable to connect to server, did you add an exception for the certificate?");
    // Retry after 3 seconds
    window.setTimeout(connectToSignalingServer, 3000);
  }

  function handleIncomingError(message) {
    console.log("handleIncomingError" + message);
  }

  function onServerMessage(event) {
    if (debug) {
      console.log("Received from websocket " + event.data);
    }
    let msg;
    switch (event.data) {
      case "HELLO":
        setStatus("Registered with server, waiting for call");
        return;
      default:
        if (event.data.startsWith("ERROR")) {
          handleIncomingError(event.data);
          return;
        }
        // Handle incoming JSON SDP and ICE messages
        try {
          msg = JSON.parse(event.data);
        } catch (e) {
          if (e instanceof SyntaxError) {
            handleIncomingError("Error parsing incoming JSON: " + event.data);
          } else {
            handleIncomingError("Unknown error parsing response: " + event.data);
          }
          return;
        }

        // Incoming JSON signals the beginning of a call
        if (!peer_connection)
          createCall(msg);

        if (msg.sdp != null) {
          onIncomingSDP(msg.sdp);
        } else if (msg.ice != null) {
          onIncomingICE(msg.ice);
        } else {
          handleIncomingError("Unknown incoming JSON: " + msg);
        }
    }
  }

  // ICE candidate received from peer, add it to the peer connection
  function onIncomingICE(ice) {
    let candidate = new RTCIceCandidate(ice);
    peer_connection.addIceCandidate(candidate).catch(setError);
  }

  function onServerClose(event) {
    setStatus('Disconnected from server with code=' + event.code + ' reason=' + event.reason);
    resetAudio();
    disconnectWebsocket();

    if (event.code !== 1002) {
      // Reset after a second
      window.setTimeout(connectToSignalingServer, 2000);
    } else {
      if (connect_attempts < 5) {
        // Retrieve to connect up to 5 times (peer-id might be in conflict if init_browser is called again)
        window.setTimeout(connectToSignalingServer, 2000);
      }
    }
  }

  function setStatus(status) {
    if (debug) {
      console.log("WebRTC-status:" + status);
    }
  }

  function setError(error) {
    console.log("WebRTC-error: " + error);
  }

  function onIncomingSDP(sdp) {
    peer_connection.setRemoteDescription(sdp).then(() => {
      setStatus("Remote SDP set");
      if (sdp.type !== "offer")
        return;
      setStatus("Got SDP offer");
      peer_connection.createAnswer()
        .then(onLocalDescription).catch(setError);
    }).catch(setError);
  }

  // Local description was set, send it to peer
  function onLocalDescription(desc) {
    if (debug) {
      console.log("Got local description: " + JSON.stringify(desc));
    }
    peer_connection.setLocalDescription(desc).then(function() {
      setStatus("Sending SDP answer");
      let sdp = JSON.stringify({'sdp': peer_connection.localDescription});
      ws_conn.send(sdp);
    });
  }


  function resetAudio() {
    // Reset the audio element and stop showing the last received frame
    try {
      audio.pause();
    } catch (e) {
      console.log("resetAudio error " + e);
    }

  }

  this.close = function() {
    console.log("Closing WebRTC audio connection");
    disconnectWebsocket();
  };

  function disconnectWebsocket() {
    if (ws_conn) {
      console.log("disconnect websocket");
      ws_conn.close();
    }

    if (peer_connection) {
      console.log("disconnect peer");
      peer_connection.close();
      peer_connection = null;
    }
  }

  function createCall(msg) {
    // Reset connection attempts because we connected successfully
    connect_attempts = 0;

    console.log('Creating RTCPeerConnection');


    peer_connection = new RTCPeerConnection(getRtcPeerConfiguration());
    peer_connection.ontrack = onRemoteTrackAdded;

    /* Send our video/audio to the other peer */
    if (!msg.sdp) {
      console.log("WARNING: First message wasn't an SDP message!?");
    }

    peer_connection.onicecandidate = (event) => {
      // We have a candidate, send it to the remote party with the
      // same uuid
      if (event.candidate == null) {
        console.log("ICE Candidate was null, done");
        return;
      }
      console.log("send candidate remotely" + event.candidate.candidate);

      ws_conn.send(JSON.stringify({'ice': event.candidate}));
    };

    setStatus("Created peer connection for call, waiting for SDP");
  }

  function onRemoteTrackAdded(event) {
    audio.srcObject = event.streams[0];
  }

  function getRtcPeerConfiguration() {
    let iceServers = [];
    if (data["webrtc_turn_server"]) {
      let server = data["webrtc_turn_server"];
      let credentials = data["webrtc_turn_credentials"];

      iceServers.push({
        "urls": server,
        "credential": credentials["password"],
        "username": credentials["username"]
      });
    }
    if (data["webrtc_stun_server"]) {
      let server = data["webrtc_stun_server"];
      iceServers.push({"urls": server});
    }
    console.log("iceservers = %O", iceServers);


    return {"iceServers": iceServers};
  }

  return this;
}






/***/ }),

/***/ "./src/browser.js":
/*!************************!*\
  !*** ./src/browser.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CBrowser; });
/* harmony import */ var unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! unfetch/polyfill/index */ "./node_modules/unfetch/polyfill/index.js");
/* harmony import */ var unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _novnc_novnc_core_rfb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @novnc/novnc/core/rfb */ "./node_modules/@novnc/novnc/core/rfb.js");
/* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
/* harmony import */ var _audio_mediasource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./audio-mediasource */ "./src/audio-mediasource.js");
/* harmony import */ var _audio_webrtc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./audio-webrtc */ "./src/audio-webrtc.js");







function toQueryString(obj) {
  var parts = [];
  for (var i in obj) {
    if (obj.hasOwnProperty(i)) {
      parts.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]));
    }
  }
  return parts.join('&');
}


function CBrowser(reqid, target_div, init_params) {
  var controller = typeof AbortController !== 'undefined' ? new AbortController() : null;

  var cmd_port = undefined;
  var vnc_port = undefined;

  var clipEvents = ['paste'];
  var connected = false;
  var countdownTimer = null;
  var visibilityHandle = null;
  var ever_connected = false;
  var fail_count = 0;
  var hasClipboard = false;
  var lastText = undefined;
  var maxRetry = 10;
  var retryCount = 0;
  var retryHandle = null;
  var stagedText = null;
  var timers = []

  var min_width = 300;
  var min_height = 300;

  var rfb;
  var resizeTimeout;
  var vnc_pass = "secret";

  var end_time = undefined;

  var targetDivNode = document.querySelector(target_div);

  var waiting_for_container = false;
  var waiting_for_vnc = false;

  init_params = init_params || {};

  init_params.api_prefix = init_params.api_prefix || "";

  var num_vnc_retries = init_params.num_vnc_retries || 3;

  var req_params = {};

  // rfb event callbacks
  var credentialsRequired;
  var connect;
  var disconnect;
  var securityFailure;
  var clipboard
  var rfbEventsBound = false;


  function start() {
    // Countdown updater
    if (init_params.on_countdown) {
      countdownTimer = setInterval(update_countdown, 1000);
    }

    init_html(target_div);

    setup_browser();
  }

  function clipHandler(e) {
    if (!hasClipboard) {
      return false;
    }

    var text;
    if (window.clipboardData && window.clipboardData.getData) { // ie
      text = window.clipboardData.getData('Text');
    } else if (e.clipboardData && e.clipboardData.getData) {
      text = e.clipboardData.getData('text/plain');
    }

    if (connected && rfb && text) {
      rfb.clipboardPasteFrom(text);

      // attempt sending paste command
      rfb.sendKey(0xffe3, null, true);
      rfb.sendKey(0x0076, null, true);
      rfb.sendKey(0x0076, null, false);
      rfb.sendKey(0xffe3, null, false);
    }
  }

  function init_clipboard() {
    if (!init_params.clipboard) {
      return;
    }

    hasClipboard = true;
    lastText = undefined;

    // if remote browser cut/copy opperation occured, insert into clipboard field
    if (stagedText) {
        document.querySelector(init_params.clipboard).value = stagedText;
        stagedText = null;
    }

    for (var i = 0; i < clipEvents.length; i++) {
      document.querySelector(init_params.clipboard).addEventListener(clipEvents[i], clipHandler);
    }
  }

  function destroy_clipboard() {
    if (!init_params.clipboard) {
      return;
    }

    hasClipboard = false;
  }

  function canvas() {
    return targetDivNode.querySelector('.canvas');
  }

  function msgdiv() {
    return targetDivNode.querySelector('#browserMsg');
  }

  function screen() {
    return targetDivNode.querySelector('#noVNC_screen');
  }

  function init_html() {
    // ensure container is emptied of previous browsers
    targetDivNode.innerHTML = '';

    var msgDiv = document.createElement('div');
    msgDiv.setAttribute('id', 'browserMsg');
    msgDiv.setAttribute('class', 'loading');
    targetDivNode.appendChild(msgDiv);

    var canvasEle = document.createElement('div');
    canvasEle.setAttribute('class', 'canvas');
    var canvasDiv = document.createElement('div');
    canvasDiv.setAttribute('id', 'noVNC_screen');
    canvasDiv.appendChild(canvasEle);
    targetDivNode.appendChild(canvasDiv);

    canvasEle.style.display = 'none';
  }

  function setup_browser() {
    if (waiting_for_vnc || waiting_for_container) {
      return;
    }

    var msg;

    if (ever_connected) {
      msg = "Reconnecting to Remote Browser...";
    } else {
      msg = "Initializing Remote Browser...";
    }

    msgdiv().innerHTML = msg;
    msgdiv().style.display = 'block';

    // calculate dimensions
    const bcr = targetDivNode.getBoundingClientRect();
    let w = bcr.width;
    let h = bcr.height;

    if (!init_params.fill_window) {
      w *= 0.96;
      h -= 25;
    }

    if (w < h) {
      // flip mins for vertical layout
      var t = min_width;
      min_width = min_height;
      min_height = t;
    }

    req_params['width'] = Math.max(w, min_width);
    req_params['height'] = Math.max(h, min_height);
    req_params['width'] = parseInt(req_params['width'] / 8) * 8;
    req_params['height'] = parseInt(req_params['height'] / 8) * 8;

    req_params['reqid'] = reqid;

    req_params["audio"] = Object(_audio_mediasource__WEBPACK_IMPORTED_MODULE_3__["getBestAudioType"])();

    if (!req_params["audio"]) {
      console.log("No Supported Audio Types");
    }

    init_browser();
  }

  function init_browser() {
    if (waiting_for_container) {
      return;
    }

    waiting_for_container = true;

    var init_url = init_params.api_prefix + "/init_browser?" + toQueryString(req_params);

    var options = { headers: new Headers(init_params.headers || {}) };

    if (controller) {
      options.signal = controller.signal;
    }

    // expects json response
    fetch(init_url, options)
      .then(function (res) {
        if (!res.ok) {
          throw new Error(res.status);
        }

        return res.json();
      })
      .then(function (data) {
        waiting_for_container = false;
        handle_browser_response(data);
      })
      .catch(function (err) {
        console.log('fetch error', err);
        waiting_for_container = false;

        // user canceled
        if (err.message === 'AbortError') {
          return;
        }

        if (!err || err.message != 404) {
          msgdiv().innerHTML = 'Reconnecting to Remote Browser...';
          msgdiv().style.display = 'block';

          if(retryCount++ < maxRetry) {
            timers.push(setTimeout(init_browser, 1000));
          }

          return;
        }

        if (init_params.on_event) {
          init_params.on_event('expire');
        } else {
          msgdiv().innerHTML = 'Remote Browser Expired... Please try again...';
          msgdiv().style.display = 'block';
        }
      });
  }

  function handle_browser_response(data) {
    var qid = data.id;

    if (data.cmd_port && data.vnc_port) {
      cmd_port = data.cmd_port;
      vnc_port = data.vnc_port;

      end_time = parseInt(Date.now() / 1000, 10) + data.ttl;

      vnc_pass = data.vnc_pass;

      if (init_params.audio) {
        // setup_browser can be called many times (specially when noVnc thrown an exception), we stop sound before init again
        if (window.audioPlugin && window.audioPlugin.hasOwnProperty("close")) {
          try {
            window.audioPlugin.close();
            window.audioPlugin = undefined;
          } catch (err){
            console.log("Fail during window.audio.close()");
          }
        }
        if (data.audio) {
          // for now, check if webrtc set in init params
          if (init_params.webrtc) {
            console.log("webRTC: init plugin");
            var webrtc_data = {};
            webrtc_data.webrtc_stun_server = "stun:stun.l.google.com:19302";
            webrtc_data.cmd_port = cmd_port;
            webrtc_data.proxy_ws = init_params.proxy_ws;

            window.audioPlugin = new _audio_webrtc__WEBPACK_IMPORTED_MODULE_4__["WebRTCAudio"]("1", webrtc_data)
          } else {
            console.log("WSAudio: init plugin");
            window.audioPlugin = new _audio_mediasource__WEBPACK_IMPORTED_MODULE_3__["WSAudio"](data, init_params);
          }

          if (init_params.audio == "wait_for_click") {
            // activate audio on first click
            document.body.addEventListener('click', function () {
              window.audioPlugin.start();
            }, { once: true });
          } else {
            // start right away -- may be muted on latest Chrome until click
            window.audioPlugin.start();
          }
        }
      }

      if (init_params.on_event) {
        init_params.on_event("init", data);
      }

      timers.push(window.setTimeout(try_init_vnc, 3000));

    } else if (data.queue != undefined) {
      var msg = "Waiting for empty slot... ";
      if (data.queue == 0) {
        msg += "<b>You are next!</b>";
      } else {
        msg += "At most <b>" + data.queue + " user(s)</b> ahead of you";
      }
      msgdiv().innerHTML = msg;

      timers.push(window.setTimeout(init_browser, 3000));
    }
  }

  function try_init_vnc() {
    do_vnc()
      .then(function () { waiting_for_vnc = false; })
      .catch(function(err) {
        console.log('failed', err);

        waiting_for_vnc = false;
        fail_count++;

        if (fail_count <= num_vnc_retries) {
          msgdiv().innerHTML = "Retrying to connect to remote browser...";
          timers.push(setTimeout(init_browser, 500));
        } else {
          if (init_params.on_event) {
            init_params.on_event("fail");
          } else {
            msgdiv().innerHTML = "Failed to connect to remote browser... Please try again later";
          }
        }
      })
  }

  function clientPosition() {
    const bcr = targetDivNode.getBoundingClientRect();
    var c = canvas();
    var ch = c.getBoundingClientRect().height;
    var cw = c.getBoundingClientRect().width;
    if (!init_params.fill_window) {
      c.style.marginLeft = ((bcr.width - cw)/2) + 'px';
      c.style.marginTop = ((bcr.height - (ch + 25))/2) + 'px';
    }
  }

  function clientResize() {
    const bcr = targetDivNode.getBoundingClientRect();

    let w = bcr.width;
    let h = bcr.height;

    if (!init_params.fill_window) {
      w = Math.round(w * 0.96);
      h = h - 25;
    }

    if (rfb) {
      var s = rfb._display.autoscale(w, h);
    }
  }

  function onVNCCopyCut(rfb, text) {
    if (init_params.clipboard && hasClipboard) {
      // document.querySelector(init_params.clipboard).innerHTML = (text);
    } else if(init_params.clipboard) {
      stagedText = text;
    }
  }

  function do_vnc() {
    if (waiting_for_vnc) {
      return;
    }

    waiting_for_vnc = true;

    var host = window.location.hostname;
    var port = vnc_port;
    var path = "websockify";
    var protocol = "ws";

    if (window.location.protocol === "https:") {
      protocol = "wss";
    }

    // Proxy WS via the origin host, instead of making direct conn
    // 'proxy_ws' specifies the proxy path, port is appended
    if (init_params.proxy_ws) {
      path = init_params.proxy_ws + port;
      port = window.location.port;
      if (!port) {
        port = (window.location.protocol == "https:" ? 443 : 80);
      }
    }

    var target = canvas();
    var webservice_url = protocol + '://' + host + ':' + port + '/' + path;

    console.log("Connecting to " + webservice_url);

    var promise = new promise_polyfill__WEBPACK_IMPORTED_MODULE_2__["default"](function (resolve, reject) {
      rfb = new _novnc_novnc_core_rfb__WEBPACK_IMPORTED_MODULE_1__["default"](target, webservice_url, {'credentials': {'password': vnc_pass}});
      window.rfb = rfb;

      //if (!rfbEventsBound) {
      credentialsRequired = function () {
        reject("credentialsrequired");
      }

      connect = function () {
        canvas().style.display = 'block';

        if (init_params.fill_window) {
          canvas().focus();
        }

        msgdiv().style.display = 'none';

        ever_connected = true;
        connected = true;
        fail_count = 0;

        if (init_params.on_event) {
          init_params.on_event("connect");
        }
        rfb.resizeSession = true;
        rfb.scaleViewport = true;

        resolve("connected");
      }

      disconnect = function () {
        connected = false;

        canvas().style.display = 'none';

        var reinit = !document.hidden;

        if (init_params.on_event) {
          init_params.on_event("disconnect");
        }

        if (reinit) {
          setup_browser();
        }
        reject("disconnected");
      }

      securityFailure = function () {
        reject("securityFailure");
      }

      clipboard = function (event) {
        onVNCCopyCut(rfb, event.detail.text);
      }

      rfb.addEventListener("credentialsrequired", credentialsRequired);
      rfb.addEventListener("connect", connect);
      rfb.addEventListener("disconnect", disconnect);
      rfb.addEventListener("securityfailure", securityFailure);
      rfb.addEventListener("clipboard", clipboard);
      //   rfbEventsBound = true;
      // }
    });

    return promise;
  }


  window.onresize = function () {
    // When the window has been resized, wait until the size remains
    // the same for 0.5 seconds before sending the request for changing
    // the resolution of the session
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(function(){
      clientResize();
      //clientPosition();
    }, 500);
  };

  function visibilityChangeCB() {
    if (document.hidden) {
      visibilityHandle = setTimeout(function() {
        if (rfb) {
          rfb.disconnect();
        }
      },
      init_params.inactiveSecs * 1000);
    } else {
      clearTimeout(visibilityHandle);
      if (!connected) {
        if (init_params.on_event) {
          init_params.on_event("reconnect");
        }

        setup_browser();
      }
    }
  }

  function update_countdown() {
    if (!end_time) {
      return;
    }
    var curr = Math.floor(new Date().getTime() / 1000);
    var secdiff = end_time - curr;

    if (secdiff < 0) {
      init_params.on_countdown(0, "00:00");
      return;
    }

    var min = Math.floor(secdiff / 60);
    var sec = secdiff % 60;
    if (sec <= 9) {
      sec = "0" + sec;
    }
    if (min <= 9) {
      min = "0" + min;
    }

    init_params.on_countdown(secdiff, min + ":" + sec);
  }

  if (init_params.inactiveSecs) {
    document.addEventListener("visibilitychange", visibilityChangeCB);
  }

  function clearTimers() {
    // clear intervals and timers
    clearInterval(countdownTimer);
    clearTimeout(visibilityHandle);
    for (var i = 0; i < timers.length; i++) {
      clearTimeout(timers[i]);
    }
    timers = [];
  }

  function close() {
    if (controller) {
      // cancel fetch requests
      controller.abort();
    }

    // stop audio plugin
    if (init_params.audio) {
      try {
        window.audioPlugin.close();
        window.audioPlugin = undefined;
      } catch (err){}
    }

    if (rfb) {
      rfb.removeEventListener("credentialsrequired", credentialsRequired);
      rfb.removeEventListener("connect", connect);
      rfb.removeEventListener("disconnect", disconnect);
      rfb.removeEventListener("securityfailure", securityFailure);
      rfb.removeEventListener("clipboard", clipboard);
      rfb.disconnect();
    }

    var cnvs = canvas();
    var _screen = screen();

    clearTimers();

    document.removeEventListener("visibilitychange", visibilityChangeCB);
  }

  start();

  return {
    "close": close,
    "destroy_clipboard": destroy_clipboard,
    "init_clipboard": init_clipboard
   }
}





/***/ })

/******/ })));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2Jhc2U2NC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9kaXNwbGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9lbmNvZGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2luZmxhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC9kb21rZXl0YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQvZml4ZWRrZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC9rZXlib2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQva2V5c3ltLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC9rZXlzeW1kZWYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2lucHV0L21vdXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC92a2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQveHRzY2FuY29kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL3JmYi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvdXRpbC9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS91dGlsL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvdXRpbC9ldmVudHRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvdXRpbC9sb2dnaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS91dGlsL3BvbHlmaWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS91dGlsL3N0cmluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL3dlYnNvY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy92ZW5kb3IvcGFrby9saWIvdXRpbHMvY29tbW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvdmVuZG9yL3Bha28vbGliL3psaWIvYWRsZXIzMi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL3ZlbmRvci9wYWtvL2xpYi96bGliL2NyYzMyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvdmVuZG9yL3Bha28vbGliL3psaWIvaW5mZmFzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL3ZlbmRvci9wYWtvL2xpYi96bGliL2luZmxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy92ZW5kb3IvcGFrby9saWIvemxpYi9pbmZ0cmVlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL3ZlbmRvci9wYWtvL2xpYi96bGliL3pzdHJlYW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvZmluYWxseS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZmV0Y2gvcG9seWZpbGwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW8tbWVkaWFzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2F1ZGlvLXdlYnJ0Yy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrREFBMEMsZ0NBQWdDO0FBQzFFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0VBQXdELGtCQUFrQjtBQUMxRTtBQUNBLHlEQUFpRCxjQUFjO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFTOztBQUVqQjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSxzREFBUztBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxzQ0FBc0MsV0FBVyxrREFBTTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLHdCQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLFVBQVU7QUFDakMsMkJBQTJCLFVBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsd0JBQXdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx3QkFBd0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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ZUFBZSxrREFBUSxXQUFXLGtEQUFRO0FBQzFDLGVBQWUsa0RBQVEsWUFBWSxrREFBUTtBQUMzQyxlQUFlLGtEQUFRLFdBQVcsa0RBQVE7QUFDMUMsZUFBZSxrREFBUSxPQUFPLGtEQUFRO0FBQ3RDLGVBQWUsa0RBQVEsT0FBTyxrREFBUTtBQUN0QyxlQUFlLGtEQUFRLE9BQU8sa0RBQVE7QUFDdEMsZUFBZSxrREFBUSxPQUFPLGtEQUFRO0FBQ3RDLGVBQWUsa0RBQVEsT0FBTyxrREFBUTtBQUN0QyxlQUFlLGtEQUFRLE9BQU8sa0RBQVE7QUFDdEMsZUFBZSxrREFBUSxPQUFPLGtEQUFRO0FBQ3RDLGVBQWUsa0RBQVEsT0FBTyxrREFBUTtBQUN0QyxlQUFlLGtEQUFRLE9BQU8sa0RBQVE7QUFDdEMsZUFBZSxrREFBUSxPQUFPLGtEQUFROztBQUV2QiwwRUFBVyxFQUFDOzs7Ozs7Ozs7Ozs7O0FDclQzQjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlOztBQUVmOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QSxRQUFRLHNEQUFTO0FBQ2pCLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7Ozs7Ozs7Ozs7OztBQ3pUQTtBQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQzs7Ozs7Ozs7Ozs7OztBQ3JtQkY7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7QUMvcUJGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTBDO0FBQ1M7QUFDd0I7O0FBRTNFLG9CQUFvQjtBQUNwQiw0QkFBNEI7QUFDNUI7O0FBRWU7QUFDZjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGlDQUFpQztBQUNqQywrQkFBK0I7O0FBRS9COztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7O0FBRUEsUUFBUSxzREFBUztBQUNqQjtBQUNBOztBQUVBLFFBQVEsaUVBQVM7QUFDakIsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFVO0FBQ3RCOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLGlFQUFTO0FBQ2pCLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBUztBQUNqQixLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlFQUFTO0FBQ3JCO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsWUFBWSx1RUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsS0FBSzs7QUFFTDs7QUFFQTtBQUNBOztBQUVBLFlBQVksOERBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQSxZQUFZLDhEQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDdlJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQW1DO0FBQ0U7QUFDTjtBQUNRO0FBQ0k7QUFDRzs7QUFFOUM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscURBQXFELGlEQUFLO0FBQzFELG1CQUFtQixpREFBSzs7QUFFeEI7QUFDQSxZQUFZLHNEQUFhO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdDQUF3QyxxREFBWSxPQUFPLHVEQUFjO0FBQ3pFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFTO0FBQ3pCLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ087QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLHVEQUFXO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLHVEQUFXO0FBQzFCOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLHFEQUFPO0FBQ3RCOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUN0S0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7QUNuSEY7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDOzs7Ozs7Ozs7Ozs7O0FDMUtGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV5QztBQUNNO0FBQ3VCO0FBQ2pCO0FBQ2xCO0FBQ1E7QUFDTjtBQUNGO0FBQ1I7QUFDYztBQUNPO0FBQ1g7QUFDb0I7QUFDN0I7O0FBRTVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFZTtB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QSx1QkFBdUI7QUFDdkI7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQix3QkFBd0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxFQUFFOztBQUUxQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBLHFCQUFxQixZQUFZO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLHFDQUFxQyx1QkFBdUI7QUFDNUQ7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3VEE7QUFBQTtBQUFxQjs7O0FBR3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0NBQXdDO0FBQ3hFO0FBQ0EsS0FBSztBQUNMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQyx1QkFBdUI7QUFDMUQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZUFBZTtBQUN0QztBQUNBOzs7QUFHQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvUEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFnQztBQUNRO0FBQ0Q7QUFDeUI7QUFDcEI7OztBQUc1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdlO0FBQ2Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsMEJBQTBCLDJFQUFnQjs7QUFFMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsbUJBQW1CLCtDQUErQzs7QUFFbEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUMseURBQVc7QUFDaEQsV0FBVztBQUNYO0FBQ0EscUNBQXFDLDBEQUFPO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHLGFBQWE7QUFDN0IsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUJBQXlCLHlCQUF5QixFQUFFO0FBQ3BEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLHNCQUFzQix3REFBTztBQUM3QixnQkFBZ0IsNkRBQUcsMEJBQTBCLGdCQUFnQixzQkFBc0I7QUFDbkY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoic2hlcGhlcmQtY2xpZW50LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vaW5kZXguanNcIik7XG4iLCJpbXBvcnQgQ0Jyb3dzZXIgZnJvbSAnLi9zcmMvYnJvd3NlcidcblxuZXhwb3J0IGZ1bmN0aW9uIEluaXRCcm93c2VyRGVmYXVsdChyZXFpZCwgb3B0cykge1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImNvbXBsZXRlXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAgIC8vIGlmIGluIGlmcmFtZSwgbm90aWZ5IHBhcmVudCBvZiByZXFpZFxuICAgIGlmICh3aW5kb3cgIT0gd2luZG93LnBhcmVudCAmJiAhb3B0cy5ub05vdGlmeVBhcmVudCkge1xuICAgICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSh7XCJ0eXBlXCI6IFwicmVxaWRcIiwgXCJyZXFpZFwiOiByZXFpZH0sIFwiKlwiKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdHMub25fY291bnRkb3duKSB7XG4gICAgICBvcHRzLm9uX2NvdW50ZG93biA9IGZ1bmN0aW9uKHNlY29uZHMsIGNvdW50ZG93bl90ZXh0KSB7XG4gICAgICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb3VudGRvd25cIik7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgdGV4dC5pbm5lclRleHQgPSBjb3VudGRvd25fdGV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghb3B0cy5vbl9ldmVudCkge1xuICAgICAgb3B0cy5vbl9ldmVudCA9IGZ1bmN0aW9uKHR5cGUsIGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJmYWlsXCIgfHwgdHlwZSA9PSBcImV4cGlyZVwiKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucHJveHlfd3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCF3aW5kb3cubG9jYXRpb24ucG9ydCkge1xuICAgICAgICBvcHRzLnByb3h5X3dzID0gXCJfd2Vic29ja2lmeT9wb3J0PVwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRzLmF1ZGlvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdHMuYXVkaW8gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmZpbGxfd2luZG93ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdHMuZmlsbF93aW5kb3cgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmluYWN0aXZlU2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvcHRzLmluYWN0aXZlU2VjcyA9IDEwO1xuICAgIH1cblxuICAgIHZhciBpZCA9IG9wdHMuaWQgfHwgXCIjYnJvd3NlclwiO1xuXG4gICAgcmV0dXJuIG5ldyBDQnJvd3NlcihyZXFpZCwgaWQsIG9wdHMpO1xuICB9KTtcbn1cblxuXG5cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8vIEZyb206IGh0dHA6Ly9oZy5tb3ppbGxhLm9yZy9tb3ppbGxhLWNlbnRyYWwvcmF3LWZpbGUvZWMxMDYzMGIxYTU0L2pzL3NyYy9kZXZ0b29scy9qaW50L3N1bnNwaWRlci9zdHJpbmctYmFzZTY0LmpzXG5cbmltcG9ydCAqIGFzIExvZyBmcm9tICcuL3V0aWwvbG9nZ2luZy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKiBDb252ZXJ0IGRhdGEgKGFuIGFycmF5IG9mIGludGVnZXJzKSB0byBhIEJhc2U2NCBzdHJpbmcuICovXG4gICAgdG9CYXNlNjRUYWJsZSA6ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPScuc3BsaXQoJycpLFxuICAgIGJhc2U2NFBhZCAgICAgOiAnPScsXG5cbiAgICBlbmNvZGU6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIHZhciB0b0Jhc2U2NFRhYmxlID0gdGhpcy50b0Jhc2U2NFRhYmxlO1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBsZW5ndGhwYWQgPSAobGVuZ3RoICUgMyk7XG4gICAgICAgIC8vIENvbnZlcnQgZXZlcnkgdGhyZWUgYnl0ZXMgdG8gNCBhc2NpaSBjaGFyYWN0ZXJzLlxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgKGxlbmd0aCAtIDIpOyBpICs9IDMpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlW2RhdGFbaV0gPj4gMl07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVsoKGRhdGFbaV0gJiAweDAzKSA8PCA0KSArIChkYXRhW2kgKyAxXSA+PiA0KV07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVsoKGRhdGFbaSArIDFdICYgMHgwZikgPDwgMikgKyAoZGF0YVtpICsgMl0gPj4gNildO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbZGF0YVtpICsgMl0gJiAweDNmXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIHJlbWFpbmluZyAxIG9yIDIgYnl0ZXMsIHBhZCBvdXQgdG8gNCBjaGFyYWN0ZXJzLlxuICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgIGlmIChsZW5ndGhwYWQgPT09IDIpIHtcbiAgICAgICAgICAgIGogPSBsZW5ndGggLSBsZW5ndGhwYWQ7XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVtkYXRhW2pdID4+IDJdO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbKChkYXRhW2pdICYgMHgwMykgPDwgNCkgKyAoZGF0YVtqICsgMV0gPj4gNCldO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbKGRhdGFbaiArIDFdICYgMHgwZikgPDwgMl07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVs2NF07XG4gICAgICAgIH0gZWxzZSBpZiAobGVuZ3RocGFkID09PSAxKSB7XG4gICAgICAgICAgICBqID0gbGVuZ3RoIC0gbGVuZ3RocGFkO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbZGF0YVtqXSA+PiAyXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlWyhkYXRhW2pdICYgMHgwMykgPDwgNF07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVs2NF07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVs2NF07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICAvKiBDb252ZXJ0IEJhc2U2NCBkYXRhIHRvIGEgc3RyaW5nICovXG4gICAgdG9CaW5hcnlUYWJsZSA6IFtcbiAgICAgICAgLTEsLTEsLTEsLTEsIC0xLC0xLC0xLC0xLCAtMSwtMSwtMSwtMSwgLTEsLTEsLTEsLTEsXG4gICAgICAgIC0xLC0xLC0xLC0xLCAtMSwtMSwtMSwtMSwgLTEsLTEsLTEsLTEsIC0xLC0xLC0xLC0xLFxuICAgICAgICAtMSwtMSwtMSwtMSwgLTEsLTEsLTEsLTEsIC0xLC0xLC0xLDYyLCAtMSwtMSwtMSw2MyxcbiAgICAgICAgNTIsNTMsNTQsNTUsIDU2LDU3LDU4LDU5LCA2MCw2MSwtMSwtMSwgLTEsIDAsLTEsLTEsXG4gICAgICAgIC0xLCAwLCAxLCAyLCAgMywgNCwgNSwgNiwgIDcsIDgsIDksMTAsIDExLDEyLDEzLDE0LFxuICAgICAgICAxNSwxNiwxNywxOCwgMTksMjAsMjEsMjIsIDIzLDI0LDI1LC0xLCAtMSwtMSwtMSwtMSxcbiAgICAgICAgLTEsMjYsMjcsMjgsIDI5LDMwLDMxLDMyLCAzMywzNCwzNSwzNiwgMzcsMzgsMzksNDAsXG4gICAgICAgIDQxLDQyLDQzLDQ0LCA0NSw0Niw0Nyw0OCwgNDksNTAsNTEsLTEsIC0xLC0xLC0xLC0xXG4gICAgXSxcblxuICAgIGRlY29kZTogZnVuY3Rpb24gKGRhdGEsIG9mZnNldCkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgb2Zmc2V0ID0gdHlwZW9mKG9mZnNldCkgIT09ICd1bmRlZmluZWQnID8gb2Zmc2V0IDogMDtcbiAgICAgICAgdmFyIHRvQmluYXJ5VGFibGUgPSB0aGlzLnRvQmluYXJ5VGFibGU7XG4gICAgICAgIHZhciBiYXNlNjRQYWQgPSB0aGlzLmJhc2U2NFBhZDtcbiAgICAgICAgdmFyIHJlc3VsdCwgcmVzdWx0X2xlbmd0aDtcbiAgICAgICAgdmFyIGxlZnRiaXRzID0gMDsgLy8gbnVtYmVyIG9mIGJpdHMgZGVjb2RlZCwgYnV0IHlldCB0byBiZSBhcHBlbmRlZFxuICAgICAgICB2YXIgbGVmdGRhdGEgPSAwOyAvLyBiaXRzIGRlY29kZWQsIGJ1dCB5ZXQgdG8gYmUgYXBwZW5kZWRcbiAgICAgICAgdmFyIGRhdGFfbGVuZ3RoID0gZGF0YS5pbmRleE9mKCc9JykgLSBvZmZzZXQ7XG5cbiAgICAgICAgaWYgKGRhdGFfbGVuZ3RoIDwgMCkgeyBkYXRhX2xlbmd0aCA9IGRhdGEubGVuZ3RoIC0gb2Zmc2V0OyB9XG5cbiAgICAgICAgLyogRXZlcnkgZm91ciBjaGFyYWN0ZXJzIGlzIDMgcmVzdWx0aW5nIG51bWJlcnMgKi9cbiAgICAgICAgcmVzdWx0X2xlbmd0aCA9IChkYXRhX2xlbmd0aCA+PiAyKSAqIDMgKyBNYXRoLmZsb29yKChkYXRhX2xlbmd0aCAlIDQpIC8gMS41KTtcbiAgICAgICAgcmVzdWx0ID0gbmV3IEFycmF5KHJlc3VsdF9sZW5ndGgpO1xuXG4gICAgICAgIC8vIENvbnZlcnQgb25lIGJ5IG9uZS5cbiAgICAgICAgZm9yICh2YXIgaWR4ID0gMCwgaSA9IG9mZnNldDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjID0gdG9CaW5hcnlUYWJsZVtkYXRhLmNoYXJDb2RlQXQoaSkgJiAweDdmXTtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gKGRhdGEuY2hhckF0KGkpID09PSBiYXNlNjRQYWQpO1xuICAgICAgICAgICAgLy8gU2tpcCBpbGxlZ2FsIGNoYXJhY3RlcnMgYW5kIHdoaXRlc3BhY2VcbiAgICAgICAgICAgIGlmIChjID09PSAtMSkge1xuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIklsbGVnYWwgY2hhcmFjdGVyIGNvZGUgXCIgKyBkYXRhLmNoYXJDb2RlQXQoaSkgKyBcIiBhdCBwb3NpdGlvbiBcIiArIGkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDb2xsZWN0IGRhdGEgaW50byBsZWZ0ZGF0YSwgdXBkYXRlIGJpdGNvdW50XG4gICAgICAgICAgICBsZWZ0ZGF0YSA9IChsZWZ0ZGF0YSA8PCA2KSB8IGM7XG4gICAgICAgICAgICBsZWZ0Yml0cyArPSA2O1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIDggb3IgbW9yZSBiaXRzLCBhcHBlbmQgOCBiaXRzIHRvIHRoZSByZXN1bHRcbiAgICAgICAgICAgIGlmIChsZWZ0Yml0cyA+PSA4KSB7XG4gICAgICAgICAgICAgICAgbGVmdGJpdHMgLT0gODtcbiAgICAgICAgICAgICAgICAvLyBBcHBlbmQgaWYgbm90IHBhZGRpbmcuXG4gICAgICAgICAgICAgICAgaWYgKCFwYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpZHgrK10gPSAobGVmdGRhdGEgPj4gbGVmdGJpdHMpICYgMHhmZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGVmdGRhdGEgJj0gKDEgPDwgbGVmdGJpdHMpIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBhbnkgYml0cyBsZWZ0LCB0aGUgYmFzZTY0IHN0cmluZyB3YXMgY29ycnVwdGVkXG4gICAgICAgIGlmIChsZWZ0Yml0cykge1xuICAgICAgICAgICAgZXJyID0gbmV3IEVycm9yKCdDb3JydXB0ZWQgYmFzZTY0IHN0cmluZycpO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnQmFzZTY0LUVycm9yJztcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufTsgLyogRW5kIG9mIEJhc2U2NCBuYW1lc3BhY2UgKi9cbiIsIi8qXG4gKiBQb3J0ZWQgZnJvbSBGbGFzaGxpZ2h0IFZOQyBBY3Rpb25TY3JpcHQgaW1wbGVtZW50YXRpb246XG4gKiAgICAgaHR0cDovL3d3dy53aXpoZWxwLmNvbS9mbGFzaGxpZ2h0LXZuYy9cbiAqXG4gKiBGdWxsIGF0dHJpYnV0aW9uIGZvbGxvd3M6XG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIFRoaXMgREVTIGNsYXNzIGhhcyBiZWVuIGV4dHJhY3RlZCBmcm9tIHBhY2thZ2UgQWNtZS5DcnlwdG8gZm9yIHVzZSBpbiBWTkMuXG4gKiBUaGUgdW5uZWNlc3Nhcnkgb2RkIHBhcml0eSBjb2RlIGhhcyBiZWVuIHJlbW92ZWQuXG4gKlxuICogVGhlc2UgY2hhbmdlcyBhcmU6XG4gKiAgQ29weXJpZ2h0IChDKSAxOTk5IEFUJlQgTGFib3JhdG9yaWVzIENhbWJyaWRnZS4gIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS5cbiAqXG5cbiAqIERlc0NpcGhlciAtIHRoZSBERVMgZW5jcnlwdGlvbiBtZXRob2RcbiAqXG4gKiBUaGUgbWVhdCBvZiB0aGlzIGNvZGUgaXMgYnkgRGF2ZSBaaW1tZXJtYW4gPGR6aW1tQHdpZGdldC5jb20+LCBhbmQgaXM6XG4gKlxuICogQ29weXJpZ2h0IChjKSAxOTk2IFdpZGdldCBXb3Jrc2hvcCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZCBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmVcbiAqIGFuZCBpdHMgZG9jdW1lbnRhdGlvbiBmb3IgTk9OLUNPTU1FUkNJQUwgb3IgQ09NTUVSQ0lBTCBwdXJwb3NlcyBhbmRcbiAqIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLCBwcm92aWRlZCB0aGF0IHRoaXMgY29weXJpZ2h0IG5vdGljZSBpcyBrZXB0XG4gKiBpbnRhY3QuXG4gKlxuICogV0lER0VUIFdPUktTSE9QIE1BS0VTIE5PIFJFUFJFU0VOVEFUSU9OUyBPUiBXQVJSQU5USUVTIEFCT1VUIFRIRSBTVUlUQUJJTElUWVxuICogT0YgVEhFIFNPRlRXQVJFLCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTyBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQVxuICogUEFSVElDVUxBUiBQVVJQT1NFLCBPUiBOT04tSU5GUklOR0VNRU5ULiBXSURHRVQgV09SS1NIT1AgU0hBTEwgTk9UIEJFIExJQUJMRVxuICogRk9SIEFOWSBEQU1BR0VTIFNVRkZFUkVEIEJZIExJQ0VOU0VFIEFTIEEgUkVTVUxUIE9GIFVTSU5HLCBNT0RJRllJTkcgT1JcbiAqIERJU1RSSUJVVElORyBUSElTIFNPRlRXQVJFIE9SIElUUyBERVJJVkFUSVZFUy5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIE5PVCBERVNJR05FRCBPUiBJTlRFTkRFRCBGT1IgVVNFIE9SIFJFU0FMRSBBUyBPTi1MSU5FXG4gKiBDT05UUk9MIEVRVUlQTUVOVCBJTiBIQVpBUkRPVVMgRU5WSVJPTk1FTlRTIFJFUVVJUklORyBGQUlMLVNBRkVcbiAqIFBFUkZPUk1BTkNFLCBTVUNIIEFTIElOIFRIRSBPUEVSQVRJT04gT0YgTlVDTEVBUiBGQUNJTElUSUVTLCBBSVJDUkFGVFxuICogTkFWSUdBVElPTiBPUiBDT01NVU5JQ0FUSU9OIFNZU1RFTVMsIEFJUiBUUkFGRklDIENPTlRST0wsIERJUkVDVCBMSUZFXG4gKiBTVVBQT1JUIE1BQ0hJTkVTLCBPUiBXRUFQT05TIFNZU1RFTVMsIElOIFdISUNIIFRIRSBGQUlMVVJFIE9GIFRIRVxuICogU09GVFdBUkUgQ09VTEQgTEVBRCBESVJFQ1RMWSBUTyBERUFUSCwgUEVSU09OQUwgSU5KVVJZLCBPUiBTRVZFUkVcbiAqIFBIWVNJQ0FMIE9SIEVOVklST05NRU5UQUwgREFNQUdFIChcIkhJR0ggUklTSyBBQ1RJVklUSUVTXCIpLiAgV0lER0VUIFdPUktTSE9QXG4gKiBTUEVDSUZJQ0FMTFkgRElTQ0xBSU1TIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVFkgT0YgRklUTkVTUyBGT1JcbiAqIEhJR0ggUklTSyBBQ1RJVklUSUVTLlxuICpcbiAqXG4gKiBUaGUgcmVzdCBpczpcbiAqXG4gKiBDb3B5cmlnaHQgKEMpIDE5OTYgYnkgSmVmIFBvc2thbnplciA8amVmQGFjbWUuY29tPi4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnNcbiAqIGFyZSBtZXQ6XG4gKiAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQVVUSE9SIEFORCBDT05UUklCVVRPUlMgYGBBUyBJUycnIEFORFxuICogQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuICogQVJFIERJU0NMQUlNRUQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEVcbiAqIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMXG4gKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EU1xuICogT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pXG4gKiBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVFxuICogTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWVxuICogT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRlxuICogU1VDSCBEQU1BR0UuXG4gKlxuICogVmlzaXQgdGhlIEFDTUUgTGFicyBKYXZhIHBhZ2UgZm9yIHVwLXRvLWRhdGUgdmVyc2lvbnMgb2YgdGhpcyBhbmQgb3RoZXJcbiAqIGZpbmUgSmF2YSB1dGlsaXRpZXM6IGh0dHA6Ly93d3cuYWNtZS5jb20vamF2YS9cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBERVMocGFzc3dkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICAvLyBUYWJsZXMsIHBlcm11dGF0aW9ucywgUy1ib3hlcywgZXRjLlxuICAgIHZhciBQQzIgPSBbMTMsMTYsMTAsMjMsIDAsIDQsIDIsMjcsMTQsIDUsMjAsIDksMjIsMTgsMTEsIDMsXG4gICAgICAgICAgICAgICAyNSwgNywxNSwgNiwyNiwxOSwxMiwgMSw0MCw1MSwzMCwzNiw0Niw1NCwyOSwzOSxcbiAgICAgICAgICAgICAgIDUwLDQ0LDMyLDQ3LDQzLDQ4LDM4LDU1LDMzLDUyLDQ1LDQxLDQ5LDM1LDI4LDMxIF0sXG4gICAgICAgIHRvdHJvdCA9IFsgMSwgMiwgNCwgNiwgOCwxMCwxMiwxNCwxNSwxNywxOSwyMSwyMywyNSwyNywyOF0sXG4gICAgICAgIHogPSAweDAsIGEsYixjLGQsZSxmLCBTUDEsU1AyLFNQMyxTUDQsU1A1LFNQNixTUDcsU1A4LFxuICAgICAgICBrZXlzID0gW107XG5cbiAgICBhPTE8PDE2OyBiPTE8PDI0OyBjPWF8YjsgZD0xPDwyOyBlPTE8PDEwOyBmPWR8ZTtcbiAgICBTUDEgPSBbY3xlLHp8eixhfHosY3xmLGN8ZCxhfGYsenxkLGF8eix6fGUsY3xlLGN8Zix6fGUsYnxmLGN8ZCxifHosenxkLFxuICAgICAgICAgICB6fGYsYnxlLGJ8ZSxhfGUsYXxlLGN8eixjfHosYnxmLGF8ZCxifGQsYnxkLGF8ZCx6fHosenxmLGF8ZixifHosXG4gICAgICAgICAgIGF8eixjfGYsenxkLGN8eixjfGUsYnx6LGJ8eix6fGUsY3xkLGF8eixhfGUsYnxkLHp8ZSx6fGQsYnxmLGF8ZixcbiAgICAgICAgICAgY3xmLGF8ZCxjfHosYnxmLGJ8ZCx6fGYsYXxmLGN8ZSx6fGYsYnxlLGJ8ZSx6fHosYXxkLGF8ZSx6fHosY3xkXTtcbiAgICBhPTE8PDIwOyBiPTE8PDMxOyBjPWF8YjsgZD0xPDw1OyBlPTE8PDE1OyBmPWR8ZTtcbiAgICBTUDIgPSBbY3xmLGJ8ZSx6fGUsYXxmLGF8eix6fGQsY3xkLGJ8ZixifGQsY3xmLGN8ZSxifHosYnxlLGF8eix6fGQsY3xkLFxuICAgICAgICAgICBhfGUsYXxkLGJ8Zix6fHosYnx6LHp8ZSxhfGYsY3x6LGF8ZCxifGQsenx6LGF8ZSx6fGYsY3xlLGN8eix6fGYsXG4gICAgICAgICAgIHp8eixhfGYsY3xkLGF8eixifGYsY3x6LGN8ZSx6fGUsY3x6LGJ8ZSx6fGQsY3xmLGF8Zix6fGQsenxlLGJ8eixcbiAgICAgICAgICAgenxmLGN8ZSxhfHosYnxkLGF8ZCxifGYsYnxkLGF8ZCxhfGUsenx6LGJ8ZSx6fGYsYnx6LGN8ZCxjfGYsYXxlXTtcbiAgICBhPTE8PDE3OyBiPTE8PDI3OyBjPWF8YjsgZD0xPDwzOyBlPTE8PDk7IGY9ZHxlO1xuICAgIFNQMyA9IFt6fGYsY3xlLHp8eixjfGQsYnxlLHp8eixhfGYsYnxlLGF8ZCxifGQsYnxkLGF8eixjfGYsYXxkLGN8eix6fGYsXG4gICAgICAgICAgIGJ8eix6fGQsY3xlLHp8ZSxhfGUsY3x6LGN8ZCxhfGYsYnxmLGF8ZSxhfHosYnxmLHp8ZCxjfGYsenxlLGJ8eixcbiAgICAgICAgICAgY3xlLGJ8eixhfGQsenxmLGF8eixjfGUsYnxlLHp8eix6fGUsYXxkLGN8ZixifGUsYnxkLHp8ZSx6fHosY3xkLFxuICAgICAgICAgICBifGYsYXx6LGJ8eixjfGYsenxkLGF8ZixhfGUsYnxkLGN8eixifGYsenxmLGN8eixhfGYsenxkLGN8ZCxhfGVdO1xuICAgIGE9MTw8MTM7IGI9MTw8MjM7IGM9YXxiOyBkPTE8PDA7IGU9MTw8NzsgZj1kfGU7XG4gICAgU1A0ID0gW2N8ZCxhfGYsYXxmLHp8ZSxjfGUsYnxmLGJ8ZCxhfGQsenx6LGN8eixjfHosY3xmLHp8Zix6fHosYnxlLGJ8ZCxcbiAgICAgICAgICAgenxkLGF8eixifHosY3xkLHp8ZSxifHosYXxkLGF8ZSxifGYsenxkLGF8ZSxifGUsYXx6LGN8ZSxjfGYsenxmLFxuICAgICAgICAgICBifGUsYnxkLGN8eixjfGYsenxmLHp8eix6fHosY3x6LGF8ZSxifGUsYnxmLHp8ZCxjfGQsYXxmLGF8Zix6fGUsXG4gICAgICAgICAgIGN8Zix6fGYsenxkLGF8eixifGQsYXxkLGN8ZSxifGYsYXxkLGF8ZSxifHosY3xkLHp8ZSxifHosYXx6LGN8ZV07XG4gICAgYT0xPDwyNTsgYj0xPDwzMDsgYz1hfGI7IGQ9MTw8ODsgZT0xPDwxOTsgZj1kfGU7XG4gICAgU1A1ID0gW3p8ZCxhfGYsYXxlLGN8ZCx6fGUsenxkLGJ8eixhfGUsYnxmLHp8ZSxhfGQsYnxmLGN8ZCxjfGUsenxmLGJ8eixcbiAgICAgICAgICAgYXx6LGJ8ZSxifGUsenx6LGJ8ZCxjfGYsY3xmLGF8ZCxjfGUsYnxkLHp8eixjfHosYXxmLGF8eixjfHosenxmLFxuICAgICAgICAgICB6fGUsY3xkLHp8ZCxhfHosYnx6LGF8ZSxjfGQsYnxmLGF8ZCxifHosY3xlLGF8ZixifGYsenxkLGF8eixjfGUsXG4gICAgICAgICAgIGN8Zix6fGYsY3x6LGN8ZixhfGUsenx6LGJ8ZSxjfHosenxmLGF8ZCxifGQsenxlLHp8eixifGUsYXxmLGJ8ZF07XG4gICAgYT0xPDwyMjsgYj0xPDwyOTsgYz1hfGI7IGQ9MTw8NDsgZT0xPDwxNDsgZj1kfGU7XG4gICAgU1A2ID0gW2J8ZCxjfHosenxlLGN8ZixjfHosenxkLGN8ZixhfHosYnxlLGF8ZixhfHosYnxkLGF8ZCxifGUsYnx6LHp8ZixcbiAgICAgICAgICAgenx6LGF8ZCxifGYsenxlLGF8ZSxifGYsenxkLGN8ZCxjfGQsenx6LGF8ZixjfGUsenxmLGF8ZSxjfGUsYnx6LFxuICAgICAgICAgICBifGUsenxkLGN8ZCxhfGUsY3xmLGF8eix6fGYsYnxkLGF8eixifGUsYnx6LHp8ZixifGQsY3xmLGF8ZSxjfHosXG4gICAgICAgICAgIGF8ZixjfGUsenx6LGN8ZCx6fGQsenxlLGN8eixhfGYsenxlLGF8ZCxifGYsenx6LGN8ZSxifHosYXxkLGJ8Zl07XG4gICAgYT0xPDwyMTsgYj0xPDwyNjsgYz1hfGI7IGQ9MTw8MTsgZT0xPDwxMTsgZj1kfGU7XG4gICAgU1A3ID0gW2F8eixjfGQsYnxmLHp8eix6fGUsYnxmLGF8ZixjfGUsY3xmLGF8eix6fHosYnxkLHp8ZCxifHosY3xkLHp8ZixcbiAgICAgICAgICAgYnxlLGF8ZixhfGQsYnxlLGJ8ZCxjfHosY3xlLGF8ZCxjfHosenxlLHp8ZixjfGYsYXxlLHp8ZCxifHosYXxlLFxuICAgICAgICAgICBifHosYXxlLGF8eixifGYsYnxmLGN8ZCxjfGQsenxkLGF8ZCxifHosYnxlLGF8eixjfGUsenxmLGF8ZixjfGUsXG4gICAgICAgICAgIHp8ZixifGQsY3xmLGN8eixhfGUsenx6LHp8ZCxjfGYsenx6LGF8ZixjfHosenxlLGJ8ZCxifGUsenxlLGF8ZF07XG4gICAgYT0xPDwxODsgYj0xPDwyODsgYz1hfGI7IGQ9MTw8NjsgZT0xPDwxMjsgZj1kfGU7XG4gICAgU1A4ID0gW2J8Zix6fGUsYXx6LGN8ZixifHosYnxmLHp8ZCxifHosYXxkLGN8eixjfGYsYXxlLGN8ZSxhfGYsenxlLHp8ZCxcbiAgICAgICAgICAgY3x6LGJ8ZCxifGUsenxmLGF8ZSxhfGQsY3xkLGN8ZSx6fGYsenx6LHp8eixjfGQsYnxkLGJ8ZSxhfGYsYXx6LFxuICAgICAgICAgICBhfGYsYXx6LGN8ZSx6fGUsenxkLGN8ZCx6fGUsYXxmLGJ8ZSx6fGQsYnxkLGN8eixjfGQsYnx6LGF8eixifGYsXG4gICAgICAgICAgIHp8eixjfGYsYXxkLGJ8ZCxjfHosYnxlLGJ8Zix6fHosY3xmLGF8ZSxhfGUsenxmLHp8ZixhfGQsYnx6LGN8ZV07XG5cbiAgICAvLyBTZXQgdGhlIGtleS5cbiAgICBmdW5jdGlvbiBzZXRLZXlzKGtleUJsb2NrKSB7XG4gICAgICAgIHZhciBpLCBqLCBsLCBtLCBuLCBvLCBwYzFtID0gW10sIHBjciA9IFtdLCBrbiA9IFtdLFxuICAgICAgICAgICAgcmF3MCwgcmF3MSwgcmF3aSwgS25MaTtcblxuICAgICAgICBmb3IgKGogPSAwLCBsID0gNTY7IGogPCA1NjsgKytqLCBsIC09IDgpIHtcbiAgICAgICAgICAgIGwgKz0gbCA8IC01ID8gNjUgOiBsIDwgLTMgPyAzMSA6IGwgPCAtMSA/IDYzIDogbCA9PT0gMjcgPyAzNSA6IDA7IC8vIFBDMVxuICAgICAgICAgICAgbSA9IGwgJiAweDc7XG4gICAgICAgICAgICBwYzFtW2pdID0gKChrZXlCbG9ja1tsID4+PiAzXSAmICgxPDxtKSkgIT09IDApID8gMTogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgICAgICBtID0gaSA8PCAxO1xuICAgICAgICAgICAgbiA9IG0gKyAxO1xuICAgICAgICAgICAga25bbV0gPSBrbltuXSA9IDA7XG4gICAgICAgICAgICBmb3IgKG8gPSAyODsgbyA8IDU5OyBvICs9IDI4KSB7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gbyAtIDI4OyBqIDwgbzsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGwgPSBqICsgdG90cm90W2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobCA8IG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBjcltqXSA9IHBjMW1bbF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwY3Jbal0gPSBwYzFtW2wgLSAyOF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgMjQ7ICsraikge1xuICAgICAgICAgICAgICAgIGlmIChwY3JbUEMyW2pdXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBrblttXSB8PSAxIDw8ICgyMyAtIGopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGNyW1BDMltqICsgMjRdXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBrbltuXSB8PSAxIDw8ICgyMyAtIGopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvb2tleVxuICAgICAgICBmb3IgKGkgPSAwLCByYXdpID0gMCwgS25MaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgICAgICByYXcwID0ga25bcmF3aSsrXTtcbiAgICAgICAgICAgIHJhdzEgPSBrbltyYXdpKytdO1xuICAgICAgICAgICAga2V5c1tLbkxpXSA9IChyYXcwICYgMHgwMGZjMDAwMCkgPDwgNjtcbiAgICAgICAgICAgIGtleXNbS25MaV0gfD0gKHJhdzAgJiAweDAwMDAwZmMwKSA8PCAxMDtcbiAgICAgICAgICAgIGtleXNbS25MaV0gfD0gKHJhdzEgJiAweDAwZmMwMDAwKSA+Pj4gMTA7XG4gICAgICAgICAgICBrZXlzW0tuTGldIHw9IChyYXcxICYgMHgwMDAwMGZjMCkgPj4+IDY7XG4gICAgICAgICAgICArK0tuTGk7XG4gICAgICAgICAgICBrZXlzW0tuTGldID0gKHJhdzAgJiAweDAwMDNmMDAwKSA8PCAxMjtcbiAgICAgICAgICAgIGtleXNbS25MaV0gfD0gKHJhdzAgJiAweDAwMDAwMDNmKSA8PCAxNjtcbiAgICAgICAgICAgIGtleXNbS25MaV0gfD0gKHJhdzEgJiAweDAwMDNmMDAwKSA+Pj4gNDtcbiAgICAgICAgICAgIGtleXNbS25MaV0gfD0gKHJhdzEgJiAweDAwMDAwMDNmKTtcbiAgICAgICAgICAgICsrS25MaTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVuY3J5cHQgOCBieXRlcyBvZiB0ZXh0XG4gICAgZnVuY3Rpb24gZW5jOCh0ZXh0KSB7XG4gICAgICAgIHZhciBpID0gMCwgYiA9IHRleHQuc2xpY2UoKSwgZnZhbCwga2V5c2kgPSAwLFxuICAgICAgICAgICAgbCwgciwgeDsgLy8gbGVmdCwgcmlnaHQsIGFjY3VtdWxhdG9yXG5cbiAgICAgICAgLy8gU3F1YXNoIDggYnl0ZXMgdG8gMiBpbnRzXG4gICAgICAgIGwgPSBiW2krK108PDI0IHwgYltpKytdPDwxNiB8IGJbaSsrXTw8OCB8IGJbaSsrXTtcbiAgICAgICAgciA9IGJbaSsrXTw8MjQgfCBiW2krK108PDE2IHwgYltpKytdPDw4IHwgYltpKytdO1xuXG4gICAgICAgIHggPSAoKGwgPj4+IDQpIF4gcikgJiAweDBmMGYwZjBmO1xuICAgICAgICByIF49IHg7XG4gICAgICAgIGwgXj0gKHggPDwgNCk7XG4gICAgICAgIHggPSAoKGwgPj4+IDE2KSBeIHIpICYgMHgwMDAwZmZmZjtcbiAgICAgICAgciBePSB4O1xuICAgICAgICBsIF49ICh4IDw8IDE2KTtcbiAgICAgICAgeCA9ICgociA+Pj4gMikgXiBsKSAmIDB4MzMzMzMzMzM7XG4gICAgICAgIGwgXj0geDtcbiAgICAgICAgciBePSAoeCA8PCAyKTtcbiAgICAgICAgeCA9ICgociA+Pj4gOCkgXiBsKSAmIDB4MDBmZjAwZmY7XG4gICAgICAgIGwgXj0geDtcbiAgICAgICAgciBePSAoeCA8PCA4KTtcbiAgICAgICAgciA9IChyIDw8IDEpIHwgKChyID4+PiAzMSkgJiAxKTtcbiAgICAgICAgeCA9IChsIF4gcikgJiAweGFhYWFhYWFhO1xuICAgICAgICBsIF49IHg7XG4gICAgICAgIHIgXj0geDtcbiAgICAgICAgbCA9IChsIDw8IDEpIHwgKChsID4+PiAzMSkgJiAxKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgICAgICB4ID0gKHIgPDwgMjgpIHwgKHIgPj4+IDQpO1xuICAgICAgICAgICAgeCBePSBrZXlzW2tleXNpKytdO1xuICAgICAgICAgICAgZnZhbCA9ICBTUDdbeCAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDVbKHggPj4+IDgpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQM1soeCA+Pj4gMTYpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQMVsoeCA+Pj4gMjQpICYgMHgzZl07XG4gICAgICAgICAgICB4ID0gciBeIGtleXNba2V5c2krK107XG4gICAgICAgICAgICBmdmFsIHw9IFNQOFt4ICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQNlsoeCA+Pj4gOCkgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1A0Wyh4ID4+PiAxNikgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1AyWyh4ID4+PiAyNCkgJiAweDNmXTtcbiAgICAgICAgICAgIGwgXj0gZnZhbDtcbiAgICAgICAgICAgIHggPSAobCA8PCAyOCkgfCAobCA+Pj4gNCk7XG4gICAgICAgICAgICB4IF49IGtleXNba2V5c2krK107XG4gICAgICAgICAgICBmdmFsID0gIFNQN1t4ICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQNVsoeCA+Pj4gOCkgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1AzWyh4ID4+PiAxNikgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1AxWyh4ID4+PiAyNCkgJiAweDNmXTtcbiAgICAgICAgICAgIHggPSBsIF4ga2V5c1trZXlzaSsrXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1A4W3ggJiAweDAwMDAwMDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1A2Wyh4ID4+PiA4KSAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDRbKHggPj4+IDE2KSAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDJbKHggPj4+IDI0KSAmIDB4M2ZdO1xuICAgICAgICAgICAgciBePSBmdmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgciA9IChyIDw8IDMxKSB8IChyID4+PiAxKTtcbiAgICAgICAgeCA9IChsIF4gcikgJiAweGFhYWFhYWFhO1xuICAgICAgICBsIF49IHg7XG4gICAgICAgIHIgXj0geDtcbiAgICAgICAgbCA9IChsIDw8IDMxKSB8IChsID4+PiAxKTtcbiAgICAgICAgeCA9ICgobCA+Pj4gOCkgXiByKSAmIDB4MDBmZjAwZmY7XG4gICAgICAgIHIgXj0geDtcbiAgICAgICAgbCBePSAoeCA8PCA4KTtcbiAgICAgICAgeCA9ICgobCA+Pj4gMikgXiByKSAmIDB4MzMzMzMzMzM7XG4gICAgICAgIHIgXj0geDtcbiAgICAgICAgbCBePSAoeCA8PCAyKTtcbiAgICAgICAgeCA9ICgociA+Pj4gMTYpIF4gbCkgJiAweDAwMDBmZmZmO1xuICAgICAgICBsIF49IHg7XG4gICAgICAgIHIgXj0gKHggPDwgMTYpO1xuICAgICAgICB4ID0gKChyID4+PiA0KSBeIGwpICYgMHgwZjBmMGYwZjtcbiAgICAgICAgbCBePSB4O1xuICAgICAgICByIF49ICh4IDw8IDQpO1xuXG4gICAgICAgIC8vIFNwcmVhZCBpbnRzIHRvIGJ5dGVzXG4gICAgICAgIHggPSBbciwgbF07XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgIGJbaV0gPSAoeFtpPj4+Ml0gPj4+ICg4ICogKDMgLSAoaSAlIDQpKSkpICUgMjU2O1xuICAgICAgICAgICAgaWYgKGJbaV0gPCAwKSB7IGJbaV0gKz0gMjU2OyB9IC8vIHVuc2lnbmVkXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGI7XG4gICAgfVxuXG4gICAgLy8gRW5jcnlwdCAxNiBieXRlcyBvZiB0ZXh0IHVzaW5nIHBhc3N3ZCBhcyBrZXlcbiAgICBmdW5jdGlvbiBlbmNyeXB0KHQpIHtcbiAgICAgICAgcmV0dXJuIGVuYzgodC5zbGljZSgwLCA4KSkuY29uY2F0KGVuYzgodC5zbGljZSg4LCAxNikpKTtcbiAgICB9XG5cbiAgICBzZXRLZXlzKHBhc3N3ZCk7ICAgICAgICAgICAgIC8vIFNldHVwIGtleXNcbiAgICByZXR1cm4geydlbmNyeXB0JzogZW5jcnlwdH07IC8vIFB1YmxpYyBpbnRlcmZhY2VcblxufTsgLy8gZnVuY3Rpb24gREVTXG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxMiBKb2VsIE1hcnRpblxuICogQ29weXJpZ2h0IChDKSAyMDE1IFNhbXVlbCBNYW5uZWhlZCBmb3IgQ2VuZGlvIEFCXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIChzZWUgTElDRU5TRS50eHQpXG4gKlxuICogU2VlIFJFQURNRS5tZCBmb3IgdXNhZ2UgYW5kIGludGVncmF0aW9uIGluc3RydWN0aW9ucy5cbiAqL1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi91dGlsL2xvZ2dpbmcuanMnO1xuaW1wb3J0IEJhc2U2NCBmcm9tIFwiLi9iYXNlNjQuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGlzcGxheSh0YXJnZXQpIHtcbiAgICB0aGlzLl9kcmF3Q3R4ID0gbnVsbDtcbiAgICB0aGlzLl9jX2ZvcmNlQ2FudmFzID0gZmFsc2U7XG5cbiAgICB0aGlzLl9yZW5kZXJRID0gW107ICAvLyBxdWV1ZSBkcmF3aW5nIGFjdGlvbnMgZm9yIGluLW9kZXIgcmVuZGVyaW5nXG4gICAgdGhpcy5fZmx1c2hpbmcgPSBmYWxzZTtcblxuICAgIC8vIHRoZSBmdWxsIGZyYW1lIGJ1ZmZlciAobG9naWNhbCBjYW52YXMpIHNpemVcbiAgICB0aGlzLl9mYl93aWR0aCA9IDA7XG4gICAgdGhpcy5fZmJfaGVpZ2h0ID0gMDtcblxuICAgIHRoaXMuX3ByZXZEcmF3U3R5bGUgPSBcIlwiO1xuICAgIHRoaXMuX3RpbGUgPSBudWxsO1xuICAgIHRoaXMuX3RpbGUxNngxNiA9IG51bGw7XG4gICAgdGhpcy5fdGlsZV94ID0gMDtcbiAgICB0aGlzLl90aWxlX3kgPSAwO1xuXG4gICAgTG9nLkRlYnVnKFwiPj4gRGlzcGxheS5jb25zdHJ1Y3RvclwiKTtcblxuICAgIC8vIFRoZSB2aXNpYmxlIGNhbnZhc1xuICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcblxuICAgIGlmICghdGhpcy5fdGFyZ2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRhcmdldCBtdXN0IGJlIHNldFwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRoaXMuX3RhcmdldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXJnZXQgbXVzdCBiZSBhIERPTSBlbGVtZW50Jyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl90YXJnZXQuZ2V0Q29udGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJubyBnZXRDb250ZXh0IG1ldGhvZFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl90YXJnZXRDdHggPSB0aGlzLl90YXJnZXQuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIC8vIHRoZSB2aXNpYmxlIGNhbnZhcyB2aWV3cG9ydCAoaS5lLiB3aGF0IGFjdHVhbGx5IGdldHMgc2VlbilcbiAgICB0aGlzLl92aWV3cG9ydExvYyA9IHsgJ3gnOiAwLCAneSc6IDAsICd3JzogdGhpcy5fdGFyZ2V0LndpZHRoLCAnaCc6IHRoaXMuX3RhcmdldC5oZWlnaHQgfTtcblxuICAgIC8vIFRoZSBoaWRkZW4gY2FudmFzLCB3aGVyZSB3ZSBkbyB0aGUgYWN0dWFsIHJlbmRlcmluZ1xuICAgIHRoaXMuX2JhY2tidWZmZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB0aGlzLl9kcmF3Q3R4ID0gdGhpcy5fYmFja2J1ZmZlci5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgdGhpcy5fZGFtYWdlQm91bmRzID0geyBsZWZ0OjAsIHRvcDowLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHRoaXMuX2JhY2tidWZmZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IHRoaXMuX2JhY2tidWZmZXIuaGVpZ2h0IH07XG5cbiAgICBMb2cuRGVidWcoXCJVc2VyIEFnZW50OiBcIiArIG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4gICAgdGhpcy5jbGVhcigpO1xuXG4gICAgLy8gQ2hlY2sgY2FudmFzIGZlYXR1cmVzXG4gICAgaWYgKCEoJ2NyZWF0ZUltYWdlRGF0YScgaW4gdGhpcy5fZHJhd0N0eCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FudmFzIGRvZXMgbm90IHN1cHBvcnQgY3JlYXRlSW1hZ2VEYXRhXCIpO1xuICAgIH1cblxuICAgIHRoaXMuX3RpbGUxNngxNiA9IHRoaXMuX2RyYXdDdHguY3JlYXRlSW1hZ2VEYXRhKDE2LCAxNik7XG4gICAgTG9nLkRlYnVnKFwiPDwgRGlzcGxheS5jb25zdHJ1Y3RvclwiKTtcbn07XG5cbnZhciBTVVBQT1JUU19JTUFHRURBVEFfQ09OU1RSVUNUT1IgPSBmYWxzZTtcbnRyeSB7XG4gICAgbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkoNCksIDEsIDEpO1xuICAgIFNVUFBPUlRTX0lNQUdFREFUQV9DT05TVFJVQ1RPUiA9IHRydWU7XG59IGNhdGNoIChleCkge1xuICAgIC8vIGlnbm9yZSBmYWlsdXJlXG59XG5cbkRpc3BsYXkucHJvdG90eXBlID0ge1xuICAgIC8vID09PT09IFBST1BFUlRJRVMgPT09PT1cblxuICAgIF9zY2FsZTogMS4wLFxuICAgIGdldCBzY2FsZSgpIHsgcmV0dXJuIHRoaXMuX3NjYWxlOyB9LFxuICAgIHNldCBzY2FsZShzY2FsZSkge1xuICAgICAgICB0aGlzLl9yZXNjYWxlKHNjYWxlKTtcbiAgICB9LFxuXG4gICAgX2NsaXBWaWV3cG9ydDogZmFsc2UsXG4gICAgZ2V0IGNsaXBWaWV3cG9ydCgpIHsgcmV0dXJuIHRoaXMuX2NsaXBWaWV3cG9ydDsgfSxcbiAgICBzZXQgY2xpcFZpZXdwb3J0KHZpZXdwb3J0KSB7XG4gICAgICAgIHRoaXMuX2NsaXBWaWV3cG9ydCA9IHZpZXdwb3J0O1xuICAgICAgICAvLyBNYXkgbmVlZCB0byByZWFkanVzdCB0aGUgdmlld3BvcnQgZGltZW5zaW9uc1xuICAgICAgICB2YXIgdnAgPSB0aGlzLl92aWV3cG9ydExvYztcbiAgICAgICAgdGhpcy52aWV3cG9ydENoYW5nZVNpemUodnAudywgdnAuaCk7XG4gICAgICAgIHRoaXMudmlld3BvcnRDaGFuZ2VQb3MoMCwgMCk7XG4gICAgfSxcblxuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZiX3dpZHRoO1xuICAgIH0sXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZiX2hlaWdodDtcbiAgICB9LFxuXG4gICAgbG9nbzogbnVsbCxcblxuICAgIC8vID09PT09IEVWRU5UIEhBTkRMRVJTID09PT09XG5cbiAgICBvbmZsdXNoOiBmdW5jdGlvbiAoKSB7fSwgICAgICAgIC8vIEEgZmx1c2ggcmVxdWVzdCBoYXMgZmluaXNoZWRcblxuICAgIC8vID09PT09IFBVQkxJQyBNRVRIT0RTID09PT09XG5cbiAgICB2aWV3cG9ydENoYW5nZVBvczogZnVuY3Rpb24gKGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgICAgIHZhciB2cCA9IHRoaXMuX3ZpZXdwb3J0TG9jO1xuICAgICAgICBkZWx0YVggPSBNYXRoLmZsb29yKGRlbHRhWCk7XG4gICAgICAgIGRlbHRhWSA9IE1hdGguZmxvb3IoZGVsdGFZKTtcblxuICAgICAgICBpZiAoIXRoaXMuX2NsaXBWaWV3cG9ydCkge1xuICAgICAgICAgICAgZGVsdGFYID0gLXZwLnc7ICAvLyBjbGFtcGVkIGxhdGVyIG9mIG91dCBvZiBib3VuZHNcbiAgICAgICAgICAgIGRlbHRhWSA9IC12cC5oO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZ4MiA9IHZwLnggKyB2cC53IC0gMTtcbiAgICAgICAgdmFyIHZ5MiA9IHZwLnkgKyB2cC5oIC0gMTtcblxuICAgICAgICAvLyBQb3NpdGlvbiBjaGFuZ2VcblxuICAgICAgICBpZiAoZGVsdGFYIDwgMCAmJiB2cC54ICsgZGVsdGFYIDwgMCkge1xuICAgICAgICAgICAgZGVsdGFYID0gLXZwLng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZ4MiArIGRlbHRhWCA+PSB0aGlzLl9mYl93aWR0aCkge1xuICAgICAgICAgICAgZGVsdGFYIC09IHZ4MiArIGRlbHRhWCAtIHRoaXMuX2ZiX3dpZHRoICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2cC55ICsgZGVsdGFZIDwgMCkge1xuICAgICAgICAgICAgZGVsdGFZID0gLXZwLnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZ5MiArIGRlbHRhWSA+PSB0aGlzLl9mYl9oZWlnaHQpIHtcbiAgICAgICAgICAgIGRlbHRhWSAtPSAodnkyICsgZGVsdGFZIC0gdGhpcy5fZmJfaGVpZ2h0ICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVsdGFYID09PSAwICYmIGRlbHRhWSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIExvZy5EZWJ1ZyhcInZpZXdwb3J0Q2hhbmdlIGRlbHRhWDogXCIgKyBkZWx0YVggKyBcIiwgZGVsdGFZOiBcIiArIGRlbHRhWSk7XG5cbiAgICAgICAgdnAueCArPSBkZWx0YVg7XG4gICAgICAgIHZwLnkgKz0gZGVsdGFZO1xuXG4gICAgICAgIHRoaXMuX2RhbWFnZSh2cC54LCB2cC55LCB2cC53LCB2cC5oKTtcblxuICAgICAgICB0aGlzLmZsaXAoKTtcbiAgICB9LFxuXG4gICAgdmlld3BvcnRDaGFuZ2VTaXplOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9jbGlwVmlld3BvcnQgfHxcbiAgICAgICAgICAgIHR5cGVvZih3aWR0aCkgPT09IFwidW5kZWZpbmVkXCIgfHxcbiAgICAgICAgICAgIHR5cGVvZihoZWlnaHQpID09PSBcInVuZGVmaW5lZFwiKSB7XG5cbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIlNldHRpbmcgdmlld3BvcnQgdG8gZnVsbCBkaXNwbGF5IHJlZ2lvblwiKTtcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5fZmJfd2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLl9mYl9oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2lkdGggPiB0aGlzLl9mYl93aWR0aCkge1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLl9mYl93aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVpZ2h0ID4gdGhpcy5fZmJfaGVpZ2h0KSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLl9mYl9oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdnAgPSB0aGlzLl92aWV3cG9ydExvYztcbiAgICAgICAgaWYgKHZwLncgIT09IHdpZHRoIHx8IHZwLmggIT09IGhlaWdodCkge1xuICAgICAgICAgICAgdnAudyA9IHdpZHRoO1xuICAgICAgICAgICAgdnAuaCA9IGhlaWdodDtcblxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuX3RhcmdldDtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgLy8gVGhlIHBvc2l0aW9uIG1pZ2h0IG5lZWQgdG8gYmUgdXBkYXRlZCBpZiB3ZSd2ZSBncm93blxuICAgICAgICAgICAgdGhpcy52aWV3cG9ydENoYW5nZVBvcygwLCAwKTtcblxuICAgICAgICAgICAgdGhpcy5fZGFtYWdlKHZwLngsIHZwLnksIHZwLncsIHZwLmgpO1xuICAgICAgICAgICAgdGhpcy5mbGlwKCk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdmlzaWJsZSBzaXplIG9mIHRoZSB0YXJnZXQgY2FudmFzXG4gICAgICAgICAgICB0aGlzLl9yZXNjYWxlKHRoaXMuX3NjYWxlKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnNYOiBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geCAvIHRoaXMuX3NjYWxlICsgdGhpcy5fdmlld3BvcnRMb2MueDtcbiAgICB9LFxuXG4gICAgYWJzWTogZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgcmV0dXJuIHkgLyB0aGlzLl9zY2FsZSArIHRoaXMuX3ZpZXdwb3J0TG9jLnk7XG4gICAgfSxcblxuICAgIHJlc2l6ZTogZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5fcHJldkRyYXdTdHlsZSA9IFwiXCI7XG5cbiAgICAgICAgdGhpcy5fZmJfd2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZmJfaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLl9iYWNrYnVmZmVyO1xuICAgICAgICBpZiAoY2FudmFzLndpZHRoICE9PSB3aWR0aCB8fCBjYW52YXMuaGVpZ2h0ICE9PSBoZWlnaHQpIHtcblxuICAgICAgICAgICAgLy8gV2UgaGF2ZSB0byBzYXZlIHRoZSBjYW52YXMgZGF0YSBzaW5jZSBjaGFuZ2luZyB0aGUgc2l6ZSB3aWxsIGNsZWFyIGl0XG4gICAgICAgICAgICB2YXIgc2F2ZUltZyA9IG51bGw7XG4gICAgICAgICAgICBpZiAoY2FudmFzLndpZHRoID4gMCAmJiBjYW52YXMuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgIHNhdmVJbWcgPSB0aGlzLl9kcmF3Q3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2FudmFzLndpZHRoICE9PSB3aWR0aCkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbnZhcy5oZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzYXZlSW1nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhd0N0eC5wdXRJbWFnZURhdGEoc2F2ZUltZywgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWFkanVzdCB0aGUgdmlld3BvcnQgYXMgaXQgbWF5IGJlIGluY29ycmVjdGx5IHNpemVkXG4gICAgICAgIC8vIGFuZCBwb3NpdGlvbmVkXG4gICAgICAgIHZhciB2cCA9IHRoaXMuX3ZpZXdwb3J0TG9jO1xuICAgICAgICB0aGlzLnZpZXdwb3J0Q2hhbmdlU2l6ZSh2cC53LCB2cC5oKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydENoYW5nZVBvcygwLCAwKTtcbiAgICB9LFxuXG4gICAgLy8gVHJhY2sgd2hhdCBwYXJ0cyBvZiB0aGUgdmlzaWJsZSBjYW52YXMgdGhhdCBuZWVkIHVwZGF0aW5nXG4gICAgX2RhbWFnZTogZnVuY3Rpb24oeCwgeSwgdywgaCkge1xuICAgICAgICBpZiAoeCA8IHRoaXMuX2RhbWFnZUJvdW5kcy5sZWZ0KSB7XG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2VCb3VuZHMubGVmdCA9IHg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkgPCB0aGlzLl9kYW1hZ2VCb3VuZHMudG9wKSB7XG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2VCb3VuZHMudG9wID0geTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHggKyB3KSA+IHRoaXMuX2RhbWFnZUJvdW5kcy5yaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fZGFtYWdlQm91bmRzLnJpZ2h0ID0geCArIHc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh5ICsgaCkgPiB0aGlzLl9kYW1hZ2VCb3VuZHMuYm90dG9tKSB7XG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2VCb3VuZHMuYm90dG9tID0geSArIGg7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gVXBkYXRlIHRoZSB2aXNpYmxlIGNhbnZhcyB3aXRoIHRoZSBjb250ZW50cyBvZiB0aGVcbiAgICAvLyByZW5kZXJpbmcgY2FudmFzXG4gICAgZmxpcDogZnVuY3Rpb24oZnJvbV9xdWV1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggIT09IDAgJiYgIWZyb21fcXVldWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclFfcHVzaCh7XG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnZmxpcCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHgsIHksIHZ4LCB2eSwgdywgaDtcblxuICAgICAgICAgICAgeCA9IHRoaXMuX2RhbWFnZUJvdW5kcy5sZWZ0O1xuICAgICAgICAgICAgeSA9IHRoaXMuX2RhbWFnZUJvdW5kcy50b3A7XG4gICAgICAgICAgICB3ID0gdGhpcy5fZGFtYWdlQm91bmRzLnJpZ2h0IC0geDtcbiAgICAgICAgICAgIGggPSB0aGlzLl9kYW1hZ2VCb3VuZHMuYm90dG9tIC0geTtcblxuICAgICAgICAgICAgdnggPSB4IC0gdGhpcy5fdmlld3BvcnRMb2MueDtcbiAgICAgICAgICAgIHZ5ID0geSAtIHRoaXMuX3ZpZXdwb3J0TG9jLnk7XG5cbiAgICAgICAgICAgIGlmICh2eCA8IDApIHtcbiAgICAgICAgICAgICAgICB3ICs9IHZ4O1xuICAgICAgICAgICAgICAgIHggLT0gdng7XG4gICAgICAgICAgICAgICAgdnggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZ5IDwgMCkge1xuICAgICAgICAgICAgICAgIGggKz0gdnk7XG4gICAgICAgICAgICAgICAgeSAtPSB2eTtcbiAgICAgICAgICAgICAgICB2eSA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgodnggKyB3KSA+IHRoaXMuX3ZpZXdwb3J0TG9jLncpIHtcbiAgICAgICAgICAgICAgICB3ID0gdGhpcy5fdmlld3BvcnRMb2MudyAtIHZ4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh2eSArIGgpID4gdGhpcy5fdmlld3BvcnRMb2MuaCkge1xuICAgICAgICAgICAgICAgIGggPSB0aGlzLl92aWV3cG9ydExvYy5oIC0gdnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgodyA+IDApICYmIChoID4gMCkpIHtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogV2UgbWF5IG5lZWQgdG8gZGlzYWJsZSBpbWFnZSBzbW9vdGhpbmcgaGVyZVxuICAgICAgICAgICAgICAgIC8vICAgICAgICBhcyB3ZWxsIChzZWUgY29weUltYWdlKCkpLCBidXQgd2UgaGF2ZW4ndFxuICAgICAgICAgICAgICAgIC8vICAgICAgICBub3RpY2VkIGFueSBwcm9ibGVtIHlldC5cbiAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRDdHguZHJhd0ltYWdlKHRoaXMuX2JhY2tidWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LCB5LCB3LCBoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdngsIHZ5LCB3LCBoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZGFtYWdlQm91bmRzLmxlZnQgPSB0aGlzLl9kYW1hZ2VCb3VuZHMudG9wID0gNjU1MzU7XG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2VCb3VuZHMucmlnaHQgPSB0aGlzLl9kYW1hZ2VCb3VuZHMuYm90dG9tID0gMDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fbG9nbykge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUodGhpcy5fbG9nby53aWR0aCwgdGhpcy5fbG9nby5oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5pbWFnZVJlY3QoMCwgMCwgdGhpcy5fbG9nby50eXBlLCB0aGlzLl9sb2dvLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUoMjQwLCAyMCk7XG4gICAgICAgICAgICB0aGlzLl9kcmF3Q3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9mYl93aWR0aCwgdGhpcy5fZmJfaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsaXAoKTtcbiAgICB9LFxuXG4gICAgcGVuZGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJRLmxlbmd0aCA+IDA7XG4gICAgfSxcblxuICAgIGZsdXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm9uZmx1c2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsdXNoaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBmaWxsUmVjdDogZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGNvbG9yLCBmcm9tX3F1ZXVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJRLmxlbmd0aCAhPT0gMCAmJiAhZnJvbV9xdWV1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyUV9wdXNoKHtcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdmaWxsJyxcbiAgICAgICAgICAgICAgICAneCc6IHgsXG4gICAgICAgICAgICAgICAgJ3knOiB5LFxuICAgICAgICAgICAgICAgICd3aWR0aCc6IHdpZHRoLFxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgJ2NvbG9yJzogY29sb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0RmlsbENvbG9yKGNvbG9yKTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHguZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2UoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY29weUltYWdlOiBmdW5jdGlvbiAob2xkX3gsIG9sZF95LCBuZXdfeCwgbmV3X3ksIHcsIGgsIGZyb21fcXVldWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoICE9PSAwICYmICFmcm9tX3F1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJRX3B1c2goe1xuICAgICAgICAgICAgICAgICd0eXBlJzogJ2NvcHknLFxuICAgICAgICAgICAgICAgICdvbGRfeCc6IG9sZF94LFxuICAgICAgICAgICAgICAgICdvbGRfeSc6IG9sZF95LFxuICAgICAgICAgICAgICAgICd4JzogbmV3X3gsXG4gICAgICAgICAgICAgICAgJ3knOiBuZXdfeSxcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiB3LFxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiBoLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEdWUgdG8gdGhpcyBidWcgYW1vbmcgb3RoZXJzIFsxXSB3ZSBuZWVkIHRvIGRpc2FibGUgdGhlIGltYWdlLXNtb290aGluZyB0b1xuICAgICAgICAgICAgLy8gYXZvaWQgZ2V0dGluZyBhIGJsdXIgZWZmZWN0IHdoZW4gY29weWluZyBkYXRhLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIDEuIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTExOTQ3MTlcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHNldCB0aGVzZSBldmVyeSB0aW1lIHNpbmNlIGFsbCBwcm9wZXJ0aWVzIGFyZSByZXNldFxuICAgICAgICAgICAgLy8gd2hlbiB0aGUgdGhlIHNpemUgaXMgY2hhbmdlZFxuICAgICAgICAgICAgdGhpcy5fZHJhd0N0eC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHgud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9kcmF3Q3R4Lm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9kcmF3Q3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl9kcmF3Q3R4LmRyYXdJbWFnZSh0aGlzLl9iYWNrYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkX3gsIG9sZF95LCB3LCBoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X3gsIG5ld195LCB3LCBoKTtcbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZShuZXdfeCwgbmV3X3ksIHcsIGgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGltYWdlUmVjdDogZnVuY3Rpb24oeCwgeSwgbWltZSwgYXJyKSB7XG4gICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLnNyYyA9IFwiZGF0YTogXCIgKyBtaW1lICsgXCI7YmFzZTY0LFwiICsgQmFzZTY0LmVuY29kZShhcnIpO1xuICAgICAgICB0aGlzLl9yZW5kZXJRX3B1c2goe1xuICAgICAgICAgICAgJ3R5cGUnOiAnaW1nJyxcbiAgICAgICAgICAgICdpbWcnOiBpbWcsXG4gICAgICAgICAgICAneCc6IHgsXG4gICAgICAgICAgICAneSc6IHlcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIHN0YXJ0IHVwZGF0aW5nIGEgdGlsZVxuICAgIHN0YXJ0VGlsZTogZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGNvbG9yKSB7XG4gICAgICAgIHRoaXMuX3RpbGVfeCA9IHg7XG4gICAgICAgIHRoaXMuX3RpbGVfeSA9IHk7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gMTYgJiYgaGVpZ2h0ID09PSAxNikge1xuICAgICAgICAgICAgdGhpcy5fdGlsZSA9IHRoaXMuX3RpbGUxNngxNjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbGUgPSB0aGlzLl9kcmF3Q3R4LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWQgPSBjb2xvclsyXTtcbiAgICAgICAgdmFyIGdyZWVuID0gY29sb3JbMV07XG4gICAgICAgIHZhciBibHVlID0gY29sb3JbMF07XG5cbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl90aWxlLmRhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2lkdGggKiBoZWlnaHQgKiA0OyBpICs9IDQpIHtcbiAgICAgICAgICAgIGRhdGFbaV0gPSByZWQ7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGdyZWVuO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSBibHVlO1xuICAgICAgICAgICAgZGF0YVtpICsgM10gPSAyNTU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gdXBkYXRlIHN1Yi1yZWN0YW5nbGUgb2YgdGhlIGN1cnJlbnQgdGlsZVxuICAgIHN1YlRpbGU6IGZ1bmN0aW9uICh4LCB5LCB3LCBoLCBjb2xvcikge1xuICAgICAgICB2YXIgcmVkID0gY29sb3JbMl07XG4gICAgICAgIHZhciBncmVlbiA9IGNvbG9yWzFdO1xuICAgICAgICB2YXIgYmx1ZSA9IGNvbG9yWzBdO1xuICAgICAgICB2YXIgeGVuZCA9IHggKyB3O1xuICAgICAgICB2YXIgeWVuZCA9IHkgKyBoO1xuXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fdGlsZS5kYXRhO1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl90aWxlLndpZHRoO1xuICAgICAgICBmb3IgKHZhciBqID0geTsgaiA8IHllbmQ7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHg7IGkgPCB4ZW5kOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IChpICsgKGogKiB3aWR0aCkpICogNDtcbiAgICAgICAgICAgICAgICBkYXRhW3BdID0gcmVkO1xuICAgICAgICAgICAgICAgIGRhdGFbcCArIDFdID0gZ3JlZW47XG4gICAgICAgICAgICAgICAgZGF0YVtwICsgMl0gPSBibHVlO1xuICAgICAgICAgICAgICAgIGRhdGFbcCArIDNdID0gMjU1O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIGRyYXcgdGhlIGN1cnJlbnQgdGlsZSB0byB0aGUgc2NyZWVuXG4gICAgZmluaXNoVGlsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9kcmF3Q3R4LnB1dEltYWdlRGF0YSh0aGlzLl90aWxlLCB0aGlzLl90aWxlX3gsIHRoaXMuX3RpbGVfeSk7XG4gICAgICAgIHRoaXMuX2RhbWFnZSh0aGlzLl90aWxlX3gsIHRoaXMuX3RpbGVfeSxcbiAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbGUud2lkdGgsIHRoaXMuX3RpbGUuaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgYmxpdEltYWdlOiBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgYXJyLCBvZmZzZXQsIGZyb21fcXVldWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoICE9PSAwICYmICFmcm9tX3F1ZXVlKSB7XG4gICAgICAgICAgICAvLyBOQihkaXJlY3R4bWFuMTIpOiBpdCdzIHRlY2huaWNhbGx5IG1vcmUgcGVyZm9ybWFudCBoZXJlIHRvIHVzZSBwcmVhbGxvY2F0ZWQgYXJyYXlzLFxuICAgICAgICAgICAgLy8gYnV0IGl0J3MgYSBsb3Qgb2YgZXh0cmEgd29yayBmb3Igbm90IGEgbG90IG9mIHBheW9mZiAtLSBpZiB3ZSdyZSB1c2luZyB0aGUgcmVuZGVyIHF1ZXVlLFxuICAgICAgICAgICAgLy8gdGhpcyBwcm9iYWJseSBpc24ndCBnZXR0aW5nIGNhbGxlZCAqbmVhcmx5KiBhcyBtdWNoXG4gICAgICAgICAgICB2YXIgbmV3X2FyciA9IG5ldyBVaW50OEFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgICAgICAgICBuZXdfYXJyLnNldChuZXcgVWludDhBcnJheShhcnIuYnVmZmVyLCAwLCBuZXdfYXJyLmxlbmd0aCkpO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyUV9wdXNoKHtcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdibGl0JyxcbiAgICAgICAgICAgICAgICAnZGF0YSc6IG5ld19hcnIsXG4gICAgICAgICAgICAgICAgJ3gnOiB4LFxuICAgICAgICAgICAgICAgICd5JzogeSxcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiB3aWR0aCxcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogaGVpZ2h0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9iZ3J4SW1hZ2VEYXRhKHgsIHksIHdpZHRoLCBoZWlnaHQsIGFyciwgb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBibGl0UmdiSW1hZ2U6IGZ1bmN0aW9uICh4LCB5ICwgd2lkdGgsIGhlaWdodCwgYXJyLCBvZmZzZXQsIGZyb21fcXVldWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoICE9PSAwICYmICFmcm9tX3F1ZXVlKSB7XG4gICAgICAgICAgICAvLyBOQihkaXJlY3R4bWFuMTIpOiBpdCdzIHRlY2huaWNhbGx5IG1vcmUgcGVyZm9ybWFudCBoZXJlIHRvIHVzZSBwcmVhbGxvY2F0ZWQgYXJyYXlzLFxuICAgICAgICAgICAgLy8gYnV0IGl0J3MgYSBsb3Qgb2YgZXh0cmEgd29yayBmb3Igbm90IGEgbG90IG9mIHBheW9mZiAtLSBpZiB3ZSdyZSB1c2luZyB0aGUgcmVuZGVyIHF1ZXVlLFxuICAgICAgICAgICAgLy8gdGhpcyBwcm9iYWJseSBpc24ndCBnZXR0aW5nIGNhbGxlZCAqbmVhcmx5KiBhcyBtdWNoXG4gICAgICAgICAgICB2YXIgbmV3X2FyciA9IG5ldyBVaW50OEFycmF5KHdpZHRoICogaGVpZ2h0ICogMyk7XG4gICAgICAgICAgICBuZXdfYXJyLnNldChuZXcgVWludDhBcnJheShhcnIuYnVmZmVyLCAwLCBuZXdfYXJyLmxlbmd0aCkpO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyUV9wdXNoKHtcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdibGl0UmdiJyxcbiAgICAgICAgICAgICAgICAnZGF0YSc6IG5ld19hcnIsXG4gICAgICAgICAgICAgICAgJ3gnOiB4LFxuICAgICAgICAgICAgICAgICd5JzogeSxcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiB3aWR0aCxcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogaGVpZ2h0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZ2JJbWFnZURhdGEoeCwgeSwgd2lkdGgsIGhlaWdodCwgYXJyLCBvZmZzZXQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGJsaXRSZ2J4SW1hZ2U6IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCwgZnJvbV9xdWV1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggIT09IDAgJiYgIWZyb21fcXVldWUpIHtcbiAgICAgICAgICAgIC8vIE5CKGRpcmVjdHhtYW4xMik6IGl0J3MgdGVjaG5pY2FsbHkgbW9yZSBwZXJmb3JtYW50IGhlcmUgdG8gdXNlIHByZWFsbG9jYXRlZCBhcnJheXMsXG4gICAgICAgICAgICAvLyBidXQgaXQncyBhIGxvdCBvZiBleHRyYSB3b3JrIGZvciBub3QgYSBsb3Qgb2YgcGF5b2ZmIC0tIGlmIHdlJ3JlIHVzaW5nIHRoZSByZW5kZXIgcXVldWUsXG4gICAgICAgICAgICAvLyB0aGlzIHByb2JhYmx5IGlzbid0IGdldHRpbmcgY2FsbGVkICpuZWFybHkqIGFzIG11Y2hcbiAgICAgICAgICAgIHZhciBuZXdfYXJyID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICAgICAgICAgIG5ld19hcnIuc2V0KG5ldyBVaW50OEFycmF5KGFyci5idWZmZXIsIDAsIG5ld19hcnIubGVuZ3RoKSk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJRX3B1c2goe1xuICAgICAgICAgICAgICAgICd0eXBlJzogJ2JsaXRSZ2J4JyxcbiAgICAgICAgICAgICAgICAnZGF0YSc6IG5ld19hcnIsXG4gICAgICAgICAgICAgICAgJ3gnOiB4LFxuICAgICAgICAgICAgICAgICd5JzogeSxcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiB3aWR0aCxcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogaGVpZ2h0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZ2J4SW1hZ2VEYXRhKHgsIHksIHdpZHRoLCBoZWlnaHQsIGFyciwgb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBkcmF3SW1hZ2U6IGZ1bmN0aW9uIChpbWcsIHgsIHkpIHtcbiAgICAgICAgdGhpcy5fZHJhd0N0eC5kcmF3SW1hZ2UoaW1nLCB4LCB5KTtcbiAgICAgICAgdGhpcy5fZGFtYWdlKHgsIHksIGltZy53aWR0aCwgaW1nLmhlaWdodCk7XG4gICAgfSxcblxuICAgIGNoYW5nZUN1cnNvcjogZnVuY3Rpb24gKHBpeGVscywgbWFzaywgaG90eCwgaG90eSwgdywgaCkge1xuICAgICAgICBEaXNwbGF5LmNoYW5nZUN1cnNvcih0aGlzLl90YXJnZXQsIHBpeGVscywgbWFzaywgaG90eCwgaG90eSwgdywgaCk7XG4gICAgfSxcblxuICAgIGRlZmF1bHRDdXJzb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xuICAgIH0sXG5cbiAgICBkaXNhYmxlTG9jYWxDdXJzb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0LnN0eWxlLmN1cnNvciA9IFwibm9uZVwiO1xuICAgIH0sXG5cbiAgICBhdXRvc2NhbGU6IGZ1bmN0aW9uIChjb250YWluZXJXaWR0aCwgY29udGFpbmVySGVpZ2h0KSB7XG4gICAgICAgIHZhciB2cCA9IHRoaXMuX3ZpZXdwb3J0TG9jO1xuICAgICAgICB2YXIgdGFyZ2V0QXNwZWN0UmF0aW8gPSBjb250YWluZXJXaWR0aCAvIGNvbnRhaW5lckhlaWdodDtcbiAgICAgICAgdmFyIGZiQXNwZWN0UmF0aW8gPSB2cC53IC8gdnAuaDtcblxuICAgICAgICB2YXIgc2NhbGVSYXRpbztcbiAgICAgICAgaWYgKGZiQXNwZWN0UmF0aW8gPj0gdGFyZ2V0QXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgIHNjYWxlUmF0aW8gPSBjb250YWluZXJXaWR0aCAvIHZwLnc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY2FsZVJhdGlvID0gY29udGFpbmVySGVpZ2h0IC8gdnAuaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Jlc2NhbGUoc2NhbGVSYXRpbyk7XG4gICAgfSxcblxuICAgIC8vID09PT09IFBSSVZBVEUgTUVUSE9EUyA9PT09PVxuXG4gICAgX3Jlc2NhbGU6IGZ1bmN0aW9uIChmYWN0b3IpIHtcbiAgICAgICAgdGhpcy5fc2NhbGUgPSBmYWN0b3I7XG4gICAgICAgIHZhciB2cCA9IHRoaXMuX3ZpZXdwb3J0TG9jO1xuXG4gICAgICAgIC8vIE5CKGRpcmVjdHhtYW4xMik6IElmIHlvdSBzZXQgdGhlIHdpZHRoIGRpcmVjdGx5LCBvciBzZXQgdGhlXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgIHN0eWxlIHdpZHRoIHRvIGEgbnVtYmVyLCB0aGUgY2FudmFzIGlzIGNsZWFyZWQuXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgIEhvd2V2ZXIsIGlmIHlvdSBzZXQgdGhlIHN0eWxlIHdpZHRoIHRvIGEgc3RyaW5nXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICgnTk5OcHgnKSwgdGhlIGNhbnZhcyBpcyBzY2FsZWQgd2l0aG91dCBjbGVhcmluZy5cbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChmYWN0b3IgKiB2cC53KSArICdweCc7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKGZhY3RvciAqIHZwLmgpICsgJ3B4JztcblxuICAgICAgICBpZiAoKHRoaXMuX3RhcmdldC5zdHlsZS53aWR0aCAhPT0gd2lkdGgpIHx8XG4gICAgICAgICAgICAodGhpcy5fdGFyZ2V0LnN0eWxlLmhlaWdodCAhPT0gaGVpZ2h0KSkge1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LnN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9zZXRGaWxsQ29sb3I6IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICB2YXIgbmV3U3R5bGUgPSAncmdiKCcgKyBjb2xvclsyXSArICcsJyArIGNvbG9yWzFdICsgJywnICsgY29sb3JbMF0gKyAnKSc7XG4gICAgICAgIGlmIChuZXdTdHlsZSAhPT0gdGhpcy5fcHJldkRyYXdTdHlsZSkge1xuICAgICAgICAgICAgdGhpcy5fZHJhd0N0eC5maWxsU3R5bGUgPSBuZXdTdHlsZTtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZEcmF3U3R5bGUgPSBuZXdTdHlsZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfcmdiSW1hZ2VEYXRhOiBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgYXJyLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIGltZyA9IHRoaXMuX2RyYXdDdHguY3JlYXRlSW1hZ2VEYXRhKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB2YXIgZGF0YSA9IGltZy5kYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IG9mZnNldDsgaSA8IHdpZHRoICogaGVpZ2h0ICogNDsgaSArPSA0LCBqICs9IDMpIHtcbiAgICAgICAgICAgIGRhdGFbaV0gICAgID0gYXJyW2pdO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSBhcnJbaiArIDFdO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSBhcnJbaiArIDJdO1xuICAgICAgICAgICAgZGF0YVtpICsgM10gPSAyNTU7ICAvLyBBbHBoYVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RyYXdDdHgucHV0SW1hZ2VEYXRhKGltZywgeCwgeSk7XG4gICAgICAgIHRoaXMuX2RhbWFnZSh4LCB5LCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgIH0sXG5cbiAgICBfYmdyeEltYWdlRGF0YTogZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGFyciwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBpbWcgPSB0aGlzLl9kcmF3Q3R4LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdmFyIGRhdGEgPSBpbWcuZGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBvZmZzZXQ7IGkgPCB3aWR0aCAqIGhlaWdodCAqIDQ7IGkgKz0gNCwgaiArPSA0KSB7XG4gICAgICAgICAgICBkYXRhW2ldICAgICA9IGFycltqICsgMl07XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGFycltqICsgMV07XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IGFycltqXTtcbiAgICAgICAgICAgIGRhdGFbaSArIDNdID0gMjU1OyAgLy8gQWxwaGFcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kcmF3Q3R4LnB1dEltYWdlRGF0YShpbWcsIHgsIHkpO1xuICAgICAgICB0aGlzLl9kYW1hZ2UoeCwgeSwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgX3JnYnhJbWFnZURhdGE6IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCkge1xuICAgICAgICAvLyBOQihkaXJlY3R4bWFuMTIpOiBhcnIgbXVzdCBiZSBhbiBUeXBlIEFycmF5IHZpZXdcbiAgICAgICAgdmFyIGltZztcbiAgICAgICAgaWYgKFNVUFBPUlRTX0lNQUdFREFUQV9DT05TVFJVQ1RPUikge1xuICAgICAgICAgICAgaW1nID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJyLmJ1ZmZlciwgYXJyLmJ5dGVPZmZzZXQsIHdpZHRoICogaGVpZ2h0ICogNCksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW1nID0gdGhpcy5fZHJhd0N0eC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBpbWcuZGF0YS5zZXQobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGFyci5idWZmZXIsIGFyci5ieXRlT2Zmc2V0LCB3aWR0aCAqIGhlaWdodCAqIDQpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kcmF3Q3R4LnB1dEltYWdlRGF0YShpbWcsIHgsIHkpO1xuICAgICAgICB0aGlzLl9kYW1hZ2UoeCwgeSwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgX3JlbmRlclFfcHVzaDogZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB0aGlzLl9yZW5kZXJRLnB1c2goYWN0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGNhbiBiZSByZW5kZXJlZCBpbW1lZGlhdGVseSBpdCB3aWxsIGJlLCBvdGhlcndpc2VcbiAgICAgICAgICAgIC8vIHRoZSBzY2FubmVyIHdpbGwgd2FpdCBmb3IgdGhlIHJlbGV2YW50IGV2ZW50XG4gICAgICAgICAgICB0aGlzLl9zY2FuX3JlbmRlclEoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfcmVzdW1lX3JlbmRlclE6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBcInRoaXNcIiBpcyB0aGUgb2JqZWN0IHRoYXQgaXMgcmVhZHksIG5vdCB0aGVcbiAgICAgICAgLy8gZGlzcGxheSBvYmplY3RcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fbm9WTkNfZGlzcGxheS5fcmVzdW1lX3JlbmRlclEpO1xuICAgICAgICB0aGlzLl9ub1ZOQ19kaXNwbGF5Ll9zY2FuX3JlbmRlclEoKTtcbiAgICB9LFxuXG4gICAgX3NjYW5fcmVuZGVyUTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVhZHkgPSB0cnVlO1xuICAgICAgICB3aGlsZSAocmVhZHkgJiYgdGhpcy5fcmVuZGVyUS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgYSA9IHRoaXMuX3JlbmRlclFbMF07XG4gICAgICAgICAgICBzd2l0Y2ggKGEudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZsaXAnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsaXAodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvcHknOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvcHlJbWFnZShhLm9sZF94LCBhLm9sZF95LCBhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxsJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxsUmVjdChhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQsIGEuY29sb3IsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdibGl0JzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGl0SW1hZ2UoYS54LCBhLnksIGEud2lkdGgsIGEuaGVpZ2h0LCBhLmRhdGEsIDAsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdibGl0UmdiJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGl0UmdiSW1hZ2UoYS54LCBhLnksIGEud2lkdGgsIGEuaGVpZ2h0LCBhLmRhdGEsIDAsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdibGl0UmdieCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxpdFJnYnhJbWFnZShhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQsIGEuZGF0YSwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ltZyc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLmltZy5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3SW1hZ2UoYS5pbWcsIGEueCwgYS55KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuaW1nLl9ub1ZOQ19kaXNwbGF5ID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9yZXN1bWVfcmVuZGVyUSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHdhaXQgZm9yIHRoaXMgaW1hZ2UgdG8gJ2xvYWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBrZWVwIHRoaW5ncyBpbi1vcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlYWR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyUS5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoID09PSAwICYmIHRoaXMuX2ZsdXNoaW5nKSB7XG4gICAgICAgICAgICB0aGlzLl9mbHVzaGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5vbmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLy8gQ2xhc3MgTWV0aG9kc1xuRGlzcGxheS5jaGFuZ2VDdXJzb3IgPSBmdW5jdGlvbiAodGFyZ2V0LCBwaXhlbHMsIG1hc2ssIGhvdHgsIGhvdHksIHcsIGgpIHtcbiAgICBpZiAoKHcgPT09IDApIHx8IChoID09PSAwKSkge1xuICAgICAgICB0YXJnZXQuc3R5bGUuY3Vyc29yID0gJ25vbmUnO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGN1ciA9IFtdXG4gICAgdmFyIHksIHg7XG4gICAgZm9yICh5ID0gMDsgeSA8IGg7IHkrKykge1xuICAgICAgICBmb3IgKHggPSAwOyB4IDwgdzsgeCsrKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0geSAqIE1hdGguY2VpbCh3IC8gOCkgKyBNYXRoLmZsb29yKHggLyA4KTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IChtYXNrW2lkeF0gPDwgKHggJSA4KSkgJiAweDgwID8gMjU1IDogMDtcbiAgICAgICAgICAgIGlkeCA9ICgodyAqIHkpICsgeCkgKiA0O1xuICAgICAgICAgICAgY3VyLnB1c2gocGl4ZWxzW2lkeCArIDJdKTsgLy8gcmVkXG4gICAgICAgICAgICBjdXIucHVzaChwaXhlbHNbaWR4ICsgMV0pOyAvLyBncmVlblxuICAgICAgICAgICAgY3VyLnB1c2gocGl4ZWxzW2lkeF0pOyAgICAgLy8gYmx1ZVxuICAgICAgICAgICAgY3VyLnB1c2goYWxwaGEpOyAgICAgICAgICAgLy8gYWxwaGFcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSB3O1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoO1xuXG4gICAgdmFyIGltZztcbiAgICBpZiAoU1VQUE9SVFNfSU1BR0VEQVRBX0NPTlNUUlVDVE9SKSB7XG4gICAgICAgIGltZyA9IG5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGN1ciksIHcsIGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGltZyA9IGN0eC5jcmVhdGVJbWFnZURhdGEodywgaCk7XG4gICAgICAgIGltZy5kYXRhLnNldChuZXcgVWludDhDbGFtcGVkQXJyYXkoY3VyKSk7XG4gICAgfVxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgdywgaCk7XG4gICAgY3R4LnB1dEltYWdlRGF0YShpbWcsIDAsIDApO1xuXG4gICAgdmFyIHVybCA9IGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgICB0YXJnZXQuc3R5bGUuY3Vyc29yID0gJ3VybCgnICsgdXJsICsgJyknICsgaG90eCArICcgJyArIGhvdHkgKyAnLCBkZWZhdWx0Jztcbn07XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxNyBQaWVycmUgT3NzbWFuIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICovXG5cbmV4cG9ydCB2YXIgZW5jb2RpbmdzID0ge1xuICAgIGVuY29kaW5nUmF3OiAwLFxuICAgIGVuY29kaW5nQ29weVJlY3Q6IDEsXG4gICAgZW5jb2RpbmdSUkU6IDIsXG4gICAgZW5jb2RpbmdIZXh0aWxlOiA1LFxuICAgIGVuY29kaW5nVGlnaHQ6IDcsXG5cbiAgICBwc2V1ZG9FbmNvZGluZ1F1YWxpdHlMZXZlbDk6IC0yMyxcbiAgICBwc2V1ZG9FbmNvZGluZ1F1YWxpdHlMZXZlbDA6IC0zMixcbiAgICBwc2V1ZG9FbmNvZGluZ0Rlc2t0b3BTaXplOiAtMjIzLFxuICAgIHBzZXVkb0VuY29kaW5nTGFzdFJlY3Q6IC0yMjQsXG4gICAgcHNldWRvRW5jb2RpbmdDdXJzb3I6IC0yMzksXG4gICAgcHNldWRvRW5jb2RpbmdRRU1VRXh0ZW5kZWRLZXlFdmVudDogLTI1OCxcbiAgICBwc2V1ZG9FbmNvZGluZ1RpZ2h0UE5HOiAtMjYwLFxuICAgIHBzZXVkb0VuY29kaW5nRXh0ZW5kZWREZXNrdG9wU2l6ZTogLTMwOCxcbiAgICBwc2V1ZG9FbmNvZGluZ1h2cDogLTMwOSxcbiAgICBwc2V1ZG9FbmNvZGluZ0ZlbmNlOiAtMzEyLFxuICAgIHBzZXVkb0VuY29kaW5nQ29udGludW91c1VwZGF0ZXM6IC0zMTMsXG4gICAgcHNldWRvRW5jb2RpbmdDb21wcmVzc0xldmVsOTogLTI0NyxcbiAgICBwc2V1ZG9FbmNvZGluZ0NvbXByZXNzTGV2ZWwwOiAtMjU2LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kaW5nTmFtZShudW0pIHtcbiAgICBzd2l0Y2ggKG51bSkge1xuICAgICAgICBjYXNlIGVuY29kaW5ncy5lbmNvZGluZ1JhdzogICAgICByZXR1cm4gXCJSYXdcIjtcbiAgICAgICAgY2FzZSBlbmNvZGluZ3MuZW5jb2RpbmdDb3B5UmVjdDogcmV0dXJuIFwiQ29weVJlY3RcIjtcbiAgICAgICAgY2FzZSBlbmNvZGluZ3MuZW5jb2RpbmdSUkU6ICAgICAgcmV0dXJuIFwiUlJFXCI7XG4gICAgICAgIGNhc2UgZW5jb2RpbmdzLmVuY29kaW5nSGV4dGlsZTogIHJldHVybiBcIkhleHRpbGVcIjtcbiAgICAgICAgY2FzZSBlbmNvZGluZ3MuZW5jb2RpbmdUaWdodDogICAgcmV0dXJuIFwiVGlnaHRcIjtcbiAgICAgICAgZGVmYXVsdDogICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiW3Vua25vd24gZW5jb2RpbmcgXCIgKyBudW0gKyBcIl1cIjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBpbmZsYXRlSW5pdCwgaW5mbGF0ZSwgaW5mbGF0ZVJlc2V0IH0gZnJvbSBcIi4uL3ZlbmRvci9wYWtvL2xpYi96bGliL2luZmxhdGUuanNcIjtcbmltcG9ydCBaU3RyZWFtIGZyb20gXCIuLi92ZW5kb3IvcGFrby9saWIvemxpYi96c3RyZWFtLmpzXCI7XG5cbkluZmxhdGUucHJvdG90eXBlID0ge1xuICAgIGluZmxhdGU6IGZ1bmN0aW9uIChkYXRhLCBmbHVzaCwgZXhwZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5zdHJtLmlucHV0ID0gZGF0YTtcbiAgICAgICAgdGhpcy5zdHJtLmF2YWlsX2luID0gdGhpcy5zdHJtLmlucHV0Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5zdHJtLm5leHRfaW4gPSAwO1xuICAgICAgICB0aGlzLnN0cm0ubmV4dF9vdXQgPSAwO1xuXG4gICAgICAgIC8vIHJlc2l6ZSBvdXIgb3V0cHV0IGJ1ZmZlciBpZiBpdCdzIHRvbyBzbWFsbFxuICAgICAgICAvLyAod2UgY291bGQganVzdCB1c2UgbXVsdGlwbGUgY2h1bmtzLCBidXQgdGhhdCB3b3VsZCBjYXVzZSBhbiBleHRyYVxuICAgICAgICAvLyBhbGxvY2F0aW9uIGVhY2ggdGltZSB0byBmbGF0dGVuIHRoZSBjaHVua3MpXG4gICAgICAgIGlmIChleHBlY3RlZCA+IHRoaXMuY2h1bmtTaXplKSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rU2l6ZSA9IGV4cGVjdGVkO1xuICAgICAgICAgICAgdGhpcy5zdHJtLm91dHB1dCA9IG5ldyBVaW50OEFycmF5KHRoaXMuY2h1bmtTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RybS5hdmFpbF9vdXQgPSB0aGlzLmNodW5rU2l6ZTtcblxuICAgICAgICBpbmZsYXRlKHRoaXMuc3RybSwgZmx1c2gpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh0aGlzLnN0cm0ub3V0cHV0LmJ1ZmZlciwgMCwgdGhpcy5zdHJtLm5leHRfb3V0KTtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5mbGF0ZVJlc2V0KHRoaXMuc3RybSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW5mbGF0ZSgpIHtcbiAgICB0aGlzLnN0cm0gPSBuZXcgWlN0cmVhbSgpO1xuICAgIHRoaXMuY2h1bmtTaXplID0gMTAyNCAqIDEwICogMTA7XG4gICAgdGhpcy5zdHJtLm91dHB1dCA9IG5ldyBVaW50OEFycmF5KHRoaXMuY2h1bmtTaXplKTtcbiAgICB0aGlzLndpbmRvd0JpdHMgPSA1O1xuXG4gICAgaW5mbGF0ZUluaXQodGhpcy5zdHJtLCB0aGlzLndpbmRvd0JpdHMpO1xufTtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDE3IFBpZXJyZSBPc3NtYW4gZm9yIENlbmRpbyBBQlxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCBvciBhbnkgbGF0ZXIgdmVyc2lvbiAoc2VlIExJQ0VOU0UudHh0KVxuICovXG5cbmltcG9ydCBLZXlUYWJsZSBmcm9tIFwiLi9rZXlzeW0uanNcIjtcblxuLypcbiAqIE1hcHBpbmcgYmV0d2VlbiBIVE1MIGtleSB2YWx1ZXMgYW5kIFZOQy9YMTEga2V5c3ltcyBmb3IgXCJzcGVjaWFsXCJcbiAqIGtleXMgdGhhdCBjYW5ub3QgYmUgaGFuZGxlZCB2aWEgdGhlaXIgVW5pY29kZSBjb2RlcG9pbnQuXG4gKlxuICogU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi91aWV2ZW50cy1rZXkvIGZvciBwb3NzaWJsZSB2YWx1ZXMuXG4gKi9cblxudmFyIERPTUtleVRhYmxlID0ge307XG5cbmZ1bmN0aW9uIGFkZFN0YW5kYXJkKGtleSwgc3RhbmRhcmQpXG57XG4gICAgaWYgKHN0YW5kYXJkID09PSB1bmRlZmluZWQpIHRocm93IFwiVW5kZWZpbmVkIGtleXN5bSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiO1xuICAgIGlmIChrZXkgaW4gRE9NS2V5VGFibGUpIHRocm93IFwiRHVwbGljYXRlIGVudHJ5IGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCI7XG4gICAgRE9NS2V5VGFibGVba2V5XSA9IFtzdGFuZGFyZCwgc3RhbmRhcmQsIHN0YW5kYXJkLCBzdGFuZGFyZF07XG59XG5cbmZ1bmN0aW9uIGFkZExlZnRSaWdodChrZXksIGxlZnQsIHJpZ2h0KVxue1xuICAgIGlmIChsZWZ0ID09PSB1bmRlZmluZWQpIHRocm93IFwiVW5kZWZpbmVkIGtleXN5bSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiO1xuICAgIGlmIChyaWdodCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBcIlVuZGVmaW5lZCBrZXlzeW0gZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIjtcbiAgICBpZiAoa2V5IGluIERPTUtleVRhYmxlKSB0aHJvdyBcIkR1cGxpY2F0ZSBlbnRyeSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiO1xuICAgIERPTUtleVRhYmxlW2tleV0gPSBbbGVmdCwgbGVmdCwgcmlnaHQsIGxlZnRdO1xufVxuXG5mdW5jdGlvbiBhZGROdW1wYWQoa2V5LCBzdGFuZGFyZCwgbnVtcGFkKVxue1xuICAgIGlmIChzdGFuZGFyZCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBcIlVuZGVmaW5lZCBrZXlzeW0gZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIjtcbiAgICBpZiAobnVtcGFkID09PSB1bmRlZmluZWQpIHRocm93IFwiVW5kZWZpbmVkIGtleXN5bSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiO1xuICAgIGlmIChrZXkgaW4gRE9NS2V5VGFibGUpIHRocm93IFwiRHVwbGljYXRlIGVudHJ5IGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCI7XG4gICAgRE9NS2V5VGFibGVba2V5XSA9IFtzdGFuZGFyZCwgc3RhbmRhcmQsIHN0YW5kYXJkLCBudW1wYWRdO1xufVxuXG4vLyAyLjIuIE1vZGlmaWVyIEtleXNcblxuYWRkTGVmdFJpZ2h0KFwiQWx0XCIsIEtleVRhYmxlLlhLX0FsdF9MLCBLZXlUYWJsZS5YS19BbHRfUik7XG5hZGRTdGFuZGFyZChcIkFsdEdyYXBoXCIsIEtleVRhYmxlLlhLX0lTT19MZXZlbDNfU2hpZnQpO1xuYWRkU3RhbmRhcmQoXCJDYXBzTG9ja1wiLCBLZXlUYWJsZS5YS19DYXBzX0xvY2spO1xuYWRkTGVmdFJpZ2h0KFwiQ29udHJvbFwiLCBLZXlUYWJsZS5YS19Db250cm9sX0wsIEtleVRhYmxlLlhLX0NvbnRyb2xfUik7XG4vLyAtIEZuXG4vLyAtIEZuTG9ja1xuYWRkTGVmdFJpZ2h0KFwiSHlwZXJcIiwgS2V5VGFibGUuWEtfU3VwZXJfTCwgS2V5VGFibGUuWEtfU3VwZXJfUik7XG5hZGRMZWZ0UmlnaHQoXCJNZXRhXCIsIEtleVRhYmxlLlhLX1N1cGVyX0wsIEtleVRhYmxlLlhLX1N1cGVyX1IpO1xuYWRkU3RhbmRhcmQoXCJOdW1Mb2NrXCIsIEtleVRhYmxlLlhLX051bV9Mb2NrKTtcbmFkZFN0YW5kYXJkKFwiU2Nyb2xsTG9ja1wiLCBLZXlUYWJsZS5YS19TY3JvbGxfTG9jayk7XG5hZGRMZWZ0UmlnaHQoXCJTaGlmdFwiLCBLZXlUYWJsZS5YS19TaGlmdF9MLCBLZXlUYWJsZS5YS19TaGlmdF9SKTtcbmFkZExlZnRSaWdodChcIlN1cGVyXCIsIEtleVRhYmxlLlhLX1N1cGVyX0wsIEtleVRhYmxlLlhLX1N1cGVyX1IpO1xuLy8gLSBTeW1ib2xcbi8vIC0gU3ltYm9sTG9ja1xuXG4vLyAyLjMuIFdoaXRlc3BhY2UgS2V5c1xuXG5hZGROdW1wYWQoXCJFbnRlclwiLCBLZXlUYWJsZS5YS19SZXR1cm4sIEtleVRhYmxlLlhLX0tQX0VudGVyKTtcbmFkZFN0YW5kYXJkKFwiVGFiXCIsIEtleVRhYmxlLlhLX1RhYik7XG5hZGROdW1wYWQoXCIgXCIsIEtleVRhYmxlLlhLX3NwYWNlLCBLZXlUYWJsZS5YS19LUF9TcGFjZSk7XG5cbi8vIDIuNC4gTmF2aWdhdGlvbiBLZXlzXG5cbmFkZE51bXBhZChcIkFycm93RG93blwiLCBLZXlUYWJsZS5YS19Eb3duLCBLZXlUYWJsZS5YS19LUF9Eb3duKTtcbmFkZE51bXBhZChcIkFycm93VXBcIiwgS2V5VGFibGUuWEtfVXAsIEtleVRhYmxlLlhLX0tQX1VwKTtcbmFkZE51bXBhZChcIkFycm93TGVmdFwiLCBLZXlUYWJsZS5YS19MZWZ0LCBLZXlUYWJsZS5YS19LUF9MZWZ0KTtcbmFkZE51bXBhZChcIkFycm93UmlnaHRcIiwgS2V5VGFibGUuWEtfUmlnaHQsIEtleVRhYmxlLlhLX0tQX1JpZ2h0KTtcbmFkZE51bXBhZChcIkVuZFwiLCBLZXlUYWJsZS5YS19FbmQsIEtleVRhYmxlLlhLX0tQX0VuZCk7XG5hZGROdW1wYWQoXCJIb21lXCIsIEtleVRhYmxlLlhLX0hvbWUsIEtleVRhYmxlLlhLX0tQX0hvbWUpO1xuYWRkTnVtcGFkKFwiUGFnZURvd25cIiwgS2V5VGFibGUuWEtfTmV4dCwgS2V5VGFibGUuWEtfS1BfTmV4dCk7XG5hZGROdW1wYWQoXCJQYWdlVXBcIiwgS2V5VGFibGUuWEtfUHJpb3IsIEtleVRhYmxlLlhLX0tQX1ByaW9yKTtcblxuLy8gMi41LiBFZGl0aW5nIEtleXNcblxuYWRkU3RhbmRhcmQoXCJCYWNrc3BhY2VcIiwgS2V5VGFibGUuWEtfQmFja1NwYWNlKTtcbmFkZFN0YW5kYXJkKFwiQ2xlYXJcIiwgS2V5VGFibGUuWEtfQ2xlYXIpO1xuYWRkU3RhbmRhcmQoXCJDb3B5XCIsIEtleVRhYmxlLlhGODZYS19Db3B5KTtcbi8vIC0gQ3JTZWxcbmFkZFN0YW5kYXJkKFwiQ3V0XCIsIEtleVRhYmxlLlhGODZYS19DdXQpO1xuYWRkTnVtcGFkKFwiRGVsZXRlXCIsIEtleVRhYmxlLlhLX0RlbGV0ZSwgS2V5VGFibGUuWEtfS1BfRGVsZXRlKTtcbi8vIC0gRXJhc2VFb2Zcbi8vIC0gRXhTZWxcbmFkZE51bXBhZChcIkluc2VydFwiLCBLZXlUYWJsZS5YS19JbnNlcnQsIEtleVRhYmxlLlhLX0tQX0luc2VydCk7XG5hZGRTdGFuZGFyZChcIlBhc3RlXCIsIEtleVRhYmxlLlhGODZYS19QYXN0ZSk7XG5hZGRTdGFuZGFyZChcIlJlZG9cIiwgS2V5VGFibGUuWEtfUmVkbyk7XG5hZGRTdGFuZGFyZChcIlVuZG9cIiwgS2V5VGFibGUuWEtfVW5kbyk7XG5cbi8vIDIuNi4gVUkgS2V5c1xuXG4vLyAtIEFjY2VwdFxuLy8gLSBBZ2FpbiAoY291bGQganVzdCBiZSBYS19SZWRvKVxuLy8gLSBBdHRuXG5hZGRTdGFuZGFyZChcIkNhbmNlbFwiLCBLZXlUYWJsZS5YS19DYW5jZWwpO1xuYWRkU3RhbmRhcmQoXCJDb250ZXh0TWVudVwiLCBLZXlUYWJsZS5YS19NZW51KTtcbmFkZFN0YW5kYXJkKFwiRXNjYXBlXCIsIEtleVRhYmxlLlhLX0VzY2FwZSk7XG5hZGRTdGFuZGFyZChcIkV4ZWN1dGVcIiwgS2V5VGFibGUuWEtfRXhlY3V0ZSk7XG5hZGRTdGFuZGFyZChcIkZpbmRcIiwgS2V5VGFibGUuWEtfRmluZCk7XG5hZGRTdGFuZGFyZChcIkhlbHBcIiwgS2V5VGFibGUuWEtfSGVscCk7XG5hZGRTdGFuZGFyZChcIlBhdXNlXCIsIEtleVRhYmxlLlhLX1BhdXNlKTtcbi8vIC0gUGxheVxuLy8gLSBQcm9wc1xuYWRkU3RhbmRhcmQoXCJTZWxlY3RcIiwgS2V5VGFibGUuWEtfU2VsZWN0KTtcbmFkZFN0YW5kYXJkKFwiWm9vbUluXCIsIEtleVRhYmxlLlhGODZYS19ab29tSW4pO1xuYWRkU3RhbmRhcmQoXCJab29tT3V0XCIsIEtleVRhYmxlLlhGODZYS19ab29tT3V0KTtcblxuLy8gMi43LiBEZXZpY2UgS2V5c1xuXG5hZGRTdGFuZGFyZChcIkJyaWdodG5lc3NEb3duXCIsIEtleVRhYmxlLlhGODZYS19Nb25CcmlnaHRuZXNzRG93bik7XG5hZGRTdGFuZGFyZChcIkJyaWdodG5lc3NVcFwiLCBLZXlUYWJsZS5YRjg2WEtfTW9uQnJpZ2h0bmVzc1VwKTtcbmFkZFN0YW5kYXJkKFwiRWplY3RcIiwgS2V5VGFibGUuWEY4NlhLX0VqZWN0KTtcbmFkZFN0YW5kYXJkKFwiTG9nT2ZmXCIsIEtleVRhYmxlLlhGODZYS19Mb2dPZmYpO1xuYWRkU3RhbmRhcmQoXCJQb3dlclwiLCBLZXlUYWJsZS5YRjg2WEtfUG93ZXJPZmYpO1xuYWRkU3RhbmRhcmQoXCJQb3dlck9mZlwiLCBLZXlUYWJsZS5YRjg2WEtfUG93ZXJEb3duKTtcbmFkZFN0YW5kYXJkKFwiUHJpbnRTY3JlZW5cIiwgS2V5VGFibGUuWEtfUHJpbnQpO1xuYWRkU3RhbmRhcmQoXCJIaWJlcm5hdGVcIiwgS2V5VGFibGUuWEY4NlhLX0hpYmVybmF0ZSk7XG5hZGRTdGFuZGFyZChcIlN0YW5kYnlcIiwgS2V5VGFibGUuWEY4NlhLX1N0YW5kYnkpO1xuYWRkU3RhbmRhcmQoXCJXYWtlVXBcIiwgS2V5VGFibGUuWEY4NlhLX1dha2VVcCk7XG5cbi8vIDIuOC4gSU1FIGFuZCBDb21wb3NpdGlvbiBLZXlzXG5cbmFkZFN0YW5kYXJkKFwiQWxsQ2FuZGlkYXRlc1wiLCBLZXlUYWJsZS5YS19NdWx0aXBsZUNhbmRpZGF0ZSk7XG5hZGRTdGFuZGFyZChcIkFscGhhbnVtZXJpY1wiLCBLZXlUYWJsZS5YS19FaXN1X1NoaWZ0KTsgLy8gY291bGQgYWxzbyBiZSBfRWlzdV9Ub2dnbGVcbmFkZFN0YW5kYXJkKFwiQ29kZUlucHV0XCIsIEtleVRhYmxlLlhLX0NvZGVpbnB1dCk7XG5hZGRTdGFuZGFyZChcIkNvbXBvc2VcIiwgS2V5VGFibGUuWEtfTXVsdGlfa2V5KTtcbmFkZFN0YW5kYXJkKFwiQ29udmVydFwiLCBLZXlUYWJsZS5YS19IZW5rYW4pO1xuLy8gLSBEZWFkXG4vLyAtIEZpbmFsTW9kZVxuYWRkU3RhbmRhcmQoXCJHcm91cEZpcnN0XCIsIEtleVRhYmxlLlhLX0lTT19GaXJzdF9Hcm91cCk7XG5hZGRTdGFuZGFyZChcIkdyb3VwTGFzdFwiLCBLZXlUYWJsZS5YS19JU09fTGFzdF9Hcm91cCk7XG5hZGRTdGFuZGFyZChcIkdyb3VwTmV4dFwiLCBLZXlUYWJsZS5YS19JU09fTmV4dF9Hcm91cCk7XG5hZGRTdGFuZGFyZChcIkdyb3VwUHJldmlvdXNcIiwgS2V5VGFibGUuWEtfSVNPX1ByZXZfR3JvdXApO1xuLy8gLSBNb2RlQ2hhbmdlIChYS19Nb2RlX3N3aXRjaCBpcyBvZnRlbiB1c2VkIGZvciBBbHRHcilcbi8vIC0gTmV4dENhbmRpZGF0ZVxuYWRkU3RhbmRhcmQoXCJOb25Db252ZXJ0XCIsIEtleVRhYmxlLlhLX011aGVua2FuKTtcbmFkZFN0YW5kYXJkKFwiUHJldmlvdXNDYW5kaWRhdGVcIiwgS2V5VGFibGUuWEtfUHJldmlvdXNDYW5kaWRhdGUpO1xuLy8gLSBQcm9jZXNzXG5hZGRTdGFuZGFyZChcIlNpbmdsZUNhbmRpZGF0ZVwiLCBLZXlUYWJsZS5YS19TaW5nbGVDYW5kaWRhdGUpO1xuYWRkU3RhbmRhcmQoXCJIYW5ndWxNb2RlXCIsIEtleVRhYmxlLlhLX0hhbmd1bCk7XG5hZGRTdGFuZGFyZChcIkhhbmphTW9kZVwiLCBLZXlUYWJsZS5YS19IYW5ndWxfSGFuamEpO1xuYWRkU3RhbmRhcmQoXCJKdW5qdWFNb2RlXCIsIEtleVRhYmxlLlhLX0hhbmd1bF9KZW9uamEpO1xuYWRkU3RhbmRhcmQoXCJFaXN1XCIsIEtleVRhYmxlLlhLX0Vpc3VfdG9nZ2xlKTtcbmFkZFN0YW5kYXJkKFwiSGFua2FrdVwiLCBLZXlUYWJsZS5YS19IYW5rYWt1KTtcbmFkZFN0YW5kYXJkKFwiSGlyYWdhbmFcIiwgS2V5VGFibGUuWEtfSGlyYWdhbmEpO1xuYWRkU3RhbmRhcmQoXCJIaXJhZ2FuYUthdGFrYW5hXCIsIEtleVRhYmxlLlhLX0hpcmFnYW5hX0thdGFrYW5hKTtcbmFkZFN0YW5kYXJkKFwiS2FuYU1vZGVcIiwgS2V5VGFibGUuWEtfS2FuYV9TaGlmdCk7IC8vIGNvdWxkIGFsc28gYmUgX0thbmFfTG9ja1xuYWRkU3RhbmRhcmQoXCJLYW5qaU1vZGVcIiwgS2V5VGFibGUuWEtfS2FuamkpO1xuYWRkU3RhbmRhcmQoXCJLYXRha2FuYVwiLCBLZXlUYWJsZS5YS19LYXRha2FuYSk7XG5hZGRTdGFuZGFyZChcIlJvbWFqaVwiLCBLZXlUYWJsZS5YS19Sb21hamkpO1xuYWRkU3RhbmRhcmQoXCJaZW5rYWt1XCIsIEtleVRhYmxlLlhLX1plbmtha3UpO1xuYWRkU3RhbmRhcmQoXCJaZW5rYWt1SGFuYWt1XCIsIEtleVRhYmxlLlhLX1plbmtha3VfSGFua2FrdSk7XG5cbi8vIDIuOS4gR2VuZXJhbC1QdXJwb3NlIEZ1bmN0aW9uIEtleXNcblxuYWRkU3RhbmRhcmQoXCJGMVwiLCBLZXlUYWJsZS5YS19GMSk7XG5hZGRTdGFuZGFyZChcIkYyXCIsIEtleVRhYmxlLlhLX0YyKTtcbmFkZFN0YW5kYXJkKFwiRjNcIiwgS2V5VGFibGUuWEtfRjMpO1xuYWRkU3RhbmRhcmQoXCJGNFwiLCBLZXlUYWJsZS5YS19GNCk7XG5hZGRTdGFuZGFyZChcIkY1XCIsIEtleVRhYmxlLlhLX0Y1KTtcbmFkZFN0YW5kYXJkKFwiRjZcIiwgS2V5VGFibGUuWEtfRjYpO1xuYWRkU3RhbmRhcmQoXCJGN1wiLCBLZXlUYWJsZS5YS19GNyk7XG5hZGRTdGFuZGFyZChcIkY4XCIsIEtleVRhYmxlLlhLX0Y4KTtcbmFkZFN0YW5kYXJkKFwiRjlcIiwgS2V5VGFibGUuWEtfRjkpO1xuYWRkU3RhbmRhcmQoXCJGMTBcIiwgS2V5VGFibGUuWEtfRjEwKTtcbmFkZFN0YW5kYXJkKFwiRjExXCIsIEtleVRhYmxlLlhLX0YxMSk7XG5hZGRTdGFuZGFyZChcIkYxMlwiLCBLZXlUYWJsZS5YS19GMTIpO1xuYWRkU3RhbmRhcmQoXCJGMTNcIiwgS2V5VGFibGUuWEtfRjEzKTtcbmFkZFN0YW5kYXJkKFwiRjE0XCIsIEtleVRhYmxlLlhLX0YxNCk7XG5hZGRTdGFuZGFyZChcIkYxNVwiLCBLZXlUYWJsZS5YS19GMTUpO1xuYWRkU3RhbmRhcmQoXCJGMTZcIiwgS2V5VGFibGUuWEtfRjE2KTtcbmFkZFN0YW5kYXJkKFwiRjE3XCIsIEtleVRhYmxlLlhLX0YxNyk7XG5hZGRTdGFuZGFyZChcIkYxOFwiLCBLZXlUYWJsZS5YS19GMTgpO1xuYWRkU3RhbmRhcmQoXCJGMTlcIiwgS2V5VGFibGUuWEtfRjE5KTtcbmFkZFN0YW5kYXJkKFwiRjIwXCIsIEtleVRhYmxlLlhLX0YyMCk7XG5hZGRTdGFuZGFyZChcIkYyMVwiLCBLZXlUYWJsZS5YS19GMjEpO1xuYWRkU3RhbmRhcmQoXCJGMjJcIiwgS2V5VGFibGUuWEtfRjIyKTtcbmFkZFN0YW5kYXJkKFwiRjIzXCIsIEtleVRhYmxlLlhLX0YyMyk7XG5hZGRTdGFuZGFyZChcIkYyNFwiLCBLZXlUYWJsZS5YS19GMjQpO1xuYWRkU3RhbmRhcmQoXCJGMjVcIiwgS2V5VGFibGUuWEtfRjI1KTtcbmFkZFN0YW5kYXJkKFwiRjI2XCIsIEtleVRhYmxlLlhLX0YyNik7XG5hZGRTdGFuZGFyZChcIkYyN1wiLCBLZXlUYWJsZS5YS19GMjcpO1xuYWRkU3RhbmRhcmQoXCJGMjhcIiwgS2V5VGFibGUuWEtfRjI4KTtcbmFkZFN0YW5kYXJkKFwiRjI5XCIsIEtleVRhYmxlLlhLX0YyOSk7XG5hZGRTdGFuZGFyZChcIkYzMFwiLCBLZXlUYWJsZS5YS19GMzApO1xuYWRkU3RhbmRhcmQoXCJGMzFcIiwgS2V5VGFibGUuWEtfRjMxKTtcbmFkZFN0YW5kYXJkKFwiRjMyXCIsIEtleVRhYmxlLlhLX0YzMik7XG5hZGRTdGFuZGFyZChcIkYzM1wiLCBLZXlUYWJsZS5YS19GMzMpO1xuYWRkU3RhbmRhcmQoXCJGMzRcIiwgS2V5VGFibGUuWEtfRjM0KTtcbmFkZFN0YW5kYXJkKFwiRjM1XCIsIEtleVRhYmxlLlhLX0YzNSk7XG4vLyAtIFNvZnQxLi4uXG5cbi8vIDIuMTAuIE11bHRpbWVkaWEgS2V5c1xuXG4vLyAtIENoYW5uZWxEb3duXG4vLyAtIENoYW5uZWxVcFxuYWRkU3RhbmRhcmQoXCJDbG9zZVwiLCBLZXlUYWJsZS5YRjg2WEtfQ2xvc2UpO1xuYWRkU3RhbmRhcmQoXCJNYWlsRm9yd2FyZFwiLCBLZXlUYWJsZS5YRjg2WEtfTWFpbEZvcndhcmQpO1xuYWRkU3RhbmRhcmQoXCJNYWlsUmVwbHlcIiwgS2V5VGFibGUuWEY4NlhLX1JlcGx5KTtcbmFkZFN0YW5kYXJkKFwiTWFpblNlbmRcIiwgS2V5VGFibGUuWEY4NlhLX1NlbmQpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYUZhc3RGb3J3YXJkXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb0ZvcndhcmQpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVBhdXNlXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1BhdXNlKTtcbmFkZFN0YW5kYXJkKFwiTWVkaWFQbGF5XCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1BsYXkpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVJlY29yZFwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9SZWNvcmQpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVJld2luZFwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9SZXdpbmQpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVN0b3BcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvU3RvcCk7XG5hZGRTdGFuZGFyZChcIk1lZGlhVHJhY2tOZXh0XCIsIEtleVRhYmxlLlhGODZYS19BdWRpb05leHQpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVRyYWNrUHJldmlvdXNcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvUHJldik7XG5hZGRTdGFuZGFyZChcIk5ld1wiLCBLZXlUYWJsZS5YRjg2WEtfTmV3KTtcbmFkZFN0YW5kYXJkKFwiT3BlblwiLCBLZXlUYWJsZS5YRjg2WEtfT3Blbik7XG5hZGRTdGFuZGFyZChcIlByaW50XCIsIEtleVRhYmxlLlhLX1ByaW50KTtcbmFkZFN0YW5kYXJkKFwiU2F2ZVwiLCBLZXlUYWJsZS5YRjg2WEtfU2F2ZSk7XG5hZGRTdGFuZGFyZChcIlNwZWxsQ2hlY2tcIiwgS2V5VGFibGUuWEY4NlhLX1NwZWxsKTtcblxuLy8gMi4xMS4gTXVsdGltZWRpYSBOdW1wYWQgS2V5c1xuXG4vLyAtIEtleTExXG4vLyAtIEtleTEyXG5cbi8vIDIuMTIuIEF1ZGlvIEtleXNcblxuLy8gLSBBdWRpb0JhbGFuY2VMZWZ0XG4vLyAtIEF1ZGlvQmFsYW5jZVJpZ2h0XG4vLyAtIEF1ZGlvQmFzc0Rvd25cbi8vIC0gQXVkaW9CYXNzQm9vc3REb3duXG4vLyAtIEF1ZGlvQmFzc0Jvb3N0VG9nZ2xlXG4vLyAtIEF1ZGlvQmFzc0Jvb3N0VXBcbi8vIC0gQXVkaW9CYXNzVXBcbi8vIC0gQXVkaW9GYWRlckZyb250XG4vLyAtIEF1ZGlvRmFkZXJSZWFyXG4vLyAtIEF1ZGlvU3Vycm91bmRNb2RlTmV4dFxuLy8gLSBBdWRpb1RyZWJsZURvd25cbi8vIC0gQXVkaW9UcmVibGVVcFxuYWRkU3RhbmRhcmQoXCJBdWRpb1ZvbHVtZURvd25cIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvTG93ZXJWb2x1bWUpO1xuYWRkU3RhbmRhcmQoXCJBdWRpb1ZvbHVtZVVwXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1JhaXNlVm9sdW1lKTtcbmFkZFN0YW5kYXJkKFwiQXVkaW9Wb2x1bWVNdXRlXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb011dGUpO1xuLy8gLSBNaWNyb3Bob25lVG9nZ2xlXG4vLyAtIE1pY3JvcGhvbmVWb2x1bWVEb3duXG4vLyAtIE1pY3JvcGhvbmVWb2x1bWVVcFxuYWRkU3RhbmRhcmQoXCJNaWNyb3Bob25lVm9sdW1lTXV0ZVwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9NaWNNdXRlKTtcblxuLy8gMi4xMy4gU3BlZWNoIEtleXNcblxuLy8gLSBTcGVlY2hDb3JyZWN0aW9uTGlzdFxuLy8gLSBTcGVlY2hJbnB1dFRvZ2dsZVxuXG4vLyAyLjE0LiBBcHBsaWNhdGlvbiBLZXlzXG5cbmFkZFN0YW5kYXJkKFwiTGF1bmNoQ2FsY3VsYXRvclwiLCBLZXlUYWJsZS5YRjg2WEtfQ2FsY3VsYXRvcik7XG5hZGRTdGFuZGFyZChcIkxhdW5jaENhbGVuZGFyXCIsIEtleVRhYmxlLlhGODZYS19DYWxlbmRhcik7XG5hZGRTdGFuZGFyZChcIkxhdW5jaE1haWxcIiwgS2V5VGFibGUuWEY4NlhLX01haWwpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hNZWRpYVBsYXllclwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9NZWRpYSk7XG5hZGRTdGFuZGFyZChcIkxhdW5jaE11c2ljUGxheWVyXCIsIEtleVRhYmxlLlhGODZYS19NdXNpYyk7XG5hZGRTdGFuZGFyZChcIkxhdW5jaE15Q29tcHV0ZXJcIiwgS2V5VGFibGUuWEY4NlhLX015Q29tcHV0ZXIpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hQaG9uZVwiLCBLZXlUYWJsZS5YRjg2WEtfUGhvbmUpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hTY3JlZW5TYXZlclwiLCBLZXlUYWJsZS5YRjg2WEtfU2NyZWVuU2F2ZXIpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hTcHJlYWRzaGVldFwiLCBLZXlUYWJsZS5YRjg2WEtfRXhjZWwpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hXZWJCcm93c2VyXCIsIEtleVRhYmxlLlhGODZYS19XV1cpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hXZWJDYW1cIiwgS2V5VGFibGUuWEY4NlhLX1dlYkNhbSk7XG5hZGRTdGFuZGFyZChcIkxhdW5jaFdvcmRQcm9jZXNzb3JcIiwgS2V5VGFibGUuWEY4NlhLX1dvcmQpO1xuXG4vLyAyLjE1LiBCcm93c2VyIEtleXNcblxuYWRkU3RhbmRhcmQoXCJCcm93c2VyQmFja1wiLCBLZXlUYWJsZS5YRjg2WEtfQmFjayk7XG5hZGRTdGFuZGFyZChcIkJyb3dzZXJGYXZvcml0ZXNcIiwgS2V5VGFibGUuWEY4NlhLX0Zhdm9yaXRlcyk7XG5hZGRTdGFuZGFyZChcIkJyb3dzZXJGb3J3YXJkXCIsIEtleVRhYmxlLlhGODZYS19Gb3J3YXJkKTtcbmFkZFN0YW5kYXJkKFwiQnJvd3NlckhvbWVcIiwgS2V5VGFibGUuWEY4NlhLX0hvbWVQYWdlKTtcbmFkZFN0YW5kYXJkKFwiQnJvd3NlclJlZnJlc2hcIiwgS2V5VGFibGUuWEY4NlhLX1JlZnJlc2gpO1xuYWRkU3RhbmRhcmQoXCJCcm93c2VyU2VhcmNoXCIsIEtleVRhYmxlLlhGODZYS19TZWFyY2gpO1xuYWRkU3RhbmRhcmQoXCJCcm93c2VyU3RvcFwiLCBLZXlUYWJsZS5YRjg2WEtfU3RvcCk7XG5cbi8vIDIuMTYuIE1vYmlsZSBQaG9uZSBLZXlzXG5cbi8vIC0gQSB3aG9sZSBidW5jaC4uLlxuXG4vLyAyLjE3LiBUViBLZXlzXG5cbi8vIC0gQSB3aG9sZSBidW5jaC4uLlxuXG4vLyAyLjE4LiBNZWRpYSBDb250cm9sbGVyIEtleXNcblxuLy8gLSBBIHdob2xlIGJ1bmNoLi4uXG5hZGRTdGFuZGFyZChcIkRpbW1lclwiLCBLZXlUYWJsZS5YRjg2WEtfQnJpZ2h0bmVzc0FkanVzdCk7XG5hZGRTdGFuZGFyZChcIk1lZGlhQXVkaW9UcmFja1wiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9DeWNsZVRyYWNrKTtcbmFkZFN0YW5kYXJkKFwiUmFuZG9tVG9nZ2xlXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1JhbmRvbVBsYXkpO1xuYWRkU3RhbmRhcmQoXCJTcGxpdFNjcmVlblRvZ2dsZVwiLCBLZXlUYWJsZS5YRjg2WEtfU3BsaXRTY3JlZW4pO1xuYWRkU3RhbmRhcmQoXCJTdWJ0aXRsZVwiLCBLZXlUYWJsZS5YRjg2WEtfU3VidGl0bGUpO1xuYWRkU3RhbmRhcmQoXCJWaWRlb01vZGVOZXh0XCIsIEtleVRhYmxlLlhGODZYS19OZXh0X1ZNb2RlKTtcblxuLy8gRXh0cmE6IE51bXBhZFxuXG5hZGROdW1wYWQoXCI9XCIsIEtleVRhYmxlLlhLX2VxdWFsLCBLZXlUYWJsZS5YS19LUF9FcXVhbCk7XG5hZGROdW1wYWQoXCIrXCIsIEtleVRhYmxlLlhLX3BsdXMsIEtleVRhYmxlLlhLX0tQX0FkZCk7XG5hZGROdW1wYWQoXCItXCIsIEtleVRhYmxlLlhLX21pbnVzLCBLZXlUYWJsZS5YS19LUF9TdWJ0cmFjdCk7XG5hZGROdW1wYWQoXCIqXCIsIEtleVRhYmxlLlhLX2FzdGVyaXNrLCBLZXlUYWJsZS5YS19LUF9NdWx0aXBseSk7XG5hZGROdW1wYWQoXCIvXCIsIEtleVRhYmxlLlhLX3NsYXNoLCBLZXlUYWJsZS5YS19LUF9EaXZpZGUpO1xuYWRkTnVtcGFkKFwiLlwiLCBLZXlUYWJsZS5YS19wZXJpb2QsIEtleVRhYmxlLlhLX0tQX0RlY2ltYWwpO1xuYWRkTnVtcGFkKFwiLFwiLCBLZXlUYWJsZS5YS19jb21tYSwgS2V5VGFibGUuWEtfS1BfU2VwYXJhdG9yKTtcbmFkZE51bXBhZChcIjBcIiwgS2V5VGFibGUuWEtfMCwgS2V5VGFibGUuWEtfS1BfMCk7XG5hZGROdW1wYWQoXCIxXCIsIEtleVRhYmxlLlhLXzEsIEtleVRhYmxlLlhLX0tQXzEpO1xuYWRkTnVtcGFkKFwiMlwiLCBLZXlUYWJsZS5YS18yLCBLZXlUYWJsZS5YS19LUF8yKTtcbmFkZE51bXBhZChcIjNcIiwgS2V5VGFibGUuWEtfMywgS2V5VGFibGUuWEtfS1BfMyk7XG5hZGROdW1wYWQoXCI0XCIsIEtleVRhYmxlLlhLXzQsIEtleVRhYmxlLlhLX0tQXzQpO1xuYWRkTnVtcGFkKFwiNVwiLCBLZXlUYWJsZS5YS181LCBLZXlUYWJsZS5YS19LUF81KTtcbmFkZE51bXBhZChcIjZcIiwgS2V5VGFibGUuWEtfNiwgS2V5VGFibGUuWEtfS1BfNik7XG5hZGROdW1wYWQoXCI3XCIsIEtleVRhYmxlLlhLXzcsIEtleVRhYmxlLlhLX0tQXzcpO1xuYWRkTnVtcGFkKFwiOFwiLCBLZXlUYWJsZS5YS184LCBLZXlUYWJsZS5YS19LUF84KTtcbmFkZE51bXBhZChcIjlcIiwgS2V5VGFibGUuWEtfOSwgS2V5VGFibGUuWEtfS1BfOSk7XG5cbmV4cG9ydCBkZWZhdWx0IERPTUtleVRhYmxlO1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTcgUGllcnJlIE9zc21hbiBmb3IgQ2VuZGlvIEFCXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIG9yIGFueSBsYXRlciB2ZXJzaW9uIChzZWUgTElDRU5TRS50eHQpXG4gKi9cblxuLypcbiAqIEZhbGxiYWNrIG1hcHBpbmcgYmV0d2VlbiBIVE1MIGtleSBjb2RlcyAocGh5c2ljYWwga2V5cykgYW5kXG4gKiBIVE1MIGtleSB2YWx1ZXMuIFRoaXMgb25seSB3b3JrcyBmb3Iga2V5cyB0aGF0IGRvbid0IHZhcnlcbiAqIGJldHdlZW4gbGF5b3V0cy4gV2UgYWxzbyBvbWl0IHRob3NlIHdobyBtYW5hZ2UgZmluZSBieSBtYXBwaW5nIHRoZVxuICogVW5pY29kZSByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL3VpZXZlbnRzLWNvZGUvIGZvciBwb3NzaWJsZSBjb2Rlcy5cbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvdWlldmVudHMta2V5LyBmb3IgcG9zc2libGUgdmFsdWVzLlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuLy8gMy4xLjEuMS4gV3JpdGluZyBTeXN0ZW0gS2V5c1xuXG4gICAgJ0JhY2tzcGFjZSc6ICAgICAgICAnQmFja3NwYWNlJyxcblxuLy8gMy4xLjEuMi4gRnVuY3Rpb25hbCBLZXlzXG5cbiAgICAnQWx0TGVmdCc6ICAgICAgICAgICdBbHQnLFxuICAgICdBbHRSaWdodCc6ICAgICAgICAgJ0FsdCcsIC8vIFRoaXMgY291bGQgYWxzbyBiZSAnQWx0R3JhcGgnXG4gICAgJ0NhcHNMb2NrJzogICAgICAgICAnQ2Fwc0xvY2snLFxuICAgICdDb250ZXh0TWVudSc6ICAgICAgJ0NvbnRleHRNZW51JyxcbiAgICAnQ29udHJvbExlZnQnOiAgICAgICdDb250cm9sJyxcbiAgICAnQ29udHJvbFJpZ2h0JzogICAgICdDb250cm9sJyxcbiAgICAnRW50ZXInOiAgICAgICAgICAgICdFbnRlcicsXG4gICAgJ01ldGFMZWZ0JzogICAgICAgICAnTWV0YScsXG4gICAgJ01ldGFSaWdodCc6ICAgICAgICAnTWV0YScsXG4gICAgJ1NoaWZ0TGVmdCc6ICAgICAgICAnU2hpZnQnLFxuICAgICdTaGlmdFJpZ2h0JzogICAgICAgJ1NoaWZ0JyxcbiAgICAnVGFiJzogICAgICAgICAgICAgICdUYWInLFxuICAgIC8vIEZJWE1FOiBKYXBhbmVzZS9Lb3JlYW4ga2V5c1xuXG4vLyAzLjEuMi4gQ29udHJvbCBQYWQgU2VjdGlvblxuXG4gICAgJ0RlbGV0ZSc6ICAgICAgICAgICAnRGVsZXRlJyxcbiAgICAnRW5kJzogICAgICAgICAgICAgICdFbmQnLFxuICAgICdIZWxwJzogICAgICAgICAgICAgJ0hlbHAnLFxuICAgICdIb21lJzogICAgICAgICAgICAgJ0hvbWUnLFxuICAgICdJbnNlcnQnOiAgICAgICAgICAgJ0luc2VydCcsXG4gICAgJ1BhZ2VEb3duJzogICAgICAgICAnUGFnZURvd24nLFxuICAgICdQYWdlVXAnOiAgICAgICAgICAgJ1BhZ2VVcCcsXG5cbi8vIDMuMS4zLiBBcnJvdyBQYWQgU2VjdGlvblxuXG4gICAgJ0Fycm93RG93bic6ICAgICAgICAnQXJyb3dEb3duJyxcbiAgICAnQXJyb3dMZWZ0JzogICAgICAgICdBcnJvd0xlZnQnLFxuICAgICdBcnJvd1JpZ2h0JzogICAgICAgJ0Fycm93UmlnaHQnLFxuICAgICdBcnJvd1VwJzogICAgICAgICAgJ0Fycm93VXAnLFxuXG4vLyAzLjEuNC4gTnVtcGFkIFNlY3Rpb25cblxuICAgICdOdW1Mb2NrJzogICAgICAgICAgJ051bUxvY2snLFxuICAgICdOdW1wYWRCYWNrc3BhY2UnOiAgJ0JhY2tzcGFjZScsXG4gICAgJ051bXBhZENsZWFyJzogICAgICAnQ2xlYXInLFxuXG4vLyAzLjEuNS4gRnVuY3Rpb24gU2VjdGlvblxuXG4gICAgJ0VzY2FwZSc6ICAgICAgICAgICAnRXNjYXBlJyxcbiAgICAnRjEnOiAgICAgICAgICAgICAgICdGMScsXG4gICAgJ0YyJzogICAgICAgICAgICAgICAnRjInLFxuICAgICdGMyc6ICAgICAgICAgICAgICAgJ0YzJyxcbiAgICAnRjQnOiAgICAgICAgICAgICAgICdGNCcsXG4gICAgJ0Y1JzogICAgICAgICAgICAgICAnRjUnLFxuICAgICdGNic6ICAgICAgICAgICAgICAgJ0Y2JyxcbiAgICAnRjcnOiAgICAgICAgICAgICAgICdGNycsXG4gICAgJ0Y4JzogICAgICAgICAgICAgICAnRjgnLFxuICAgICdGOSc6ICAgICAgICAgICAgICAgJ0Y5JyxcbiAgICAnRjEwJzogICAgICAgICAgICAgICdGMTAnLFxuICAgICdGMTEnOiAgICAgICAgICAgICAgJ0YxMScsXG4gICAgJ0YxMic6ICAgICAgICAgICAgICAnRjEyJyxcbiAgICAnRjEzJzogICAgICAgICAgICAgICdGMTMnLFxuICAgICdGMTQnOiAgICAgICAgICAgICAgJ0YxNCcsXG4gICAgJ0YxNSc6ICAgICAgICAgICAgICAnRjE1JyxcbiAgICAnRjE2JzogICAgICAgICAgICAgICdGMTYnLFxuICAgICdGMTcnOiAgICAgICAgICAgICAgJ0YxNycsXG4gICAgJ0YxOCc6ICAgICAgICAgICAgICAnRjE4JyxcbiAgICAnRjE5JzogICAgICAgICAgICAgICdGMTknLFxuICAgICdGMjAnOiAgICAgICAgICAgICAgJ0YyMCcsXG4gICAgJ0YyMSc6ICAgICAgICAgICAgICAnRjIxJyxcbiAgICAnRjIyJzogICAgICAgICAgICAgICdGMjInLFxuICAgICdGMjMnOiAgICAgICAgICAgICAgJ0YyMycsXG4gICAgJ0YyNCc6ICAgICAgICAgICAgICAnRjI0JyxcbiAgICAnRjI1JzogICAgICAgICAgICAgICdGMjUnLFxuICAgICdGMjYnOiAgICAgICAgICAgICAgJ0YyNicsXG4gICAgJ0YyNyc6ICAgICAgICAgICAgICAnRjI3JyxcbiAgICAnRjI4JzogICAgICAgICAgICAgICdGMjgnLFxuICAgICdGMjknOiAgICAgICAgICAgICAgJ0YyOScsXG4gICAgJ0YzMCc6ICAgICAgICAgICAgICAnRjMwJyxcbiAgICAnRjMxJzogICAgICAgICAgICAgICdGMzEnLFxuICAgICdGMzInOiAgICAgICAgICAgICAgJ0YzMicsXG4gICAgJ0YzMyc6ICAgICAgICAgICAgICAnRjMzJyxcbiAgICAnRjM0JzogICAgICAgICAgICAgICdGMzQnLFxuICAgICdGMzUnOiAgICAgICAgICAgICAgJ0YzNScsXG4gICAgJ1ByaW50U2NyZWVuJzogICAgICAnUHJpbnRTY3JlZW4nLFxuICAgICdTY3JvbGxMb2NrJzogICAgICAgJ1Njcm9sbExvY2snLFxuICAgICdQYXVzZSc6ICAgICAgICAgICAgJ1BhdXNlJyxcblxuLy8gMy4xLjYuIE1lZGlhIEtleXNcblxuICAgICdCcm93c2VyQmFjayc6ICAgICAgJ0Jyb3dzZXJCYWNrJyxcbiAgICAnQnJvd3NlckZhdm9yaXRlcyc6ICdCcm93c2VyRmF2b3JpdGVzJyxcbiAgICAnQnJvd3NlckZvcndhcmQnOiAgICdCcm93c2VyRm9yd2FyZCcsXG4gICAgJ0Jyb3dzZXJIb21lJzogICAgICAnQnJvd3NlckhvbWUnLFxuICAgICdCcm93c2VyUmVmcmVzaCc6ICAgJ0Jyb3dzZXJSZWZyZXNoJyxcbiAgICAnQnJvd3NlclNlYXJjaCc6ICAgICdCcm93c2VyU2VhcmNoJyxcbiAgICAnQnJvd3NlclN0b3AnOiAgICAgICdCcm93c2VyU3RvcCcsXG4gICAgJ0VqZWN0JzogICAgICAgICAgICAnRWplY3QnLFxuICAgICdMYXVuY2hBcHAxJzogICAgICAgJ0xhdW5jaE15Q29tcHV0ZXInLFxuICAgICdMYXVuY2hBcHAyJzogICAgICAgJ0xhdW5jaENhbGVuZGFyJyxcbiAgICAnTGF1bmNoTWFpbCc6ICAgICAgICdMYXVuY2hNYWlsJyxcbiAgICAnTWVkaWFQbGF5UGF1c2UnOiAgICdNZWRpYVBsYXknLFxuICAgICdNZWRpYVN0b3AnOiAgICAgICAgJ01lZGlhU3RvcCcsXG4gICAgJ01lZGlhVHJhY2tOZXh0JzogICAnTWVkaWFUcmFja05leHQnLFxuICAgICdNZWRpYVRyYWNrUHJldmlvdXMnOiAnTWVkaWFUcmFja1ByZXZpb3VzJyxcbiAgICAnUG93ZXInOiAgICAgICAgICAgICdQb3dlcicsXG4gICAgJ1NsZWVwJzogICAgICAgICAgICAnU2xlZXAnLFxuICAgICdBdWRpb1ZvbHVtZURvd24nOiAgJ0F1ZGlvVm9sdW1lRG93bicsXG4gICAgJ0F1ZGlvVm9sdW1lTXV0ZSc6ICAnQXVkaW9Wb2x1bWVNdXRlJyxcbiAgICAnQXVkaW9Wb2x1bWVVcCc6ICAgICdBdWRpb1ZvbHVtZVVwJyxcbiAgICAnV2FrZVVwJzogICAgICAgICAgICdXYWtlVXAnLFxufTtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTMgU2FtdWVsIE1hbm5laGVkIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi4vdXRpbC9sb2dnaW5nLmpzJztcbmltcG9ydCB7IHN0b3BFdmVudCB9IGZyb20gJy4uL3V0aWwvZXZlbnRzLmpzJztcbmltcG9ydCAqIGFzIEtleWJvYXJkVXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgS2V5VGFibGUgZnJvbSBcIi4va2V5c3ltLmpzXCI7XG5pbXBvcnQgKiBhcyBicm93c2VyIGZyb20gXCIuLi91dGlsL2Jyb3dzZXIuanNcIjtcblxuLy9cbi8vIEtleWJvYXJkIGV2ZW50IGhhbmRsZXJcbi8vXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEtleWJvYXJkKHRhcmdldCkge1xuICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldCB8fCBudWxsO1xuXG4gICAgdGhpcy5fa2V5RG93bkxpc3QgPSB7fTsgICAgICAgICAvLyBMaXN0IG9mIGRlcHJlc3NlZCBrZXlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAoZXZlbiBpZiB0aGV5IGFyZSBoYXBweSlcbiAgICB0aGlzLl9wZW5kaW5nS2V5ID0gbnVsbDsgICAgICAgIC8vIEtleSB3YWl0aW5nIGZvciBrZXlwcmVzc1xuXG4gICAgLy8ga2VlcCB0aGVzZSBoZXJlIHNvIHdlIGNhbiByZWZlciB0byB0aGVtIGxhdGVyXG4gICAgdGhpcy5fZXZlbnRIYW5kbGVycyA9IHtcbiAgICAgICAgJ2tleXVwJzogdGhpcy5faGFuZGxlS2V5VXAuYmluZCh0aGlzKSxcbiAgICAgICAgJ2tleWRvd24nOiB0aGlzLl9oYW5kbGVLZXlEb3duLmJpbmQodGhpcyksXG4gICAgICAgICdrZXlwcmVzcyc6IHRoaXMuX2hhbmRsZUtleVByZXNzLmJpbmQodGhpcyksXG4gICAgICAgICdibHVyJzogdGhpcy5fYWxsS2V5c1VwLmJpbmQodGhpcylcbiAgICB9O1xufTtcblxuS2V5Ym9hcmQucHJvdG90eXBlID0ge1xuICAgIC8vID09PT09IEVWRU5UIEhBTkRMRVJTID09PT09XG5cbiAgICBvbmtleWV2ZW50OiBmdW5jdGlvbiAoKSB7fSwgICAgIC8vIEhhbmRsZXIgZm9yIGtleSBwcmVzcy9yZWxlYXNlXG5cbiAgICAvLyA9PT09PSBQUklWQVRFIE1FVEhPRFMgPT09PT1cblxuICAgIF9zZW5kS2V5RXZlbnQ6IGZ1bmN0aW9uIChrZXlzeW0sIGNvZGUsIGRvd24pIHtcbiAgICAgICAgTG9nLkRlYnVnKFwib25rZXlldmVudCBcIiArIChkb3duID8gXCJkb3duXCIgOiBcInVwXCIpICtcbiAgICAgICAgICAgICAgICAgIFwiLCBrZXlzeW06IFwiICsga2V5c3ltLCBcIiwgY29kZTogXCIgKyBjb2RlKTtcblxuICAgICAgICAvLyBXaW5kb3dzIHNlbmRzIEN0cmxMZWZ0K0FsdFJpZ2h0IHdoZW4geW91IHByZXNzXG4gICAgICAgIC8vIEFsdEdyYXBoLCB3aGljaCB0ZW5kcyB0byBjb25mdXNlIHRoZSBoZWxsIG91dCBvZlxuICAgICAgICAvLyByZW1vdGUgc3lzdGVtcy4gRmFrZSBhIHJlbGVhc2Ugb2YgdGhlc2Uga2V5cyB1bnRpbFxuICAgICAgICAvLyB0aGVyZSBpcyBhIHdheSB0byBkZXRlY3QgQWx0R3JhcGggcHJvcGVybHkuXG4gICAgICAgIHZhciBmYWtlQWx0R3JhcGggPSBmYWxzZTtcbiAgICAgICAgaWYgKGRvd24gJiYgYnJvd3Nlci5pc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgaWYgKChjb2RlICE9PSAnQ29udHJvbExlZnQnKSAmJlxuICAgICAgICAgICAgICAgIChjb2RlICE9PSAnQWx0UmlnaHQnKSAmJlxuICAgICAgICAgICAgICAgICgnQ29udHJvbExlZnQnIGluIHRoaXMuX2tleURvd25MaXN0KSAmJlxuICAgICAgICAgICAgICAgICgnQWx0UmlnaHQnIGluIHRoaXMuX2tleURvd25MaXN0KSkge1xuICAgICAgICAgICAgICAgIGZha2VBbHRHcmFwaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmtleWV2ZW50KHRoaXMuX2tleURvd25MaXN0WydBbHRSaWdodCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FsdFJpZ2h0JywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMub25rZXlldmVudCh0aGlzLl9rZXlEb3duTGlzdFsnQ29udHJvbExlZnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250cm9sTGVmdCcsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub25rZXlldmVudChrZXlzeW0sIGNvZGUsIGRvd24pO1xuXG4gICAgICAgIGlmIChmYWtlQWx0R3JhcGgpIHtcbiAgICAgICAgICAgIHRoaXMub25rZXlldmVudCh0aGlzLl9rZXlEb3duTGlzdFsnQ29udHJvbExlZnQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRyb2xMZWZ0JywgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLm9ua2V5ZXZlbnQodGhpcy5fa2V5RG93bkxpc3RbJ0FsdFJpZ2h0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBbHRSaWdodCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9nZXRLZXlDb2RlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY29kZSA9IEtleWJvYXJkVXRpbC5nZXRLZXljb2RlKGUpO1xuICAgICAgICBpZiAoY29kZSAhPT0gJ1VuaWRlbnRpZmllZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5zdGFibGUsIGJ1dCB3ZSBkb24ndCBoYXZlIGFueXRoaW5nIGVsc2UgdG8gZ28gb25cbiAgICAgICAgLy8gKGRvbid0IHVzZSBpdCBmb3IgJ2tleXByZXNzJyBldmVudHMgdGhvdWdodCBzaW5jZVxuICAgICAgICAvLyBXZWJLaXQgc2V0cyBpdCB0byB0aGUgc2FtZSBhcyBjaGFyQ29kZSlcbiAgICAgICAgaWYgKGUua2V5Q29kZSAmJiAoZS50eXBlICE9PSAna2V5cHJlc3MnKSkge1xuICAgICAgICAgICAgLy8gMjI5IGlzIHVzZWQgZm9yIGNvbXBvc2l0aW9uIGV2ZW50c1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSAhPT0gMjI5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdQbGF0Zm9ybScgKyBlLmtleUNvZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBIHByZWN1cnNvciB0byB0aGUgZmluYWwgRE9NMyBzdGFuZGFyZC4gVW5mb3J0dW5hdGVseSBpdFxuICAgICAgICAvLyBpcyBub3QgbGF5b3V0IGluZGVwZW5kZW50LCBzbyBpdCBpcyBhcyBiYWQgYXMgdXNpbmcga2V5Q29kZVxuICAgICAgICBpZiAoZS5rZXlJZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAvLyBOb24tY2hhcmFjdGVyIGtleT9cbiAgICAgICAgICAgIGlmIChlLmtleUlkZW50aWZpZXIuc3Vic3RyKDAsIDIpICE9PSAnVSsnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUua2V5SWRlbnRpZmllcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNvZGVwb2ludCA9IHBhcnNlSW50KGUua2V5SWRlbnRpZmllci5zdWJzdHIoMiksIDE2KTtcbiAgICAgICAgICAgIHZhciBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlcG9pbnQpO1xuICAgICAgICAgICAgLy8gU29tZSBpbXBsZW1lbnRhdGlvbnMgZmFpbCB0byB1cHBlcmNhc2UgdGhlIHN5bWJvbHNcbiAgICAgICAgICAgIGNoYXIgPSBjaGFyLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiAnUGxhdGZvcm0nICsgY2hhci5jaGFyQ29kZUF0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ1VuaWRlbnRpZmllZCc7XG4gICAgfSxcblxuICAgIF9oYW5kbGVLZXlEb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY29kZSA9IHRoaXMuX2dldEtleUNvZGUoZSk7XG4gICAgICAgIHZhciBrZXlzeW0gPSBLZXlib2FyZFV0aWwuZ2V0S2V5c3ltKGUpO1xuXG4gICAgICAgIC8vIFdlIGNhbm5vdCBoYW5kbGUga2V5cyB3ZSBjYW5ub3QgdHJhY2ssIGJ1dCB3ZSBhbHNvIG5lZWRcbiAgICAgICAgLy8gdG8gZGVhbCB3aXRoIHZpcnR1YWwga2V5Ym9hcmRzIHdoaWNoIG9taXQga2V5IGluZm9cbiAgICAgICAgLy8gKGlPUyBvbWl0cyB0cmFja2luZyBpbmZvIG9uIGtleXVwIGV2ZW50cywgd2hpY2ggZm9yY2VzIHVzIHRvXG4gICAgICAgIC8vIHNwZWNpYWwgdHJlYXQgdGhhdCBwbGF0Zm9ybSBoZXJlKVxuICAgICAgICBpZiAoKGNvZGUgPT09ICdVbmlkZW50aWZpZWQnKSB8fCBicm93c2VyLmlzSU9TKCkpIHtcbiAgICAgICAgICAgIGlmIChrZXlzeW0pIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgdmlydHVhbCBrZXlib2FyZCB0aGVuIGl0IHNob3VsZCBiZVxuICAgICAgICAgICAgICAgIC8vIHN1ZmZpY2llbnQgdG8ganVzdCBzZW5kIHByZXNzIGFuZCByZWxlYXNlIHJpZ2h0XG4gICAgICAgICAgICAgICAgLy8gYWZ0ZXIgZWFjaCBvdGhlclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudChrZXlzeW0sIGNvZGUsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudChrZXlzeW0sIGNvZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RvcEV2ZW50KGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWx0IGJlaGF2ZXMgbW9yZSBsaWtlIEFsdEdyYXBoIG9uIG1hY09TLCBzbyBzaHVmZmxlIHRoZVxuICAgICAgICAvLyBrZXlzIGFyb3VuZCBhIGJpdCB0byBtYWtlIHRoaW5ncyBtb3JlIHNhbmUgZm9yIHRoZSByZW1vdGVcbiAgICAgICAgLy8gc2VydmVyLiBUaGlzIG1ldGhvZCBpcyB1c2VkIGJ5IFJlYWxWTkMgYW5kIFRpZ2VyVk5DIChhbmRcbiAgICAgICAgLy8gcG9zc2libHkgb3RoZXJzKS5cbiAgICAgICAgaWYgKGJyb3dzZXIuaXNNYWMoKSkge1xuICAgICAgICAgICAgc3dpdGNoIChrZXlzeW0pIHtcbiAgICAgICAgICAgIGNhc2UgS2V5VGFibGUuWEtfU3VwZXJfTDpcbiAgICAgICAgICAgICAgICBrZXlzeW0gPSBLZXlUYWJsZS5YS19BbHRfTDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5VGFibGUuWEtfU3VwZXJfUjpcbiAgICAgICAgICAgICAgICBrZXlzeW0gPSBLZXlUYWJsZS5YS19TdXBlcl9MO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlUYWJsZS5YS19BbHRfTDpcbiAgICAgICAgICAgICAgICBrZXlzeW0gPSBLZXlUYWJsZS5YS19Nb2RlX3N3aXRjaDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5VGFibGUuWEtfQWx0X1I6XG4gICAgICAgICAgICAgICAga2V5c3ltID0gS2V5VGFibGUuWEtfSVNPX0xldmVsM19TaGlmdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElzIHRoaXMga2V5IGFscmVhZHkgcHJlc3NlZD8gSWYgc28sIHRoZW4gd2UgbXVzdCB1c2UgdGhlXG4gICAgICAgIC8vIHNhbWUga2V5c3ltIG9yIHdlJ2xsIGNvbmZ1c2UgdGhlIHNlcnZlclxuICAgICAgICBpZiAoY29kZSBpbiB0aGlzLl9rZXlEb3duTGlzdCkge1xuICAgICAgICAgICAga2V5c3ltID0gdGhpcy5fa2V5RG93bkxpc3RbY29kZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYWNPUyBkb2Vzbid0IHNlbmQgcHJvcGVyIGtleSBldmVudHMgZm9yIG1vZGlmaWVycywgb25seVxuICAgICAgICAvLyBzdGF0ZSBjaGFuZ2UgZXZlbnRzLiBUaGF0IGdldHMgZXh0cmEgY29uZnVzaW5nIGZvciBDYXBzTG9ja1xuICAgICAgICAvLyB3aGljaCB0b2dnbGVzIG9uIGVhY2ggcHJlc3MsIGJ1dCBub3Qgb24gcmVsZWFzZS4gU28gcHJldGVuZFxuICAgICAgICAvLyBpdCB3YXMgYSBxdWljayBwcmVzcyBhbmQgcmVsZWFzZSBvZiB0aGUgYnV0dG9uLlxuICAgICAgICBpZiAoYnJvd3Nlci5pc01hYygpICYmIChjb2RlID09PSAnQ2Fwc0xvY2snKSkge1xuICAgICAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KEtleVRhYmxlLlhLX0NhcHNfTG9jaywgJ0NhcHNMb2NrJywgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoS2V5VGFibGUuWEtfQ2Fwc19Mb2NrLCAnQ2Fwc0xvY2snLCBmYWxzZSk7XG4gICAgICAgICAgICBzdG9wRXZlbnQoZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGlzIGlzIGEgbGVnYWN5IGJyb3dzZXIgdGhlbiB3ZSdsbCBuZWVkIHRvIHdhaXQgZm9yXG4gICAgICAgIC8vIGEga2V5cHJlc3MgZXZlbnQgYXMgd2VsbFxuICAgICAgICAvLyAoSUUgYW5kIEVkZ2UgaGFzIGEgYnJva2VuIEtleWJvYXJkRXZlbnQua2V5LCBzbyB3ZSBjYW4ndFxuICAgICAgICAvLyBqdXN0IGNoZWNrIGZvciB0aGUgcHJlc2VuY2Ugb2YgdGhhdCBmaWVsZClcbiAgICAgICAgaWYgKCFrZXlzeW0gJiYgKCFlLmtleSB8fCBicm93c2VyLmlzSUUoKSB8fCBicm93c2VyLmlzRWRnZSgpKSkge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0tleSA9IGNvZGU7XG4gICAgICAgICAgICAvLyBIb3dldmVyIHdlIG1pZ2h0IG5vdCBnZXQgYSBrZXlwcmVzcyBldmVudCBpZiB0aGUga2V5XG4gICAgICAgICAgICAvLyBpcyBub24tcHJpbnRhYmxlLCB3aGljaCBuZWVkcyBzb21lIHNwZWNpYWwgZmFsbGJhY2tcbiAgICAgICAgICAgIC8vIGhhbmRsaW5nXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuX2hhbmRsZUtleVByZXNzVGltZW91dC5iaW5kKHRoaXMpLCAxMCwgZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wZW5kaW5nS2V5ID0gbnVsbDtcbiAgICAgICAgc3RvcEV2ZW50KGUpO1xuXG4gICAgICAgIHRoaXMuX2tleURvd25MaXN0W2NvZGVdID0ga2V5c3ltO1xuXG4gICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudChrZXlzeW0sIGNvZGUsIHRydWUpO1xuICAgIH0sXG5cbiAgICAvLyBMZWdhY3kgZXZlbnQgZm9yIGJyb3dzZXJzIHdpdGhvdXQgY29kZS9rZXlcbiAgICBfaGFuZGxlS2V5UHJlc3M6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHN0b3BFdmVudChlKTtcblxuICAgICAgICAvLyBBcmUgd2UgZXhwZWN0aW5nIGEga2V5cHJlc3M/XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nS2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29kZSA9IHRoaXMuX2dldEtleUNvZGUoZSk7XG4gICAgICAgIHZhciBrZXlzeW0gPSBLZXlib2FyZFV0aWwuZ2V0S2V5c3ltKGUpO1xuXG4gICAgICAgIC8vIFRoZSBrZXkgd2Ugd2VyZSB3YWl0aW5nIGZvcj9cbiAgICAgICAgaWYgKChjb2RlICE9PSAnVW5pZGVudGlmaWVkJykgJiYgKGNvZGUgIT0gdGhpcy5fcGVuZGluZ0tleSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvZGUgPSB0aGlzLl9wZW5kaW5nS2V5O1xuICAgICAgICB0aGlzLl9wZW5kaW5nS2V5ID0gbnVsbDtcblxuICAgICAgICBpZiAoIWtleXN5bSkge1xuICAgICAgICAgICAgTG9nLkluZm8oJ2tleXByZXNzIHdpdGggbm8ga2V5c3ltOicsIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fa2V5RG93bkxpc3RbY29kZV0gPSBrZXlzeW07XG5cbiAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KGtleXN5bSwgY29kZSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBfaGFuZGxlS2V5UHJlc3NUaW1lb3V0OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyBEaWQgc29tZW9uZSBtYW5hZ2UgdG8gc29ydCBvdXQgdGhlIGtleSBhbHJlYWR5P1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0tleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvZGUsIGtleXN5bTtcblxuICAgICAgICBjb2RlID0gdGhpcy5fcGVuZGluZ0tleTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0tleSA9IG51bGw7XG5cbiAgICAgICAgLy8gV2UgaGF2ZSBubyB3YXkgb2Yga25vd2luZyB0aGUgcHJvcGVyIGtleXN5bSB3aXRoIHRoZVxuICAgICAgICAvLyBpbmZvcm1hdGlvbiBnaXZlbiwgYnV0IHRoZSBmb2xsb3dpbmcgYXJlIHRydWUgZm9yIG1vc3RcbiAgICAgICAgLy8gbGF5b3V0c1xuICAgICAgICBpZiAoKGUua2V5Q29kZSA+PSAweDMwKSAmJiAoZS5rZXlDb2RlIDw9IDB4MzkpKSB7XG4gICAgICAgICAgICAvLyBEaWdpdFxuICAgICAgICAgICAga2V5c3ltID0gZS5rZXlDb2RlO1xuICAgICAgICB9IGVsc2UgaWYgKChlLmtleUNvZGUgPj0gMHg0MSkgJiYgKGUua2V5Q29kZSA8PSAweDVhKSkge1xuICAgICAgICAgICAgLy8gQ2hhcmFjdGVyIChBLVopXG4gICAgICAgICAgICB2YXIgY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlKTtcbiAgICAgICAgICAgIC8vIEEgZmVlYmxlIGF0dGVtcHQgYXQgdGhlIGNvcnJlY3QgY2FzZVxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpXG4gICAgICAgICAgICAgICAgY2hhciA9IGNoYXIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjaGFyID0gY2hhci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAga2V5c3ltID0gY2hhci5jaGFyQ29kZUF0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVbmtub3duLCBnaXZlIHVwXG4gICAgICAgICAgICBrZXlzeW0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fa2V5RG93bkxpc3RbY29kZV0gPSBrZXlzeW07XG5cbiAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KGtleXN5bSwgY29kZSwgdHJ1ZSk7XG4gICAgfSxcblxuICAgIF9oYW5kbGVLZXlVcDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc3RvcEV2ZW50KGUpO1xuXG4gICAgICAgIHZhciBjb2RlID0gdGhpcy5fZ2V0S2V5Q29kZShlKTtcblxuICAgICAgICAvLyBTZWUgY29tbWVudCBpbiBfaGFuZGxlS2V5RG93bigpXG4gICAgICAgIGlmIChicm93c2VyLmlzTWFjKCkgJiYgKGNvZGUgPT09ICdDYXBzTG9jaycpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoS2V5VGFibGUuWEtfQ2Fwc19Mb2NrLCAnQ2Fwc0xvY2snLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudChLZXlUYWJsZS5YS19DYXBzX0xvY2ssICdDYXBzTG9jaycsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvIHdlIHJlYWxseSB0aGluayB0aGlzIGtleSBpcyBkb3duP1xuICAgICAgICBpZiAoIShjb2RlIGluIHRoaXMuX2tleURvd25MaXN0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KHRoaXMuX2tleURvd25MaXN0W2NvZGVdLCBjb2RlLCBmYWxzZSk7XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuX2tleURvd25MaXN0W2NvZGVdO1xuICAgIH0sXG5cbiAgICBfYWxsS2V5c1VwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExvZy5EZWJ1ZyhcIj4+IEtleWJvYXJkLmFsbEtleXNVcFwiKTtcbiAgICAgICAgZm9yICh2YXIgY29kZSBpbiB0aGlzLl9rZXlEb3duTGlzdCkge1xuICAgICAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KHRoaXMuX2tleURvd25MaXN0W2NvZGVdLCBjb2RlLCBmYWxzZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2tleURvd25MaXN0ID0ge307XG4gICAgICAgIExvZy5EZWJ1ZyhcIjw8IEtleWJvYXJkLmFsbEtleXNVcFwiKTtcbiAgICB9LFxuXG4gICAgLy8gPT09PT0gUFVCTElDIE1FVEhPRFMgPT09PT1cblxuICAgIGdyYWI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9Mb2cuRGVidWcoXCI+PiBLZXlib2FyZC5ncmFiXCIpO1xuICAgICAgICB2YXIgYyA9IHRoaXMuX3RhcmdldDtcblxuICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9ldmVudEhhbmRsZXJzLmtleWRvd24pO1xuICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fZXZlbnRIYW5kbGVycy5rZXl1cCk7XG4gICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLl9ldmVudEhhbmRsZXJzLmtleXByZXNzKTtcblxuICAgICAgICAvLyBSZWxlYXNlIChrZXkgdXApIGlmIHdpbmRvdyBsb3NlcyBmb2N1c1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2V2ZW50SGFuZGxlcnMuYmx1cik7XG5cbiAgICAgICAgLy9Mb2cuRGVidWcoXCI8PCBLZXlib2FyZC5ncmFiXCIpO1xuICAgIH0sXG5cbiAgICB1bmdyYWI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9Mb2cuRGVidWcoXCI+PiBLZXlib2FyZC51bmdyYWJcIik7XG4gICAgICAgIHZhciBjID0gdGhpcy5fdGFyZ2V0O1xuXG4gICAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2V2ZW50SGFuZGxlcnMua2V5ZG93bik7XG4gICAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9ldmVudEhhbmRsZXJzLmtleXVwKTtcbiAgICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMuX2V2ZW50SGFuZGxlcnMua2V5cHJlc3MpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2V2ZW50SGFuZGxlcnMuYmx1cik7XG5cbiAgICAgICAgLy8gUmVsZWFzZSAoa2V5IHVwKSBhbGwga2V5cyB0aGF0IGFyZSBpbiBhIGRvd24gc3RhdGVcbiAgICAgICAgdGhpcy5fYWxsS2V5c1VwKCk7XG5cbiAgICAgICAgLy9Mb2cuRGVidWcoXCI+PiBLZXlib2FyZC51bmdyYWJcIik7XG4gICAgfSxcbn07XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgWEtfVm9pZFN5bWJvbDogICAgICAgICAgICAgICAgICAweGZmZmZmZiwgLyogVm9pZCBzeW1ib2wgKi9cblxuICAgIFhLX0JhY2tTcGFjZTogICAgICAgICAgICAgICAgICAgMHhmZjA4LCAvKiBCYWNrIHNwYWNlLCBiYWNrIGNoYXIgKi9cbiAgICBYS19UYWI6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmYwOSxcbiAgICBYS19MaW5lZmVlZDogICAgICAgICAgICAgICAgICAgIDB4ZmYwYSwgLyogTGluZWZlZWQsIExGICovXG4gICAgWEtfQ2xlYXI6ICAgICAgICAgICAgICAgICAgICAgICAweGZmMGIsXG4gICAgWEtfUmV0dXJuOiAgICAgICAgICAgICAgICAgICAgICAweGZmMGQsIC8qIFJldHVybiwgZW50ZXIgKi9cbiAgICBYS19QYXVzZTogICAgICAgICAgICAgICAgICAgICAgIDB4ZmYxMywgLyogUGF1c2UsIGhvbGQgKi9cbiAgICBYS19TY3JvbGxfTG9jazogICAgICAgICAgICAgICAgIDB4ZmYxNCxcbiAgICBYS19TeXNfUmVxOiAgICAgICAgICAgICAgICAgICAgIDB4ZmYxNSxcbiAgICBYS19Fc2NhcGU6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmYxYixcbiAgICBYS19EZWxldGU6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmZmZiwgLyogRGVsZXRlLCBydWJvdXQgKi9cblxuICAgIC8qIEludGVybmF0aW9uYWwgJiBtdWx0aS1rZXkgY2hhcmFjdGVyIGNvbXBvc2l0aW9uICovXG5cbiAgICBYS19NdWx0aV9rZXk6ICAgICAgICAgICAgICAgICAgIDB4ZmYyMCwgLyogTXVsdGkta2V5IGNoYXJhY3RlciBjb21wb3NlICovXG4gICAgWEtfQ29kZWlucHV0OiAgICAgICAgICAgICAgICAgICAweGZmMzcsXG4gICAgWEtfU2luZ2xlQ2FuZGlkYXRlOiAgICAgICAgICAgICAweGZmM2MsXG4gICAgWEtfTXVsdGlwbGVDYW5kaWRhdGU6ICAgICAgICAgICAweGZmM2QsXG4gICAgWEtfUHJldmlvdXNDYW5kaWRhdGU6ICAgICAgICAgICAweGZmM2UsXG5cbiAgICAvKiBKYXBhbmVzZSBrZXlib2FyZCBzdXBwb3J0ICovXG5cbiAgICBYS19LYW5qaTogICAgICAgICAgICAgICAgICAgICAgIDB4ZmYyMSwgLyogS2FuamksIEthbmppIGNvbnZlcnQgKi9cbiAgICBYS19NdWhlbmthbjogICAgICAgICAgICAgICAgICAgIDB4ZmYyMiwgLyogQ2FuY2VsIENvbnZlcnNpb24gKi9cbiAgICBYS19IZW5rYW5fTW9kZTogICAgICAgICAgICAgICAgIDB4ZmYyMywgLyogU3RhcnQvU3RvcCBDb252ZXJzaW9uICovXG4gICAgWEtfSGVua2FuOiAgICAgICAgICAgICAgICAgICAgICAweGZmMjMsIC8qIEFsaWFzIGZvciBIZW5rYW5fTW9kZSAqL1xuICAgIFhLX1JvbWFqaTogICAgICAgICAgICAgICAgICAgICAgMHhmZjI0LCAvKiB0byBSb21hamkgKi9cbiAgICBYS19IaXJhZ2FuYTogICAgICAgICAgICAgICAgICAgIDB4ZmYyNSwgLyogdG8gSGlyYWdhbmEgKi9cbiAgICBYS19LYXRha2FuYTogICAgICAgICAgICAgICAgICAgIDB4ZmYyNiwgLyogdG8gS2F0YWthbmEgKi9cbiAgICBYS19IaXJhZ2FuYV9LYXRha2FuYTogICAgICAgICAgIDB4ZmYyNywgLyogSGlyYWdhbmEvS2F0YWthbmEgdG9nZ2xlICovXG4gICAgWEtfWmVua2FrdTogICAgICAgICAgICAgICAgICAgICAweGZmMjgsIC8qIHRvIFplbmtha3UgKi9cbiAgICBYS19IYW5rYWt1OiAgICAgICAgICAgICAgICAgICAgIDB4ZmYyOSwgLyogdG8gSGFua2FrdSAqL1xuICAgIFhLX1plbmtha3VfSGFua2FrdTogICAgICAgICAgICAgMHhmZjJhLCAvKiBaZW5rYWt1L0hhbmtha3UgdG9nZ2xlICovXG4gICAgWEtfVG91cm9rdTogICAgICAgICAgICAgICAgICAgICAweGZmMmIsIC8qIEFkZCB0byBEaWN0aW9uYXJ5ICovXG4gICAgWEtfTWFzc3lvOiAgICAgICAgICAgICAgICAgICAgICAweGZmMmMsIC8qIERlbGV0ZSBmcm9tIERpY3Rpb25hcnkgKi9cbiAgICBYS19LYW5hX0xvY2s6ICAgICAgICAgICAgICAgICAgIDB4ZmYyZCwgLyogS2FuYSBMb2NrICovXG4gICAgWEtfS2FuYV9TaGlmdDogICAgICAgICAgICAgICAgICAweGZmMmUsIC8qIEthbmEgU2hpZnQgKi9cbiAgICBYS19FaXN1X1NoaWZ0OiAgICAgICAgICAgICAgICAgIDB4ZmYyZiwgLyogQWxwaGFudW1lcmljIFNoaWZ0ICovXG4gICAgWEtfRWlzdV90b2dnbGU6ICAgICAgICAgICAgICAgICAweGZmMzAsIC8qIEFscGhhbnVtZXJpYyB0b2dnbGUgKi9cbiAgICBYS19LYW5qaV9CYW5nb3U6ICAgICAgICAgICAgICAgIDB4ZmYzNywgLyogQ29kZWlucHV0ICovXG4gICAgWEtfWmVuX0tvaG86ICAgICAgICAgICAgICAgICAgICAweGZmM2QsIC8qIE11bHRpcGxlL0FsbCBDYW5kaWRhdGUocykgKi9cbiAgICBYS19NYWVfS29obzogICAgICAgICAgICAgICAgICAgIDB4ZmYzZSwgLyogUHJldmlvdXMgQ2FuZGlkYXRlICovXG5cbiAgICAvKiBDdXJzb3IgY29udHJvbCAmIG1vdGlvbiAqL1xuXG4gICAgWEtfSG9tZTogICAgICAgICAgICAgICAgICAgICAgICAweGZmNTAsXG4gICAgWEtfTGVmdDogICAgICAgICAgICAgICAgICAgICAgICAweGZmNTEsIC8qIE1vdmUgbGVmdCwgbGVmdCBhcnJvdyAqL1xuICAgIFhLX1VwOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjUyLCAvKiBNb3ZlIHVwLCB1cCBhcnJvdyAqL1xuICAgIFhLX1JpZ2h0OiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjUzLCAvKiBNb3ZlIHJpZ2h0LCByaWdodCBhcnJvdyAqL1xuICAgIFhLX0Rvd246ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjU0LCAvKiBNb3ZlIGRvd24sIGRvd24gYXJyb3cgKi9cbiAgICBYS19QcmlvcjogICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1NSwgLyogUHJpb3IsIHByZXZpb3VzICovXG4gICAgWEtfUGFnZV9VcDogICAgICAgICAgICAgICAgICAgICAweGZmNTUsXG4gICAgWEtfTmV4dDogICAgICAgICAgICAgICAgICAgICAgICAweGZmNTYsIC8qIE5leHQgKi9cbiAgICBYS19QYWdlX0Rvd246ICAgICAgICAgICAgICAgICAgIDB4ZmY1NixcbiAgICBYS19FbmQ6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1NywgLyogRU9MICovXG4gICAgWEtfQmVnaW46ICAgICAgICAgICAgICAgICAgICAgICAweGZmNTgsIC8qIEJPTCAqL1xuXG5cbiAgICAvKiBNaXNjIGZ1bmN0aW9ucyAqL1xuXG4gICAgWEtfU2VsZWN0OiAgICAgICAgICAgICAgICAgICAgICAweGZmNjAsIC8qIFNlbGVjdCwgbWFyayAqL1xuICAgIFhLX1ByaW50OiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjYxLFxuICAgIFhLX0V4ZWN1dGU6ICAgICAgICAgICAgICAgICAgICAgMHhmZjYyLCAvKiBFeGVjdXRlLCBydW4sIGRvICovXG4gICAgWEtfSW5zZXJ0OiAgICAgICAgICAgICAgICAgICAgICAweGZmNjMsIC8qIEluc2VydCwgaW5zZXJ0IGhlcmUgKi9cbiAgICBYS19VbmRvOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2NSxcbiAgICBYS19SZWRvOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2NiwgLyogUmVkbywgYWdhaW4gKi9cbiAgICBYS19NZW51OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2NyxcbiAgICBYS19GaW5kOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2OCwgLyogRmluZCwgc2VhcmNoICovXG4gICAgWEtfQ2FuY2VsOiAgICAgICAgICAgICAgICAgICAgICAweGZmNjksIC8qIENhbmNlbCwgc3RvcCwgYWJvcnQsIGV4aXQgKi9cbiAgICBYS19IZWxwOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2YSwgLyogSGVscCAqL1xuICAgIFhLX0JyZWFrOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjZiLFxuICAgIFhLX01vZGVfc3dpdGNoOiAgICAgICAgICAgICAgICAgMHhmZjdlLCAvKiBDaGFyYWN0ZXIgc2V0IHN3aXRjaCAqL1xuICAgIFhLX3NjcmlwdF9zd2l0Y2g6ICAgICAgICAgICAgICAgMHhmZjdlLCAvKiBBbGlhcyBmb3IgbW9kZV9zd2l0Y2ggKi9cbiAgICBYS19OdW1fTG9jazogICAgICAgICAgICAgICAgICAgIDB4ZmY3ZixcblxuICAgIC8qIEtleXBhZCBmdW5jdGlvbnMsIGtleXBhZCBudW1iZXJzIGNsZXZlcmx5IGNob3NlbiB0byBtYXAgdG8gQVNDSUkgKi9cblxuICAgIFhLX0tQX1NwYWNlOiAgICAgICAgICAgICAgICAgICAgMHhmZjgwLCAvKiBTcGFjZSAqL1xuICAgIFhLX0tQX1RhYjogICAgICAgICAgICAgICAgICAgICAgMHhmZjg5LFxuICAgIFhLX0tQX0VudGVyOiAgICAgICAgICAgICAgICAgICAgMHhmZjhkLCAvKiBFbnRlciAqL1xuICAgIFhLX0tQX0YxOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjkxLCAvKiBQRjEsIEtQX0EsIC4uLiAqL1xuICAgIFhLX0tQX0YyOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjkyLFxuICAgIFhLX0tQX0YzOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjkzLFxuICAgIFhLX0tQX0Y0OiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjk0LFxuICAgIFhLX0tQX0hvbWU6ICAgICAgICAgICAgICAgICAgICAgMHhmZjk1LFxuICAgIFhLX0tQX0xlZnQ6ICAgICAgICAgICAgICAgICAgICAgMHhmZjk2LFxuICAgIFhLX0tQX1VwOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjk3LFxuICAgIFhLX0tQX1JpZ2h0OiAgICAgICAgICAgICAgICAgICAgMHhmZjk4LFxuICAgIFhLX0tQX0Rvd246ICAgICAgICAgICAgICAgICAgICAgMHhmZjk5LFxuICAgIFhLX0tQX1ByaW9yOiAgICAgICAgICAgICAgICAgICAgMHhmZjlhLFxuICAgIFhLX0tQX1BhZ2VfVXA6ICAgICAgICAgICAgICAgICAgMHhmZjlhLFxuICAgIFhLX0tQX05leHQ6ICAgICAgICAgICAgICAgICAgICAgMHhmZjliLFxuICAgIFhLX0tQX1BhZ2VfRG93bjogICAgICAgICAgICAgICAgMHhmZjliLFxuICAgIFhLX0tQX0VuZDogICAgICAgICAgICAgICAgICAgICAgMHhmZjljLFxuICAgIFhLX0tQX0JlZ2luOiAgICAgICAgICAgICAgICAgICAgMHhmZjlkLFxuICAgIFhLX0tQX0luc2VydDogICAgICAgICAgICAgICAgICAgMHhmZjllLFxuICAgIFhLX0tQX0RlbGV0ZTogICAgICAgICAgICAgICAgICAgMHhmZjlmLFxuICAgIFhLX0tQX0VxdWFsOiAgICAgICAgICAgICAgICAgICAgMHhmZmJkLCAvKiBFcXVhbHMgKi9cbiAgICBYS19LUF9NdWx0aXBseTogICAgICAgICAgICAgICAgIDB4ZmZhYSxcbiAgICBYS19LUF9BZGQ6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmZhYixcbiAgICBYS19LUF9TZXBhcmF0b3I6ICAgICAgICAgICAgICAgIDB4ZmZhYywgLyogU2VwYXJhdG9yLCBvZnRlbiBjb21tYSAqL1xuICAgIFhLX0tQX1N1YnRyYWN0OiAgICAgICAgICAgICAgICAgMHhmZmFkLFxuICAgIFhLX0tQX0RlY2ltYWw6ICAgICAgICAgICAgICAgICAgMHhmZmFlLFxuICAgIFhLX0tQX0RpdmlkZTogICAgICAgICAgICAgICAgICAgMHhmZmFmLFxuXG4gICAgWEtfS1BfMDogICAgICAgICAgICAgICAgICAgICAgICAweGZmYjAsXG4gICAgWEtfS1BfMTogICAgICAgICAgICAgICAgICAgICAgICAweGZmYjEsXG4gICAgWEtfS1BfMjogICAgICAgICAgICAgICAgICAgICAgICAweGZmYjIsXG4gICAgWEtfS1BfMzogICAgICAgICAgICAgICAgICAgICAgICAweGZmYjMsXG4gICAgWEtfS1BfNDogICAgICAgICAgICAgICAgICAgICAgICAweGZmYjQsXG4gICAgWEtfS1BfNTogICAgICAgICAgICAgICAgICAgICAgICAweGZmYjUsXG4gICAgWEtfS1BfNjogICAgICAgICAgICAgICAgICAgICAgICAweGZmYjYsXG4gICAgWEtfS1BfNzogICAgICAgICAgICAgICAgICAgICAgICAweGZmYjcsXG4gICAgWEtfS1BfODogICAgICAgICAgICAgICAgICAgICAgICAweGZmYjgsXG4gICAgWEtfS1BfOTogICAgICAgICAgICAgICAgICAgICAgICAweGZmYjksXG5cbiAgICAvKlxuICAgICAqIEF1eGlsaWFyeSBmdW5jdGlvbnM7IG5vdGUgdGhlIGR1cGxpY2F0ZSBkZWZpbml0aW9ucyBmb3IgbGVmdCBhbmQgcmlnaHRcbiAgICAgKiBmdW5jdGlvbiBrZXlzOyAgU3VuIGtleWJvYXJkcyBhbmQgYSBmZXcgb3RoZXIgbWFudWZhY3R1cmVycyBoYXZlIHN1Y2hcbiAgICAgKiBmdW5jdGlvbiBrZXkgZ3JvdXBzIG9uIHRoZSBsZWZ0IGFuZC9vciByaWdodCBzaWRlcyBvZiB0aGUga2V5Ym9hcmQuXG4gICAgICogV2UndmUgbm90IGZvdW5kIGEga2V5Ym9hcmQgd2l0aCBtb3JlIHRoYW4gMzUgZnVuY3Rpb24ga2V5cyB0b3RhbC5cbiAgICAgKi9cblxuICAgIFhLX0YxOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmJlLFxuICAgIFhLX0YyOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmJmLFxuICAgIFhLX0YzOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmMwLFxuICAgIFhLX0Y0OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmMxLFxuICAgIFhLX0Y1OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmMyLFxuICAgIFhLX0Y2OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmMzLFxuICAgIFhLX0Y3OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmM0LFxuICAgIFhLX0Y4OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmM1LFxuICAgIFhLX0Y5OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmM2LFxuICAgIFhLX0YxMDogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmM3LFxuICAgIFhLX0YxMTogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmM4LFxuICAgIFhLX0wxOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmM4LFxuICAgIFhLX0YxMjogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmM5LFxuICAgIFhLX0wyOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmM5LFxuICAgIFhLX0YxMzogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNhLFxuICAgIFhLX0wzOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNhLFxuICAgIFhLX0YxNDogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNiLFxuICAgIFhLX0w0OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNiLFxuICAgIFhLX0YxNTogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNjLFxuICAgIFhLX0w1OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNjLFxuICAgIFhLX0YxNjogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNkLFxuICAgIFhLX0w2OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNkLFxuICAgIFhLX0YxNzogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNlLFxuICAgIFhLX0w3OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNlLFxuICAgIFhLX0YxODogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNmLFxuICAgIFhLX0w4OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmNmLFxuICAgIFhLX0YxOTogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQwLFxuICAgIFhLX0w5OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQwLFxuICAgIFhLX0YyMDogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQxLFxuICAgIFhLX0wxMDogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQxLFxuICAgIFhLX0YyMTogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQyLFxuICAgIFhLX1IxOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQyLFxuICAgIFhLX0YyMjogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQzLFxuICAgIFhLX1IyOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQzLFxuICAgIFhLX0YyMzogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ0LFxuICAgIFhLX1IzOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ0LFxuICAgIFhLX0YyNDogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ1LFxuICAgIFhLX1I0OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ1LFxuICAgIFhLX0YyNTogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ2LFxuICAgIFhLX1I1OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ2LFxuICAgIFhLX0YyNjogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ3LFxuICAgIFhLX1I2OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ3LFxuICAgIFhLX0YyNzogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ4LFxuICAgIFhLX1I3OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ4LFxuICAgIFhLX0YyODogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ5LFxuICAgIFhLX1I4OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmQ5LFxuICAgIFhLX0YyOTogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRhLFxuICAgIFhLX1I5OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRhLFxuICAgIFhLX0YzMDogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRiLFxuICAgIFhLX1IxMDogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRiLFxuICAgIFhLX0YzMTogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRjLFxuICAgIFhLX1IxMTogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRjLFxuICAgIFhLX0YzMjogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRkLFxuICAgIFhLX1IxMjogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRkLFxuICAgIFhLX0YzMzogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRlLFxuICAgIFhLX1IxMzogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRlLFxuICAgIFhLX0YzNDogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRmLFxuICAgIFhLX1IxNDogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmRmLFxuICAgIFhLX0YzNTogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmUwLFxuICAgIFhLX1IxNTogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmUwLFxuXG4gICAgLyogTW9kaWZpZXJzICovXG5cbiAgICBYS19TaGlmdF9MOiAgICAgICAgICAgICAgICAgICAgIDB4ZmZlMSwgLyogTGVmdCBzaGlmdCAqL1xuICAgIFhLX1NoaWZ0X1I6ICAgICAgICAgICAgICAgICAgICAgMHhmZmUyLCAvKiBSaWdodCBzaGlmdCAqL1xuICAgIFhLX0NvbnRyb2xfTDogICAgICAgICAgICAgICAgICAgMHhmZmUzLCAvKiBMZWZ0IGNvbnRyb2wgKi9cbiAgICBYS19Db250cm9sX1I6ICAgICAgICAgICAgICAgICAgIDB4ZmZlNCwgLyogUmlnaHQgY29udHJvbCAqL1xuICAgIFhLX0NhcHNfTG9jazogICAgICAgICAgICAgICAgICAgMHhmZmU1LCAvKiBDYXBzIGxvY2sgKi9cbiAgICBYS19TaGlmdF9Mb2NrOiAgICAgICAgICAgICAgICAgIDB4ZmZlNiwgLyogU2hpZnQgbG9jayAqL1xuXG4gICAgWEtfTWV0YV9MOiAgICAgICAgICAgICAgICAgICAgICAweGZmZTcsIC8qIExlZnQgbWV0YSAqL1xuICAgIFhLX01ldGFfUjogICAgICAgICAgICAgICAgICAgICAgMHhmZmU4LCAvKiBSaWdodCBtZXRhICovXG4gICAgWEtfQWx0X0w6ICAgICAgICAgICAgICAgICAgICAgICAweGZmZTksIC8qIExlZnQgYWx0ICovXG4gICAgWEtfQWx0X1I6ICAgICAgICAgICAgICAgICAgICAgICAweGZmZWEsIC8qIFJpZ2h0IGFsdCAqL1xuICAgIFhLX1N1cGVyX0w6ICAgICAgICAgICAgICAgICAgICAgMHhmZmViLCAvKiBMZWZ0IHN1cGVyICovXG4gICAgWEtfU3VwZXJfUjogICAgICAgICAgICAgICAgICAgICAweGZmZWMsIC8qIFJpZ2h0IHN1cGVyICovXG4gICAgWEtfSHlwZXJfTDogICAgICAgICAgICAgICAgICAgICAweGZmZWQsIC8qIExlZnQgaHlwZXIgKi9cbiAgICBYS19IeXBlcl9SOiAgICAgICAgICAgICAgICAgICAgIDB4ZmZlZSwgLyogUmlnaHQgaHlwZXIgKi9cblxuICAgIC8qXG4gICAgICogS2V5Ym9hcmQgKFhLQikgRXh0ZW5zaW9uIGZ1bmN0aW9uIGFuZCBtb2RpZmllciBrZXlzXG4gICAgICogKGZyb20gQXBwZW5kaXggQyBvZiBcIlRoZSBYIEtleWJvYXJkIEV4dGVuc2lvbjogUHJvdG9jb2wgU3BlY2lmaWNhdGlvblwiKVxuICAgICAqIEJ5dGUgMyA9IDB4ZmVcbiAgICAgKi9cblxuICAgIFhLX0lTT19MZXZlbDNfU2hpZnQ6ICAgICAgICAgICAgMHhmZTAzLCAvKiBBbHRHciAqL1xuICAgIFhLX0lTT19OZXh0X0dyb3VwOiAgICAgICAgICAgICAgMHhmZTA4LFxuICAgIFhLX0lTT19QcmV2X0dyb3VwOiAgICAgICAgICAgICAgMHhmZTBhLFxuICAgIFhLX0lTT19GaXJzdF9Hcm91cDogICAgICAgICAgICAgMHhmZTBjLFxuICAgIFhLX0lTT19MYXN0X0dyb3VwOiAgICAgICAgICAgICAgMHhmZTBlLFxuXG4gICAgLypcbiAgICAgKiBMYXRpbiAxXG4gICAgICogKElTTy9JRUMgODg1OS0xOiBVbmljb2RlIFUrMDAyMC4uVSswMEZGKVxuICAgICAqIEJ5dGUgMzogMFxuICAgICAqL1xuXG4gICAgWEtfc3BhY2U6ICAgICAgICAgICAgICAgICAgICAgICAweDAwMjAsIC8qIFUrMDAyMCBTUEFDRSAqL1xuICAgIFhLX2V4Y2xhbTogICAgICAgICAgICAgICAgICAgICAgMHgwMDIxLCAvKiBVKzAwMjEgRVhDTEFNQVRJT04gTUFSSyAqL1xuICAgIFhLX3F1b3RlZGJsOiAgICAgICAgICAgICAgICAgICAgMHgwMDIyLCAvKiBVKzAwMjIgUVVPVEFUSU9OIE1BUksgKi9cbiAgICBYS19udW1iZXJzaWduOiAgICAgICAgICAgICAgICAgIDB4MDAyMywgLyogVSswMDIzIE5VTUJFUiBTSUdOICovXG4gICAgWEtfZG9sbGFyOiAgICAgICAgICAgICAgICAgICAgICAweDAwMjQsIC8qIFUrMDAyNCBET0xMQVIgU0lHTiAqL1xuICAgIFhLX3BlcmNlbnQ6ICAgICAgICAgICAgICAgICAgICAgMHgwMDI1LCAvKiBVKzAwMjUgUEVSQ0VOVCBTSUdOICovXG4gICAgWEtfYW1wZXJzYW5kOiAgICAgICAgICAgICAgICAgICAweDAwMjYsIC8qIFUrMDAyNiBBTVBFUlNBTkQgKi9cbiAgICBYS19hcG9zdHJvcGhlOiAgICAgICAgICAgICAgICAgIDB4MDAyNywgLyogVSswMDI3IEFQT1NUUk9QSEUgKi9cbiAgICBYS19xdW90ZXJpZ2h0OiAgICAgICAgICAgICAgICAgIDB4MDAyNywgLyogZGVwcmVjYXRlZCAqL1xuICAgIFhLX3BhcmVubGVmdDogICAgICAgICAgICAgICAgICAgMHgwMDI4LCAvKiBVKzAwMjggTEVGVCBQQVJFTlRIRVNJUyAqL1xuICAgIFhLX3BhcmVucmlnaHQ6ICAgICAgICAgICAgICAgICAgMHgwMDI5LCAvKiBVKzAwMjkgUklHSFQgUEFSRU5USEVTSVMgKi9cbiAgICBYS19hc3RlcmlzazogICAgICAgICAgICAgICAgICAgIDB4MDAyYSwgLyogVSswMDJBIEFTVEVSSVNLICovXG4gICAgWEtfcGx1czogICAgICAgICAgICAgICAgICAgICAgICAweDAwMmIsIC8qIFUrMDAyQiBQTFVTIFNJR04gKi9cbiAgICBYS19jb21tYTogICAgICAgICAgICAgICAgICAgICAgIDB4MDAyYywgLyogVSswMDJDIENPTU1BICovXG4gICAgWEtfbWludXM6ICAgICAgICAgICAgICAgICAgICAgICAweDAwMmQsIC8qIFUrMDAyRCBIWVBIRU4tTUlOVVMgKi9cbiAgICBYS19wZXJpb2Q6ICAgICAgICAgICAgICAgICAgICAgIDB4MDAyZSwgLyogVSswMDJFIEZVTEwgU1RPUCAqL1xuICAgIFhLX3NsYXNoOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMDJmLCAvKiBVKzAwMkYgU09MSURVUyAqL1xuICAgIFhLXzA6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDMwLCAvKiBVKzAwMzAgRElHSVQgWkVSTyAqL1xuICAgIFhLXzE6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDMxLCAvKiBVKzAwMzEgRElHSVQgT05FICovXG4gICAgWEtfMjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzIsIC8qIFUrMDAzMiBESUdJVCBUV08gKi9cbiAgICBYS18zOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzMywgLyogVSswMDMzIERJR0lUIFRIUkVFICovXG4gICAgWEtfNDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzQsIC8qIFUrMDAzNCBESUdJVCBGT1VSICovXG4gICAgWEtfNTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzUsIC8qIFUrMDAzNSBESUdJVCBGSVZFICovXG4gICAgWEtfNjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzYsIC8qIFUrMDAzNiBESUdJVCBTSVggKi9cbiAgICBYS183OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzNywgLyogVSswMDM3IERJR0lUIFNFVkVOICovXG4gICAgWEtfODogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzgsIC8qIFUrMDAzOCBESUdJVCBFSUdIVCAqL1xuICAgIFhLXzk6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDM5LCAvKiBVKzAwMzkgRElHSVQgTklORSAqL1xuICAgIFhLX2NvbG9uOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMDNhLCAvKiBVKzAwM0EgQ09MT04gKi9cbiAgICBYS19zZW1pY29sb246ICAgICAgICAgICAgICAgICAgIDB4MDAzYiwgLyogVSswMDNCIFNFTUlDT0xPTiAqL1xuICAgIFhLX2xlc3M6ICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDNjLCAvKiBVKzAwM0MgTEVTUy1USEFOIFNJR04gKi9cbiAgICBYS19lcXVhbDogICAgICAgICAgICAgICAgICAgICAgIDB4MDAzZCwgLyogVSswMDNEIEVRVUFMUyBTSUdOICovXG4gICAgWEtfZ3JlYXRlcjogICAgICAgICAgICAgICAgICAgICAweDAwM2UsIC8qIFUrMDAzRSBHUkVBVEVSLVRIQU4gU0lHTiAqL1xuICAgIFhLX3F1ZXN0aW9uOiAgICAgICAgICAgICAgICAgICAgMHgwMDNmLCAvKiBVKzAwM0YgUVVFU1RJT04gTUFSSyAqL1xuICAgIFhLX2F0OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDQwLCAvKiBVKzAwNDAgQ09NTUVSQ0lBTCBBVCAqL1xuICAgIFhLX0E6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDQxLCAvKiBVKzAwNDEgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQSAqL1xuICAgIFhLX0I6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDQyLCAvKiBVKzAwNDIgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQiAqL1xuICAgIFhLX0M6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDQzLCAvKiBVKzAwNDMgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQyAqL1xuICAgIFhLX0Q6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDQ0LCAvKiBVKzAwNDQgTEFUSU4gQ0FQSVRBTCBMRVRURVIgRCAqL1xuICAgIFhLX0U6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDQ1LCAvKiBVKzAwNDUgTEFUSU4gQ0FQSVRBTCBMRVRURVIgRSAqL1xuICAgIFhLX0Y6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDQ2LCAvKiBVKzAwNDYgTEFUSU4gQ0FQSVRBTCBMRVRURVIgRiAqL1xuICAgIFhLX0c6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDQ3LCAvKiBVKzAwNDcgTEFUSU4gQ0FQSVRBTCBMRVRURVIgRyAqL1xuICAgIFhLX0g6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDQ4LCAvKiBVKzAwNDggTEFUSU4gQ0FQSVRBTCBMRVRURVIgSCAqL1xuICAgIFhLX0k6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDQ5LCAvKiBVKzAwNDkgTEFUSU4gQ0FQSVRBTCBMRVRURVIgSSAqL1xuICAgIFhLX0o6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDRhLCAvKiBVKzAwNEEgTEFUSU4gQ0FQSVRBTCBMRVRURVIgSiAqL1xuICAgIFhLX0s6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDRiLCAvKiBVKzAwNEIgTEFUSU4gQ0FQSVRBTCBMRVRURVIgSyAqL1xuICAgIFhLX0w6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDRjLCAvKiBVKzAwNEMgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTCAqL1xuICAgIFhLX006ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDRkLCAvKiBVKzAwNEQgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTSAqL1xuICAgIFhLX046ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDRlLCAvKiBVKzAwNEUgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTiAqL1xuICAgIFhLX086ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDRmLCAvKiBVKzAwNEYgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyAqL1xuICAgIFhLX1A6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDUwLCAvKiBVKzAwNTAgTEFUSU4gQ0FQSVRBTCBMRVRURVIgUCAqL1xuICAgIFhLX1E6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDUxLCAvKiBVKzAwNTEgTEFUSU4gQ0FQSVRBTCBMRVRURVIgUSAqL1xuICAgIFhLX1I6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDUyLCAvKiBVKzAwNTIgTEFUSU4gQ0FQSVRBTCBMRVRURVIgUiAqL1xuICAgIFhLX1M6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDUzLCAvKiBVKzAwNTMgTEFUSU4gQ0FQSVRBTCBMRVRURVIgUyAqL1xuICAgIFhLX1Q6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDU0LCAvKiBVKzAwNTQgTEFUSU4gQ0FQSVRBTCBMRVRURVIgVCAqL1xuICAgIFhLX1U6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDU1LCAvKiBVKzAwNTUgTEFUSU4gQ0FQSVRBTCBMRVRURVIgVSAqL1xuICAgIFhLX1Y6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDU2LCAvKiBVKzAwNTYgTEFUSU4gQ0FQSVRBTCBMRVRURVIgViAqL1xuICAgIFhLX1c6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDU3LCAvKiBVKzAwNTcgTEFUSU4gQ0FQSVRBTCBMRVRURVIgVyAqL1xuICAgIFhLX1g6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDU4LCAvKiBVKzAwNTggTEFUSU4gQ0FQSVRBTCBMRVRURVIgWCAqL1xuICAgIFhLX1k6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDU5LCAvKiBVKzAwNTkgTEFUSU4gQ0FQSVRBTCBMRVRURVIgWSAqL1xuICAgIFhLX1o6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDVhLCAvKiBVKzAwNUEgTEFUSU4gQ0FQSVRBTCBMRVRURVIgWiAqL1xuICAgIFhLX2JyYWNrZXRsZWZ0OiAgICAgICAgICAgICAgICAgMHgwMDViLCAvKiBVKzAwNUIgTEVGVCBTUVVBUkUgQlJBQ0tFVCAqL1xuICAgIFhLX2JhY2tzbGFzaDogICAgICAgICAgICAgICAgICAgMHgwMDVjLCAvKiBVKzAwNUMgUkVWRVJTRSBTT0xJRFVTICovXG4gICAgWEtfYnJhY2tldHJpZ2h0OiAgICAgICAgICAgICAgICAweDAwNWQsIC8qIFUrMDA1RCBSSUdIVCBTUVVBUkUgQlJBQ0tFVCAqL1xuICAgIFhLX2FzY2lpY2lyY3VtOiAgICAgICAgICAgICAgICAgMHgwMDVlLCAvKiBVKzAwNUUgQ0lSQ1VNRkxFWCBBQ0NFTlQgKi9cbiAgICBYS191bmRlcnNjb3JlOiAgICAgICAgICAgICAgICAgIDB4MDA1ZiwgLyogVSswMDVGIExPVyBMSU5FICovXG4gICAgWEtfZ3JhdmU6ICAgICAgICAgICAgICAgICAgICAgICAweDAwNjAsIC8qIFUrMDA2MCBHUkFWRSBBQ0NFTlQgKi9cbiAgICBYS19xdW90ZWxlZnQ6ICAgICAgICAgICAgICAgICAgIDB4MDA2MCwgLyogZGVwcmVjYXRlZCAqL1xuICAgIFhLX2E6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDYxLCAvKiBVKzAwNjEgTEFUSU4gU01BTEwgTEVUVEVSIEEgKi9cbiAgICBYS19iOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2MiwgLyogVSswMDYyIExBVElOIFNNQUxMIExFVFRFUiBCICovXG4gICAgWEtfYzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjMsIC8qIFUrMDA2MyBMQVRJTiBTTUFMTCBMRVRURVIgQyAqL1xuICAgIFhLX2Q6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDY0LCAvKiBVKzAwNjQgTEFUSU4gU01BTEwgTEVUVEVSIEQgKi9cbiAgICBYS19lOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2NSwgLyogVSswMDY1IExBVElOIFNNQUxMIExFVFRFUiBFICovXG4gICAgWEtfZjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjYsIC8qIFUrMDA2NiBMQVRJTiBTTUFMTCBMRVRURVIgRiAqL1xuICAgIFhLX2c6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDY3LCAvKiBVKzAwNjcgTEFUSU4gU01BTEwgTEVUVEVSIEcgKi9cbiAgICBYS19oOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2OCwgLyogVSswMDY4IExBVElOIFNNQUxMIExFVFRFUiBIICovXG4gICAgWEtfaTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjksIC8qIFUrMDA2OSBMQVRJTiBTTUFMTCBMRVRURVIgSSAqL1xuICAgIFhLX2o6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDZhLCAvKiBVKzAwNkEgTEFUSU4gU01BTEwgTEVUVEVSIEogKi9cbiAgICBYS19rOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2YiwgLyogVSswMDZCIExBVElOIFNNQUxMIExFVFRFUiBLICovXG4gICAgWEtfbDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNmMsIC8qIFUrMDA2QyBMQVRJTiBTTUFMTCBMRVRURVIgTCAqL1xuICAgIFhLX206ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDZkLCAvKiBVKzAwNkQgTEFUSU4gU01BTEwgTEVUVEVSIE0gKi9cbiAgICBYS19uOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2ZSwgLyogVSswMDZFIExBVElOIFNNQUxMIExFVFRFUiBOICovXG4gICAgWEtfbzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNmYsIC8qIFUrMDA2RiBMQVRJTiBTTUFMTCBMRVRURVIgTyAqL1xuICAgIFhLX3A6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDcwLCAvKiBVKzAwNzAgTEFUSU4gU01BTEwgTEVUVEVSIFAgKi9cbiAgICBYS19xOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3MSwgLyogVSswMDcxIExBVElOIFNNQUxMIExFVFRFUiBRICovXG4gICAgWEtfcjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzIsIC8qIFUrMDA3MiBMQVRJTiBTTUFMTCBMRVRURVIgUiAqL1xuICAgIFhLX3M6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDczLCAvKiBVKzAwNzMgTEFUSU4gU01BTEwgTEVUVEVSIFMgKi9cbiAgICBYS190OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3NCwgLyogVSswMDc0IExBVElOIFNNQUxMIExFVFRFUiBUICovXG4gICAgWEtfdTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzUsIC8qIFUrMDA3NSBMQVRJTiBTTUFMTCBMRVRURVIgVSAqL1xuICAgIFhLX3Y6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDc2LCAvKiBVKzAwNzYgTEFUSU4gU01BTEwgTEVUVEVSIFYgKi9cbiAgICBYS193OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3NywgLyogVSswMDc3IExBVElOIFNNQUxMIExFVFRFUiBXICovXG4gICAgWEtfeDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzgsIC8qIFUrMDA3OCBMQVRJTiBTTUFMTCBMRVRURVIgWCAqL1xuICAgIFhLX3k6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDc5LCAvKiBVKzAwNzkgTEFUSU4gU01BTEwgTEVUVEVSIFkgKi9cbiAgICBYS196OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3YSwgLyogVSswMDdBIExBVElOIFNNQUxMIExFVFRFUiBaICovXG4gICAgWEtfYnJhY2VsZWZ0OiAgICAgICAgICAgICAgICAgICAweDAwN2IsIC8qIFUrMDA3QiBMRUZUIENVUkxZIEJSQUNLRVQgKi9cbiAgICBYS19iYXI6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3YywgLyogVSswMDdDIFZFUlRJQ0FMIExJTkUgKi9cbiAgICBYS19icmFjZXJpZ2h0OiAgICAgICAgICAgICAgICAgIDB4MDA3ZCwgLyogVSswMDdEIFJJR0hUIENVUkxZIEJSQUNLRVQgKi9cbiAgICBYS19hc2NpaXRpbGRlOiAgICAgICAgICAgICAgICAgIDB4MDA3ZSwgLyogVSswMDdFIFRJTERFICovXG5cbiAgICBYS19ub2JyZWFrc3BhY2U6ICAgICAgICAgICAgICAgIDB4MDBhMCwgLyogVSswMEEwIE5PLUJSRUFLIFNQQUNFICovXG4gICAgWEtfZXhjbGFtZG93bjogICAgICAgICAgICAgICAgICAweDAwYTEsIC8qIFUrMDBBMSBJTlZFUlRFRCBFWENMQU1BVElPTiBNQVJLICovXG4gICAgWEtfY2VudDogICAgICAgICAgICAgICAgICAgICAgICAweDAwYTIsIC8qIFUrMDBBMiBDRU5UIFNJR04gKi9cbiAgICBYS19zdGVybGluZzogICAgICAgICAgICAgICAgICAgIDB4MDBhMywgLyogVSswMEEzIFBPVU5EIFNJR04gKi9cbiAgICBYS19jdXJyZW5jeTogICAgICAgICAgICAgICAgICAgIDB4MDBhNCwgLyogVSswMEE0IENVUlJFTkNZIFNJR04gKi9cbiAgICBYS195ZW46ICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBhNSwgLyogVSswMEE1IFlFTiBTSUdOICovXG4gICAgWEtfYnJva2VuYmFyOiAgICAgICAgICAgICAgICAgICAweDAwYTYsIC8qIFUrMDBBNiBCUk9LRU4gQkFSICovXG4gICAgWEtfc2VjdGlvbjogICAgICAgICAgICAgICAgICAgICAweDAwYTcsIC8qIFUrMDBBNyBTRUNUSU9OIFNJR04gKi9cbiAgICBYS19kaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgIDB4MDBhOCwgLyogVSswMEE4IERJQUVSRVNJUyAqL1xuICAgIFhLX2NvcHlyaWdodDogICAgICAgICAgICAgICAgICAgMHgwMGE5LCAvKiBVKzAwQTkgQ09QWVJJR0hUIFNJR04gKi9cbiAgICBYS19vcmRmZW1pbmluZTogICAgICAgICAgICAgICAgIDB4MDBhYSwgLyogVSswMEFBIEZFTUlOSU5FIE9SRElOQUwgSU5ESUNBVE9SICovXG4gICAgWEtfZ3VpbGxlbW90bGVmdDogICAgICAgICAgICAgICAweDAwYWIsIC8qIFUrMDBBQiBMRUZULVBPSU5USU5HIERPVUJMRSBBTkdMRSBRVU9UQVRJT04gTUFSSyAqL1xuICAgIFhLX25vdHNpZ246ICAgICAgICAgICAgICAgICAgICAgMHgwMGFjLCAvKiBVKzAwQUMgTk9UIFNJR04gKi9cbiAgICBYS19oeXBoZW46ICAgICAgICAgICAgICAgICAgICAgIDB4MDBhZCwgLyogVSswMEFEIFNPRlQgSFlQSEVOICovXG4gICAgWEtfcmVnaXN0ZXJlZDogICAgICAgICAgICAgICAgICAweDAwYWUsIC8qIFUrMDBBRSBSRUdJU1RFUkVEIFNJR04gKi9cbiAgICBYS19tYWNyb246ICAgICAgICAgICAgICAgICAgICAgIDB4MDBhZiwgLyogVSswMEFGIE1BQ1JPTiAqL1xuICAgIFhLX2RlZ3JlZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGIwLCAvKiBVKzAwQjAgREVHUkVFIFNJR04gKi9cbiAgICBYS19wbHVzbWludXM6ICAgICAgICAgICAgICAgICAgIDB4MDBiMSwgLyogVSswMEIxIFBMVVMtTUlOVVMgU0lHTiAqL1xuICAgIFhLX3R3b3N1cGVyaW9yOiAgICAgICAgICAgICAgICAgMHgwMGIyLCAvKiBVKzAwQjIgU1VQRVJTQ1JJUFQgVFdPICovXG4gICAgWEtfdGhyZWVzdXBlcmlvcjogICAgICAgICAgICAgICAweDAwYjMsIC8qIFUrMDBCMyBTVVBFUlNDUklQVCBUSFJFRSAqL1xuICAgIFhLX2FjdXRlOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMGI0LCAvKiBVKzAwQjQgQUNVVEUgQUNDRU5UICovXG4gICAgWEtfbXU6ICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwYjUsIC8qIFUrMDBCNSBNSUNSTyBTSUdOICovXG4gICAgWEtfcGFyYWdyYXBoOiAgICAgICAgICAgICAgICAgICAweDAwYjYsIC8qIFUrMDBCNiBQSUxDUk9XIFNJR04gKi9cbiAgICBYS19wZXJpb2RjZW50ZXJlZDogICAgICAgICAgICAgIDB4MDBiNywgLyogVSswMEI3IE1JRERMRSBET1QgKi9cbiAgICBYS19jZWRpbGxhOiAgICAgICAgICAgICAgICAgICAgIDB4MDBiOCwgLyogVSswMEI4IENFRElMTEEgKi9cbiAgICBYS19vbmVzdXBlcmlvcjogICAgICAgICAgICAgICAgIDB4MDBiOSwgLyogVSswMEI5IFNVUEVSU0NSSVBUIE9ORSAqL1xuICAgIFhLX21hc2N1bGluZTogICAgICAgICAgICAgICAgICAgMHgwMGJhLCAvKiBVKzAwQkEgTUFTQ1VMSU5FIE9SRElOQUwgSU5ESUNBVE9SICovXG4gICAgWEtfZ3VpbGxlbW90cmlnaHQ6ICAgICAgICAgICAgICAweDAwYmIsIC8qIFUrMDBCQiBSSUdIVC1QT0lOVElORyBET1VCTEUgQU5HTEUgUVVPVEFUSU9OIE1BUksgKi9cbiAgICBYS19vbmVxdWFydGVyOiAgICAgICAgICAgICAgICAgIDB4MDBiYywgLyogVSswMEJDIFZVTEdBUiBGUkFDVElPTiBPTkUgUVVBUlRFUiAqL1xuICAgIFhLX29uZWhhbGY6ICAgICAgICAgICAgICAgICAgICAgMHgwMGJkLCAvKiBVKzAwQkQgVlVMR0FSIEZSQUNUSU9OIE9ORSBIQUxGICovXG4gICAgWEtfdGhyZWVxdWFydGVyczogICAgICAgICAgICAgICAweDAwYmUsIC8qIFUrMDBCRSBWVUxHQVIgRlJBQ1RJT04gVEhSRUUgUVVBUlRFUlMgKi9cbiAgICBYS19xdWVzdGlvbmRvd246ICAgICAgICAgICAgICAgIDB4MDBiZiwgLyogVSswMEJGIElOVkVSVEVEIFFVRVNUSU9OIE1BUksgKi9cbiAgICBYS19BZ3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBjMCwgLyogVSswMEMwIExBVElOIENBUElUQUwgTEVUVEVSIEEgV0lUSCBHUkFWRSAqL1xuICAgIFhLX0FhY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGMxLCAvKiBVKzAwQzEgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQSBXSVRIIEFDVVRFICovXG4gICAgWEtfQWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwYzIsIC8qIFUrMDBDMiBMQVRJTiBDQVBJVEFMIExFVFRFUiBBIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX0F0aWxkZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGMzLCAvKiBVKzAwQzMgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQSBXSVRIIFRJTERFICovXG4gICAgWEtfQWRpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwYzQsIC8qIFUrMDBDNCBMQVRJTiBDQVBJVEFMIExFVFRFUiBBIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfQXJpbmc6ICAgICAgICAgICAgICAgICAgICAgICAweDAwYzUsIC8qIFUrMDBDNSBMQVRJTiBDQVBJVEFMIExFVFRFUiBBIFdJVEggUklORyBBQk9WRSAqL1xuICAgIFhLX0FFOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMGM2LCAvKiBVKzAwQzYgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQUUgKi9cbiAgICBYS19DY2VkaWxsYTogICAgICAgICAgICAgICAgICAgIDB4MDBjNywgLyogVSswMEM3IExBVElOIENBUElUQUwgTEVUVEVSIEMgV0lUSCBDRURJTExBICovXG4gICAgWEtfRWdyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwYzgsIC8qIFUrMDBDOCBMQVRJTiBDQVBJVEFMIExFVFRFUiBFIFdJVEggR1JBVkUgKi9cbiAgICBYS19FYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBjOSwgLyogVSswMEM5IExBVElOIENBUElUQUwgTEVUVEVSIEUgV0lUSCBBQ1VURSAqL1xuICAgIFhLX0VjaXJjdW1mbGV4OiAgICAgICAgICAgICAgICAgMHgwMGNhLCAvKiBVKzAwQ0EgTEFUSU4gQ0FQSVRBTCBMRVRURVIgRSBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19FZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBjYiwgLyogVSswMENCIExBVElOIENBUElUQUwgTEVUVEVSIEUgV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS19JZ3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBjYywgLyogVSswMENDIExBVElOIENBUElUQUwgTEVUVEVSIEkgV0lUSCBHUkFWRSAqL1xuICAgIFhLX0lhY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGNkLCAvKiBVKzAwQ0QgTEFUSU4gQ0FQSVRBTCBMRVRURVIgSSBXSVRIIEFDVVRFICovXG4gICAgWEtfSWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwY2UsIC8qIFUrMDBDRSBMQVRJTiBDQVBJVEFMIExFVFRFUiBJIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX0lkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGNmLCAvKiBVKzAwQ0YgTEFUSU4gQ0FQSVRBTCBMRVRURVIgSSBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX0VUSDogICAgICAgICAgICAgICAgICAgICAgICAgMHgwMGQwLCAvKiBVKzAwRDAgTEFUSU4gQ0FQSVRBTCBMRVRURVIgRVRIICovXG4gICAgWEtfRXRoOiAgICAgICAgICAgICAgICAgICAgICAgICAweDAwZDAsIC8qIGRlcHJlY2F0ZWQgKi9cbiAgICBYS19OdGlsZGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkMSwgLyogVSswMEQxIExBVElOIENBUElUQUwgTEVUVEVSIE4gV0lUSCBUSUxERSAqL1xuICAgIFhLX09ncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGQyLCAvKiBVKzAwRDIgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyBXSVRIIEdSQVZFICovXG4gICAgWEtfT2FjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZDMsIC8qIFUrMDBEMyBMQVRJTiBDQVBJVEFMIExFVFRFUiBPIFdJVEggQUNVVEUgKi9cbiAgICBYS19PY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBkNCwgLyogVSswMEQ0IExBVElOIENBUElUQUwgTEVUVEVSIE8gV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfT3RpbGRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZDUsIC8qIFUrMDBENSBMQVRJTiBDQVBJVEFMIExFVFRFUiBPIFdJVEggVElMREUgKi9cbiAgICBYS19PZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBkNiwgLyogVSswMEQ2IExBVElOIENBUElUQUwgTEVUVEVSIE8gV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS19tdWx0aXBseTogICAgICAgICAgICAgICAgICAgIDB4MDBkNywgLyogVSswMEQ3IE1VTFRJUExJQ0FUSU9OIFNJR04gKi9cbiAgICBYS19Pc2xhc2g6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkOCwgLyogVSswMEQ4IExBVElOIENBUElUQUwgTEVUVEVSIE8gV0lUSCBTVFJPS0UgKi9cbiAgICBYS19Pb2JsaXF1ZTogICAgICAgICAgICAgICAgICAgIDB4MDBkOCwgLyogVSswMEQ4IExBVElOIENBUElUQUwgTEVUVEVSIE8gV0lUSCBTVFJPS0UgKi9cbiAgICBYS19VZ3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkOSwgLyogVSswMEQ5IExBVElOIENBUElUQUwgTEVUVEVSIFUgV0lUSCBHUkFWRSAqL1xuICAgIFhLX1VhY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGRhLCAvKiBVKzAwREEgTEFUSU4gQ0FQSVRBTCBMRVRURVIgVSBXSVRIIEFDVVRFICovXG4gICAgWEtfVWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwZGIsIC8qIFUrMDBEQiBMQVRJTiBDQVBJVEFMIExFVFRFUiBVIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX1VkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGRjLCAvKiBVKzAwREMgTEFUSU4gQ0FQSVRBTCBMRVRURVIgVSBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX1lhY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGRkLCAvKiBVKzAwREQgTEFUSU4gQ0FQSVRBTCBMRVRURVIgWSBXSVRIIEFDVVRFICovXG4gICAgWEtfVEhPUk46ICAgICAgICAgICAgICAgICAgICAgICAweDAwZGUsIC8qIFUrMDBERSBMQVRJTiBDQVBJVEFMIExFVFRFUiBUSE9STiAqL1xuICAgIFhLX1Rob3JuOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMGRlLCAvKiBkZXByZWNhdGVkICovXG4gICAgWEtfc3NoYXJwOiAgICAgICAgICAgICAgICAgICAgICAweDAwZGYsIC8qIFUrMDBERiBMQVRJTiBTTUFMTCBMRVRURVIgU0hBUlAgUyAqL1xuICAgIFhLX2FncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGUwLCAvKiBVKzAwRTAgTEFUSU4gU01BTEwgTEVUVEVSIEEgV0lUSCBHUkFWRSAqL1xuICAgIFhLX2FhY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGUxLCAvKiBVKzAwRTEgTEFUSU4gU01BTEwgTEVUVEVSIEEgV0lUSCBBQ1VURSAqL1xuICAgIFhLX2FjaXJjdW1mbGV4OiAgICAgICAgICAgICAgICAgMHgwMGUyLCAvKiBVKzAwRTIgTEFUSU4gU01BTEwgTEVUVEVSIEEgV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfYXRpbGRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZTMsIC8qIFUrMDBFMyBMQVRJTiBTTUFMTCBMRVRURVIgQSBXSVRIIFRJTERFICovXG4gICAgWEtfYWRpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwZTQsIC8qIFUrMDBFNCBMQVRJTiBTTUFMTCBMRVRURVIgQSBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX2FyaW5nOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMGU1LCAvKiBVKzAwRTUgTEFUSU4gU01BTEwgTEVUVEVSIEEgV0lUSCBSSU5HIEFCT1ZFICovXG4gICAgWEtfYWU6ICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwZTYsIC8qIFUrMDBFNiBMQVRJTiBTTUFMTCBMRVRURVIgQUUgKi9cbiAgICBYS19jY2VkaWxsYTogICAgICAgICAgICAgICAgICAgIDB4MDBlNywgLyogVSswMEU3IExBVElOIFNNQUxMIExFVFRFUiBDIFdJVEggQ0VESUxMQSAqL1xuICAgIFhLX2VncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGU4LCAvKiBVKzAwRTggTEFUSU4gU01BTEwgTEVUVEVSIEUgV0lUSCBHUkFWRSAqL1xuICAgIFhLX2VhY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGU5LCAvKiBVKzAwRTkgTEFUSU4gU01BTEwgTEVUVEVSIEUgV0lUSCBBQ1VURSAqL1xuICAgIFhLX2VjaXJjdW1mbGV4OiAgICAgICAgICAgICAgICAgMHgwMGVhLCAvKiBVKzAwRUEgTEFUSU4gU01BTEwgTEVUVEVSIEUgV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfZWRpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwZWIsIC8qIFUrMDBFQiBMQVRJTiBTTUFMTCBMRVRURVIgRSBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX2lncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGVjLCAvKiBVKzAwRUMgTEFUSU4gU01BTEwgTEVUVEVSIEkgV0lUSCBHUkFWRSAqL1xuICAgIFhLX2lhY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGVkLCAvKiBVKzAwRUQgTEFUSU4gU01BTEwgTEVUVEVSIEkgV0lUSCBBQ1VURSAqL1xuICAgIFhLX2ljaXJjdW1mbGV4OiAgICAgICAgICAgICAgICAgMHgwMGVlLCAvKiBVKzAwRUUgTEFUSU4gU01BTEwgTEVUVEVSIEkgV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfaWRpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwZWYsIC8qIFUrMDBFRiBMQVRJTiBTTUFMTCBMRVRURVIgSSBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX2V0aDogICAgICAgICAgICAgICAgICAgICAgICAgMHgwMGYwLCAvKiBVKzAwRjAgTEFUSU4gU01BTEwgTEVUVEVSIEVUSCAqL1xuICAgIFhLX250aWxkZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGYxLCAvKiBVKzAwRjEgTEFUSU4gU01BTEwgTEVUVEVSIE4gV0lUSCBUSUxERSAqL1xuICAgIFhLX29ncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGYyLCAvKiBVKzAwRjIgTEFUSU4gU01BTEwgTEVUVEVSIE8gV0lUSCBHUkFWRSAqL1xuICAgIFhLX29hY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGYzLCAvKiBVKzAwRjMgTEFUSU4gU01BTEwgTEVUVEVSIE8gV0lUSCBBQ1VURSAqL1xuICAgIFhLX29jaXJjdW1mbGV4OiAgICAgICAgICAgICAgICAgMHgwMGY0LCAvKiBVKzAwRjQgTEFUSU4gU01BTEwgTEVUVEVSIE8gV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfb3RpbGRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZjUsIC8qIFUrMDBGNSBMQVRJTiBTTUFMTCBMRVRURVIgTyBXSVRIIFRJTERFICovXG4gICAgWEtfb2RpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwZjYsIC8qIFUrMDBGNiBMQVRJTiBTTUFMTCBMRVRURVIgTyBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX2RpdmlzaW9uOiAgICAgICAgICAgICAgICAgICAgMHgwMGY3LCAvKiBVKzAwRjcgRElWSVNJT04gU0lHTiAqL1xuICAgIFhLX29zbGFzaDogICAgICAgICAgICAgICAgICAgICAgMHgwMGY4LCAvKiBVKzAwRjggTEFUSU4gU01BTEwgTEVUVEVSIE8gV0lUSCBTVFJPS0UgKi9cbiAgICBYS19vb2JsaXF1ZTogICAgICAgICAgICAgICAgICAgIDB4MDBmOCwgLyogVSswMEY4IExBVElOIFNNQUxMIExFVFRFUiBPIFdJVEggU1RST0tFICovXG4gICAgWEtfdWdyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZjksIC8qIFUrMDBGOSBMQVRJTiBTTUFMTCBMRVRURVIgVSBXSVRIIEdSQVZFICovXG4gICAgWEtfdWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZmEsIC8qIFUrMDBGQSBMQVRJTiBTTUFMTCBMRVRURVIgVSBXSVRIIEFDVVRFICovXG4gICAgWEtfdWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwZmIsIC8qIFUrMDBGQiBMQVRJTiBTTUFMTCBMRVRURVIgVSBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS191ZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBmYywgLyogVSswMEZDIExBVElOIFNNQUxMIExFVFRFUiBVIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfeWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZmQsIC8qIFUrMDBGRCBMQVRJTiBTTUFMTCBMRVRURVIgWSBXSVRIIEFDVVRFICovXG4gICAgWEtfdGhvcm46ICAgICAgICAgICAgICAgICAgICAgICAweDAwZmUsIC8qIFUrMDBGRSBMQVRJTiBTTUFMTCBMRVRURVIgVEhPUk4gKi9cbiAgICBYS195ZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBmZiwgLyogVSswMEZGIExBVElOIFNNQUxMIExFVFRFUiBZIFdJVEggRElBRVJFU0lTICovXG5cbiAgICAvKlxuICAgICAqIEtvcmVhblxuICAgICAqIEJ5dGUgMyA9IDB4MGVcbiAgICAgKi9cblxuICAgIFhLX0hhbmd1bDogICAgICAgICAgICAgICAgICAgICAgMHhmZjMxLCAvKiBIYW5ndWwgc3RhcnQvc3RvcCh0b2dnbGUpICovXG4gICAgWEtfSGFuZ3VsX0hhbmphOiAgICAgICAgICAgICAgICAweGZmMzQsIC8qIFN0YXJ0IEhhbmd1bC0+SGFuamEgQ29udmVyc2lvbiAqL1xuICAgIFhLX0hhbmd1bF9KZW9uamE6ICAgICAgICAgICAgICAgMHhmZjM4LCAvKiBKZW9uamEgbW9kZSAqL1xuXG4gICAgLypcbiAgICAgKiBYRnJlZTg2IHZlbmRvciBzcGVjaWZpYyBrZXlzeW1zLlxuICAgICAqXG4gICAgICogVGhlIFhGcmVlODYga2V5c3ltIHJhbmdlIGlzIDB4MTAwODAwMDEgLSAweDEwMDhGRkZGLlxuICAgICAqL1xuXG4gICAgWEY4NlhLX01vZGVMb2NrOiAgICAgICAgICAgICAgICAweDEwMDhGRjAxLFxuICAgIFhGODZYS19Nb25CcmlnaHRuZXNzVXA6ICAgICAgICAgMHgxMDA4RkYwMixcbiAgICBYRjg2WEtfTW9uQnJpZ2h0bmVzc0Rvd246ICAgICAgIDB4MTAwOEZGMDMsXG4gICAgWEY4NlhLX0tiZExpZ2h0T25PZmY6ICAgICAgICAgICAweDEwMDhGRjA0LFxuICAgIFhGODZYS19LYmRCcmlnaHRuZXNzVXA6ICAgICAgICAgMHgxMDA4RkYwNSxcbiAgICBYRjg2WEtfS2JkQnJpZ2h0bmVzc0Rvd246ICAgICAgIDB4MTAwOEZGMDYsXG4gICAgWEY4NlhLX1N0YW5kYnk6ICAgICAgICAgICAgICAgICAweDEwMDhGRjEwLFxuICAgIFhGODZYS19BdWRpb0xvd2VyVm9sdW1lOiAgICAgICAgMHgxMDA4RkYxMSxcbiAgICBYRjg2WEtfQXVkaW9NdXRlOiAgICAgICAgICAgICAgIDB4MTAwOEZGMTIsXG4gICAgWEY4NlhLX0F1ZGlvUmFpc2VWb2x1bWU6ICAgICAgICAweDEwMDhGRjEzLFxuICAgIFhGODZYS19BdWRpb1BsYXk6ICAgICAgICAgICAgICAgMHgxMDA4RkYxNCxcbiAgICBYRjg2WEtfQXVkaW9TdG9wOiAgICAgICAgICAgICAgIDB4MTAwOEZGMTUsXG4gICAgWEY4NlhLX0F1ZGlvUHJldjogICAgICAgICAgICAgICAweDEwMDhGRjE2LFxuICAgIFhGODZYS19BdWRpb05leHQ6ICAgICAgICAgICAgICAgMHgxMDA4RkYxNyxcbiAgICBYRjg2WEtfSG9tZVBhZ2U6ICAgICAgICAgICAgICAgIDB4MTAwOEZGMTgsXG4gICAgWEY4NlhLX01haWw6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjE5LFxuICAgIFhGODZYS19TdGFydDogICAgICAgICAgICAgICAgICAgMHgxMDA4RkYxQSxcbiAgICBYRjg2WEtfU2VhcmNoOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMUIsXG4gICAgWEY4NlhLX0F1ZGlvUmVjb3JkOiAgICAgICAgICAgICAweDEwMDhGRjFDLFxuICAgIFhGODZYS19DYWxjdWxhdG9yOiAgICAgICAgICAgICAgMHgxMDA4RkYxRCxcbiAgICBYRjg2WEtfTWVtbzogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMUUsXG4gICAgWEY4NlhLX1RvRG9MaXN0OiAgICAgICAgICAgICAgICAweDEwMDhGRjFGLFxuICAgIFhGODZYS19DYWxlbmRhcjogICAgICAgICAgICAgICAgMHgxMDA4RkYyMCxcbiAgICBYRjg2WEtfUG93ZXJEb3duOiAgICAgICAgICAgICAgIDB4MTAwOEZGMjEsXG4gICAgWEY4NlhLX0NvbnRyYXN0QWRqdXN0OiAgICAgICAgICAweDEwMDhGRjIyLFxuICAgIFhGODZYS19Sb2NrZXJVcDogICAgICAgICAgICAgICAgMHgxMDA4RkYyMyxcbiAgICBYRjg2WEtfUm9ja2VyRG93bjogICAgICAgICAgICAgIDB4MTAwOEZGMjQsXG4gICAgWEY4NlhLX1JvY2tlckVudGVyOiAgICAgICAgICAgICAweDEwMDhGRjI1LFxuICAgIFhGODZYS19CYWNrOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkYyNixcbiAgICBYRjg2WEtfRm9yd2FyZDogICAgICAgICAgICAgICAgIDB4MTAwOEZGMjcsXG4gICAgWEY4NlhLX1N0b3A6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjI4LFxuICAgIFhGODZYS19SZWZyZXNoOiAgICAgICAgICAgICAgICAgMHgxMDA4RkYyOSxcbiAgICBYRjg2WEtfUG93ZXJPZmY6ICAgICAgICAgICAgICAgIDB4MTAwOEZGMkEsXG4gICAgWEY4NlhLX1dha2VVcDogICAgICAgICAgICAgICAgICAweDEwMDhGRjJCLFxuICAgIFhGODZYS19FamVjdDogICAgICAgICAgICAgICAgICAgMHgxMDA4RkYyQyxcbiAgICBYRjg2WEtfU2NyZWVuU2F2ZXI6ICAgICAgICAgICAgIDB4MTAwOEZGMkQsXG4gICAgWEY4NlhLX1dXVzogICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjJFLFxuICAgIFhGODZYS19TbGVlcDogICAgICAgICAgICAgICAgICAgMHgxMDA4RkYyRixcbiAgICBYRjg2WEtfRmF2b3JpdGVzOiAgICAgICAgICAgICAgIDB4MTAwOEZGMzAsXG4gICAgWEY4NlhLX0F1ZGlvUGF1c2U6ICAgICAgICAgICAgICAweDEwMDhGRjMxLFxuICAgIFhGODZYS19BdWRpb01lZGlhOiAgICAgICAgICAgICAgMHgxMDA4RkYzMixcbiAgICBYRjg2WEtfTXlDb21wdXRlcjogICAgICAgICAgICAgIDB4MTAwOEZGMzMsXG4gICAgWEY4NlhLX1ZlbmRvckhvbWU6ICAgICAgICAgICAgICAweDEwMDhGRjM0LFxuICAgIFhGODZYS19MaWdodEJ1bGI6ICAgICAgICAgICAgICAgMHgxMDA4RkYzNSxcbiAgICBYRjg2WEtfU2hvcDogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMzYsXG4gICAgWEY4NlhLX0hpc3Rvcnk6ICAgICAgICAgICAgICAgICAweDEwMDhGRjM3LFxuICAgIFhGODZYS19PcGVuVVJMOiAgICAgICAgICAgICAgICAgMHgxMDA4RkYzOCxcbiAgICBYRjg2WEtfQWRkRmF2b3JpdGU6ICAgICAgICAgICAgIDB4MTAwOEZGMzksXG4gICAgWEY4NlhLX0hvdExpbmtzOiAgICAgICAgICAgICAgICAweDEwMDhGRjNBLFxuICAgIFhGODZYS19CcmlnaHRuZXNzQWRqdXN0OiAgICAgICAgMHgxMDA4RkYzQixcbiAgICBYRjg2WEtfRmluYW5jZTogICAgICAgICAgICAgICAgIDB4MTAwOEZGM0MsXG4gICAgWEY4NlhLX0NvbW11bml0eTogICAgICAgICAgICAgICAweDEwMDhGRjNELFxuICAgIFhGODZYS19BdWRpb1Jld2luZDogICAgICAgICAgICAgMHgxMDA4RkYzRSxcbiAgICBYRjg2WEtfQmFja0ZvcndhcmQ6ICAgICAgICAgICAgIDB4MTAwOEZGM0YsXG4gICAgWEY4NlhLX0xhdW5jaDA6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQwLFxuICAgIFhGODZYS19MYXVuY2gxOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0MSxcbiAgICBYRjg2WEtfTGF1bmNoMjogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDIsXG4gICAgWEY4NlhLX0xhdW5jaDM6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQzLFxuICAgIFhGODZYS19MYXVuY2g0OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0NCxcbiAgICBYRjg2WEtfTGF1bmNoNTogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDUsXG4gICAgWEY4NlhLX0xhdW5jaDY6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQ2LFxuICAgIFhGODZYS19MYXVuY2g3OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0NyxcbiAgICBYRjg2WEtfTGF1bmNoODogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDgsXG4gICAgWEY4NlhLX0xhdW5jaDk6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQ5LFxuICAgIFhGODZYS19MYXVuY2hBOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0QSxcbiAgICBYRjg2WEtfTGF1bmNoQjogICAgICAgICAgICAgICAgIDB4MTAwOEZGNEIsXG4gICAgWEY4NlhLX0xhdW5jaEM6ICAgICAgICAgICAgICAgICAweDEwMDhGRjRDLFxuICAgIFhGODZYS19MYXVuY2hEOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0RCxcbiAgICBYRjg2WEtfTGF1bmNoRTogICAgICAgICAgICAgICAgIDB4MTAwOEZGNEUsXG4gICAgWEY4NlhLX0xhdW5jaEY6ICAgICAgICAgICAgICAgICAweDEwMDhGRjRGLFxuICAgIFhGODZYS19BcHBsaWNhdGlvbkxlZnQ6ICAgICAgICAgMHgxMDA4RkY1MCxcbiAgICBYRjg2WEtfQXBwbGljYXRpb25SaWdodDogICAgICAgIDB4MTAwOEZGNTEsXG4gICAgWEY4NlhLX0Jvb2s6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjUyLFxuICAgIFhGODZYS19DRDogICAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1MyxcbiAgICBYRjg2WEtfQ2FsY3VsYXRlcjogICAgICAgICAgICAgIDB4MTAwOEZGNTQsXG4gICAgWEY4NlhLX0NsZWFyOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjU1LFxuICAgIFhGODZYS19DbG9zZTogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1NixcbiAgICBYRjg2WEtfQ29weTogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNTcsXG4gICAgWEY4NlhLX0N1dDogICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjU4LFxuICAgIFhGODZYS19EaXNwbGF5OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY1OSxcbiAgICBYRjg2WEtfRE9TOiAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNUEsXG4gICAgWEY4NlhLX0RvY3VtZW50czogICAgICAgICAgICAgICAweDEwMDhGRjVCLFxuICAgIFhGODZYS19FeGNlbDogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1QyxcbiAgICBYRjg2WEtfRXhwbG9yZXI6ICAgICAgICAgICAgICAgIDB4MTAwOEZGNUQsXG4gICAgWEY4NlhLX0dhbWU6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjVFLFxuICAgIFhGODZYS19HbzogICAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1RixcbiAgICBYRjg2WEtfaVRvdWNoOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNjAsXG4gICAgWEY4NlhLX0xvZ09mZjogICAgICAgICAgICAgICAgICAweDEwMDhGRjYxLFxuICAgIFhGODZYS19NYXJrZXQ6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2MixcbiAgICBYRjg2WEtfTWVldGluZzogICAgICAgICAgICAgICAgIDB4MTAwOEZGNjMsXG4gICAgWEY4NlhLX01lbnVLQjogICAgICAgICAgICAgICAgICAweDEwMDhGRjY1LFxuICAgIFhGODZYS19NZW51UEI6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2NixcbiAgICBYRjg2WEtfTXlTaXRlczogICAgICAgICAgICAgICAgIDB4MTAwOEZGNjcsXG4gICAgWEY4NlhLX05ldzogICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjY4LFxuICAgIFhGODZYS19OZXdzOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2OSxcbiAgICBYRjg2WEtfT2ZmaWNlSG9tZTogICAgICAgICAgICAgIDB4MTAwOEZGNkEsXG4gICAgWEY4NlhLX09wZW46ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjZCLFxuICAgIFhGODZYS19PcHRpb246ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2QyxcbiAgICBYRjg2WEtfUGFzdGU6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNkQsXG4gICAgWEY4NlhLX1Bob25lOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjZFLFxuICAgIFhGODZYS19ROiAgICAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY3MCxcbiAgICBYRjg2WEtfUmVwbHk6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNzIsXG4gICAgWEY4NlhLX1JlbG9hZDogICAgICAgICAgICAgICAgICAweDEwMDhGRjczLFxuICAgIFhGODZYS19Sb3RhdGVXaW5kb3dzOiAgICAgICAgICAgMHgxMDA4RkY3NCxcbiAgICBYRjg2WEtfUm90YXRpb25QQjogICAgICAgICAgICAgIDB4MTAwOEZGNzUsXG4gICAgWEY4NlhLX1JvdGF0aW9uS0I6ICAgICAgICAgICAgICAweDEwMDhGRjc2LFxuICAgIFhGODZYS19TYXZlOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY3NyxcbiAgICBYRjg2WEtfU2Nyb2xsVXA6ICAgICAgICAgICAgICAgIDB4MTAwOEZGNzgsXG4gICAgWEY4NlhLX1Njcm9sbERvd246ICAgICAgICAgICAgICAweDEwMDhGRjc5LFxuICAgIFhGODZYS19TY3JvbGxDbGljazogICAgICAgICAgICAgMHgxMDA4RkY3QSxcbiAgICBYRjg2WEtfU2VuZDogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGN0IsXG4gICAgWEY4NlhLX1NwZWxsOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjdDLFxuICAgIFhGODZYS19TcGxpdFNjcmVlbjogICAgICAgICAgICAgMHgxMDA4RkY3RCxcbiAgICBYRjg2WEtfU3VwcG9ydDogICAgICAgICAgICAgICAgIDB4MTAwOEZGN0UsXG4gICAgWEY4NlhLX1Rhc2tQYW5lOiAgICAgICAgICAgICAgICAweDEwMDhGRjdGLFxuICAgIFhGODZYS19UZXJtaW5hbDogICAgICAgICAgICAgICAgMHgxMDA4RkY4MCxcbiAgICBYRjg2WEtfVG9vbHM6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGODEsXG4gICAgWEY4NlhLX1RyYXZlbDogICAgICAgICAgICAgICAgICAweDEwMDhGRjgyLFxuICAgIFhGODZYS19Vc2VyUEI6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY4NCxcbiAgICBYRjg2WEtfVXNlcjFLQjogICAgICAgICAgICAgICAgIDB4MTAwOEZGODUsXG4gICAgWEY4NlhLX1VzZXIyS0I6ICAgICAgICAgICAgICAgICAweDEwMDhGRjg2LFxuICAgIFhGODZYS19WaWRlbzogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY4NyxcbiAgICBYRjg2WEtfV2hlZWxCdXR0b246ICAgICAgICAgICAgIDB4MTAwOEZGODgsXG4gICAgWEY4NlhLX1dvcmQ6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjg5LFxuICAgIFhGODZYS19YZmVyOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY4QSxcbiAgICBYRjg2WEtfWm9vbUluOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGOEIsXG4gICAgWEY4NlhLX1pvb21PdXQ6ICAgICAgICAgICAgICAgICAweDEwMDhGRjhDLFxuICAgIFhGODZYS19Bd2F5OiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY4RCxcbiAgICBYRjg2WEtfTWVzc2VuZ2VyOiAgICAgICAgICAgICAgIDB4MTAwOEZGOEUsXG4gICAgWEY4NlhLX1dlYkNhbTogICAgICAgICAgICAgICAgICAweDEwMDhGRjhGLFxuICAgIFhGODZYS19NYWlsRm9yd2FyZDogICAgICAgICAgICAgMHgxMDA4RkY5MCxcbiAgICBYRjg2WEtfUGljdHVyZXM6ICAgICAgICAgICAgICAgIDB4MTAwOEZGOTEsXG4gICAgWEY4NlhLX011c2ljOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjkyLFxuICAgIFhGODZYS19CYXR0ZXJ5OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY5MyxcbiAgICBYRjg2WEtfQmx1ZXRvb3RoOiAgICAgICAgICAgICAgIDB4MTAwOEZGOTQsXG4gICAgWEY4NlhLX1dMQU46ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjk1LFxuICAgIFhGODZYS19VV0I6ICAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY5NixcbiAgICBYRjg2WEtfQXVkaW9Gb3J3YXJkOiAgICAgICAgICAgIDB4MTAwOEZGOTcsXG4gICAgWEY4NlhLX0F1ZGlvUmVwZWF0OiAgICAgICAgICAgICAweDEwMDhGRjk4LFxuICAgIFhGODZYS19BdWRpb1JhbmRvbVBsYXk6ICAgICAgICAgMHgxMDA4RkY5OSxcbiAgICBYRjg2WEtfU3VidGl0bGU6ICAgICAgICAgICAgICAgIDB4MTAwOEZGOUEsXG4gICAgWEY4NlhLX0F1ZGlvQ3ljbGVUcmFjazogICAgICAgICAweDEwMDhGRjlCLFxuICAgIFhGODZYS19DeWNsZUFuZ2xlOiAgICAgICAgICAgICAgMHgxMDA4RkY5QyxcbiAgICBYRjg2WEtfRnJhbWVCYWNrOiAgICAgICAgICAgICAgIDB4MTAwOEZGOUQsXG4gICAgWEY4NlhLX0ZyYW1lRm9yd2FyZDogICAgICAgICAgICAweDEwMDhGRjlFLFxuICAgIFhGODZYS19UaW1lOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY5RixcbiAgICBYRjg2WEtfU2VsZWN0OiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGQTAsXG4gICAgWEY4NlhLX1ZpZXc6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRkExLFxuICAgIFhGODZYS19Ub3BNZW51OiAgICAgICAgICAgICAgICAgMHgxMDA4RkZBMixcbiAgICBYRjg2WEtfUmVkOiAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGQTMsXG4gICAgWEY4NlhLX0dyZWVuOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRkE0LFxuICAgIFhGODZYS19ZZWxsb3c6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkZBNSxcbiAgICBYRjg2WEtfQmx1ZTogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGQTYsXG4gICAgWEY4NlhLX1N1c3BlbmQ6ICAgICAgICAgICAgICAgICAweDEwMDhGRkE3LFxuICAgIFhGODZYS19IaWJlcm5hdGU6ICAgICAgICAgICAgICAgMHgxMDA4RkZBOCxcbiAgICBYRjg2WEtfVG91Y2hwYWRUb2dnbGU6ICAgICAgICAgIDB4MTAwOEZGQTksXG4gICAgWEY4NlhLX1RvdWNocGFkT246ICAgICAgICAgICAgICAweDEwMDhGRkIwLFxuICAgIFhGODZYS19Ub3VjaHBhZE9mZjogICAgICAgICAgICAgMHgxMDA4RkZCMSxcbiAgICBYRjg2WEtfQXVkaW9NaWNNdXRlOiAgICAgICAgICAgIDB4MTAwOEZGQjIsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF8xOiAgICAgICAgICAgICAweDEwMDhGRTAxLFxuICAgIFhGODZYS19Td2l0Y2hfVlRfMjogICAgICAgICAgICAgMHgxMDA4RkUwMixcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzM6ICAgICAgICAgICAgIDB4MTAwOEZFMDMsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF80OiAgICAgICAgICAgICAweDEwMDhGRTA0LFxuICAgIFhGODZYS19Td2l0Y2hfVlRfNTogICAgICAgICAgICAgMHgxMDA4RkUwNSxcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzY6ICAgICAgICAgICAgIDB4MTAwOEZFMDYsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF83OiAgICAgICAgICAgICAweDEwMDhGRTA3LFxuICAgIFhGODZYS19Td2l0Y2hfVlRfODogICAgICAgICAgICAgMHgxMDA4RkUwOCxcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzk6ICAgICAgICAgICAgIDB4MTAwOEZFMDksXG4gICAgWEY4NlhLX1N3aXRjaF9WVF8xMDogICAgICAgICAgICAweDEwMDhGRTBBLFxuICAgIFhGODZYS19Td2l0Y2hfVlRfMTE6ICAgICAgICAgICAgMHgxMDA4RkUwQixcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzEyOiAgICAgICAgICAgIDB4MTAwOEZFMEMsXG4gICAgWEY4NlhLX1VuZ3JhYjogICAgICAgICAgICAgICAgICAweDEwMDhGRTIwLFxuICAgIFhGODZYS19DbGVhckdyYWI6ICAgICAgICAgICAgICAgMHgxMDA4RkUyMSxcbiAgICBYRjg2WEtfTmV4dF9WTW9kZTogICAgICAgICAgICAgIDB4MTAwOEZFMjIsXG4gICAgWEY4NlhLX1ByZXZfVk1vZGU6ICAgICAgICAgICAgICAweDEwMDhGRTIzLFxuICAgIFhGODZYS19Mb2dXaW5kb3dUcmVlOiAgICAgICAgICAgMHgxMDA4RkUyNCxcbiAgICBYRjg2WEtfTG9nR3JhYkluZm86ICAgICAgICAgICAgIDB4MTAwOEZFMjUsXG59O1xuIiwiLypcbiAqIE1hcHBpbmcgZnJvbSBVbmljb2RlIGNvZGVwb2ludHMgdG8gWDExL1JGQiBrZXlzeW1zXG4gKlxuICogVGhpcyBmaWxlIHdhcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBmcm9tIGtleXN5bWRlZi5oXG4gKiBETyBOT1QgRURJVCFcbiAqL1xuXG4vKiBGdW5jdGlvbnMgYXQgdGhlIGJvdHRvbSAqL1xuXG52YXIgY29kZXBvaW50cyA9IHtcbiAgICAweDAxMDA6IDB4MDNjMCwgLy8gWEtfQW1hY3JvblxuICAgIDB4MDEwMTogMHgwM2UwLCAvLyBYS19hbWFjcm9uXG4gICAgMHgwMTAyOiAweDAxYzMsIC8vIFhLX0FicmV2ZVxuICAgIDB4MDEwMzogMHgwMWUzLCAvLyBYS19hYnJldmVcbiAgICAweDAxMDQ6IDB4MDFhMSwgLy8gWEtfQW9nb25la1xuICAgIDB4MDEwNTogMHgwMWIxLCAvLyBYS19hb2dvbmVrXG4gICAgMHgwMTA2OiAweDAxYzYsIC8vIFhLX0NhY3V0ZVxuICAgIDB4MDEwNzogMHgwMWU2LCAvLyBYS19jYWN1dGVcbiAgICAweDAxMDg6IDB4MDJjNiwgLy8gWEtfQ2NpcmN1bWZsZXhcbiAgICAweDAxMDk6IDB4MDJlNiwgLy8gWEtfY2NpcmN1bWZsZXhcbiAgICAweDAxMGE6IDB4MDJjNSwgLy8gWEtfQ2Fib3ZlZG90XG4gICAgMHgwMTBiOiAweDAyZTUsIC8vIFhLX2NhYm92ZWRvdFxuICAgIDB4MDEwYzogMHgwMWM4LCAvLyBYS19DY2Fyb25cbiAgICAweDAxMGQ6IDB4MDFlOCwgLy8gWEtfY2Nhcm9uXG4gICAgMHgwMTBlOiAweDAxY2YsIC8vIFhLX0RjYXJvblxuICAgIDB4MDEwZjogMHgwMWVmLCAvLyBYS19kY2Fyb25cbiAgICAweDAxMTA6IDB4MDFkMCwgLy8gWEtfRHN0cm9rZVxuICAgIDB4MDExMTogMHgwMWYwLCAvLyBYS19kc3Ryb2tlXG4gICAgMHgwMTEyOiAweDAzYWEsIC8vIFhLX0VtYWNyb25cbiAgICAweDAxMTM6IDB4MDNiYSwgLy8gWEtfZW1hY3JvblxuICAgIDB4MDExNjogMHgwM2NjLCAvLyBYS19FYWJvdmVkb3RcbiAgICAweDAxMTc6IDB4MDNlYywgLy8gWEtfZWFib3ZlZG90XG4gICAgMHgwMTE4OiAweDAxY2EsIC8vIFhLX0VvZ29uZWtcbiAgICAweDAxMTk6IDB4MDFlYSwgLy8gWEtfZW9nb25la1xuICAgIDB4MDExYTogMHgwMWNjLCAvLyBYS19FY2Fyb25cbiAgICAweDAxMWI6IDB4MDFlYywgLy8gWEtfZWNhcm9uXG4gICAgMHgwMTFjOiAweDAyZDgsIC8vIFhLX0djaXJjdW1mbGV4XG4gICAgMHgwMTFkOiAweDAyZjgsIC8vIFhLX2djaXJjdW1mbGV4XG4gICAgMHgwMTFlOiAweDAyYWIsIC8vIFhLX0dicmV2ZVxuICAgIDB4MDExZjogMHgwMmJiLCAvLyBYS19nYnJldmVcbiAgICAweDAxMjA6IDB4MDJkNSwgLy8gWEtfR2Fib3ZlZG90XG4gICAgMHgwMTIxOiAweDAyZjUsIC8vIFhLX2dhYm92ZWRvdFxuICAgIDB4MDEyMjogMHgwM2FiLCAvLyBYS19HY2VkaWxsYVxuICAgIDB4MDEyMzogMHgwM2JiLCAvLyBYS19nY2VkaWxsYVxuICAgIDB4MDEyNDogMHgwMmE2LCAvLyBYS19IY2lyY3VtZmxleFxuICAgIDB4MDEyNTogMHgwMmI2LCAvLyBYS19oY2lyY3VtZmxleFxuICAgIDB4MDEyNjogMHgwMmExLCAvLyBYS19Ic3Ryb2tlXG4gICAgMHgwMTI3OiAweDAyYjEsIC8vIFhLX2hzdHJva2VcbiAgICAweDAxMjg6IDB4MDNhNSwgLy8gWEtfSXRpbGRlXG4gICAgMHgwMTI5OiAweDAzYjUsIC8vIFhLX2l0aWxkZVxuICAgIDB4MDEyYTogMHgwM2NmLCAvLyBYS19JbWFjcm9uXG4gICAgMHgwMTJiOiAweDAzZWYsIC8vIFhLX2ltYWNyb25cbiAgICAweDAxMmU6IDB4MDNjNywgLy8gWEtfSW9nb25la1xuICAgIDB4MDEyZjogMHgwM2U3LCAvLyBYS19pb2dvbmVrXG4gICAgMHgwMTMwOiAweDAyYTksIC8vIFhLX0lhYm92ZWRvdFxuICAgIDB4MDEzMTogMHgwMmI5LCAvLyBYS19pZG90bGVzc1xuICAgIDB4MDEzNDogMHgwMmFjLCAvLyBYS19KY2lyY3VtZmxleFxuICAgIDB4MDEzNTogMHgwMmJjLCAvLyBYS19qY2lyY3VtZmxleFxuICAgIDB4MDEzNjogMHgwM2QzLCAvLyBYS19LY2VkaWxsYVxuICAgIDB4MDEzNzogMHgwM2YzLCAvLyBYS19rY2VkaWxsYVxuICAgIDB4MDEzODogMHgwM2EyLCAvLyBYS19rcmFcbiAgICAweDAxMzk6IDB4MDFjNSwgLy8gWEtfTGFjdXRlXG4gICAgMHgwMTNhOiAweDAxZTUsIC8vIFhLX2xhY3V0ZVxuICAgIDB4MDEzYjogMHgwM2E2LCAvLyBYS19MY2VkaWxsYVxuICAgIDB4MDEzYzogMHgwM2I2LCAvLyBYS19sY2VkaWxsYVxuICAgIDB4MDEzZDogMHgwMWE1LCAvLyBYS19MY2Fyb25cbiAgICAweDAxM2U6IDB4MDFiNSwgLy8gWEtfbGNhcm9uXG4gICAgMHgwMTQxOiAweDAxYTMsIC8vIFhLX0xzdHJva2VcbiAgICAweDAxNDI6IDB4MDFiMywgLy8gWEtfbHN0cm9rZVxuICAgIDB4MDE0MzogMHgwMWQxLCAvLyBYS19OYWN1dGVcbiAgICAweDAxNDQ6IDB4MDFmMSwgLy8gWEtfbmFjdXRlXG4gICAgMHgwMTQ1OiAweDAzZDEsIC8vIFhLX05jZWRpbGxhXG4gICAgMHgwMTQ2OiAweDAzZjEsIC8vIFhLX25jZWRpbGxhXG4gICAgMHgwMTQ3OiAweDAxZDIsIC8vIFhLX05jYXJvblxuICAgIDB4MDE0ODogMHgwMWYyLCAvLyBYS19uY2Fyb25cbiAgICAweDAxNGE6IDB4MDNiZCwgLy8gWEtfRU5HXG4gICAgMHgwMTRiOiAweDAzYmYsIC8vIFhLX2VuZ1xuICAgIDB4MDE0YzogMHgwM2QyLCAvLyBYS19PbWFjcm9uXG4gICAgMHgwMTRkOiAweDAzZjIsIC8vIFhLX29tYWNyb25cbiAgICAweDAxNTA6IDB4MDFkNSwgLy8gWEtfT2RvdWJsZWFjdXRlXG4gICAgMHgwMTUxOiAweDAxZjUsIC8vIFhLX29kb3VibGVhY3V0ZVxuICAgIDB4MDE1MjogMHgxM2JjLCAvLyBYS19PRVxuICAgIDB4MDE1MzogMHgxM2JkLCAvLyBYS19vZVxuICAgIDB4MDE1NDogMHgwMWMwLCAvLyBYS19SYWN1dGVcbiAgICAweDAxNTU6IDB4MDFlMCwgLy8gWEtfcmFjdXRlXG4gICAgMHgwMTU2OiAweDAzYTMsIC8vIFhLX1JjZWRpbGxhXG4gICAgMHgwMTU3OiAweDAzYjMsIC8vIFhLX3JjZWRpbGxhXG4gICAgMHgwMTU4OiAweDAxZDgsIC8vIFhLX1JjYXJvblxuICAgIDB4MDE1OTogMHgwMWY4LCAvLyBYS19yY2Fyb25cbiAgICAweDAxNWE6IDB4MDFhNiwgLy8gWEtfU2FjdXRlXG4gICAgMHgwMTViOiAweDAxYjYsIC8vIFhLX3NhY3V0ZVxuICAgIDB4MDE1YzogMHgwMmRlLCAvLyBYS19TY2lyY3VtZmxleFxuICAgIDB4MDE1ZDogMHgwMmZlLCAvLyBYS19zY2lyY3VtZmxleFxuICAgIDB4MDE1ZTogMHgwMWFhLCAvLyBYS19TY2VkaWxsYVxuICAgIDB4MDE1ZjogMHgwMWJhLCAvLyBYS19zY2VkaWxsYVxuICAgIDB4MDE2MDogMHgwMWE5LCAvLyBYS19TY2Fyb25cbiAgICAweDAxNjE6IDB4MDFiOSwgLy8gWEtfc2Nhcm9uXG4gICAgMHgwMTYyOiAweDAxZGUsIC8vIFhLX1RjZWRpbGxhXG4gICAgMHgwMTYzOiAweDAxZmUsIC8vIFhLX3RjZWRpbGxhXG4gICAgMHgwMTY0OiAweDAxYWIsIC8vIFhLX1RjYXJvblxuICAgIDB4MDE2NTogMHgwMWJiLCAvLyBYS190Y2Fyb25cbiAgICAweDAxNjY6IDB4MDNhYywgLy8gWEtfVHNsYXNoXG4gICAgMHgwMTY3OiAweDAzYmMsIC8vIFhLX3RzbGFzaFxuICAgIDB4MDE2ODogMHgwM2RkLCAvLyBYS19VdGlsZGVcbiAgICAweDAxNjk6IDB4MDNmZCwgLy8gWEtfdXRpbGRlXG4gICAgMHgwMTZhOiAweDAzZGUsIC8vIFhLX1VtYWNyb25cbiAgICAweDAxNmI6IDB4MDNmZSwgLy8gWEtfdW1hY3JvblxuICAgIDB4MDE2YzogMHgwMmRkLCAvLyBYS19VYnJldmVcbiAgICAweDAxNmQ6IDB4MDJmZCwgLy8gWEtfdWJyZXZlXG4gICAgMHgwMTZlOiAweDAxZDksIC8vIFhLX1VyaW5nXG4gICAgMHgwMTZmOiAweDAxZjksIC8vIFhLX3VyaW5nXG4gICAgMHgwMTcwOiAweDAxZGIsIC8vIFhLX1Vkb3VibGVhY3V0ZVxuICAgIDB4MDE3MTogMHgwMWZiLCAvLyBYS191ZG91YmxlYWN1dGVcbiAgICAweDAxNzI6IDB4MDNkOSwgLy8gWEtfVW9nb25la1xuICAgIDB4MDE3MzogMHgwM2Y5LCAvLyBYS191b2dvbmVrXG4gICAgMHgwMTc4OiAweDEzYmUsIC8vIFhLX1lkaWFlcmVzaXNcbiAgICAweDAxNzk6IDB4MDFhYywgLy8gWEtfWmFjdXRlXG4gICAgMHgwMTdhOiAweDAxYmMsIC8vIFhLX3phY3V0ZVxuICAgIDB4MDE3YjogMHgwMWFmLCAvLyBYS19aYWJvdmVkb3RcbiAgICAweDAxN2M6IDB4MDFiZiwgLy8gWEtfemFib3ZlZG90XG4gICAgMHgwMTdkOiAweDAxYWUsIC8vIFhLX1pjYXJvblxuICAgIDB4MDE3ZTogMHgwMWJlLCAvLyBYS196Y2Fyb25cbiAgICAweDAxOTI6IDB4MDhmNiwgLy8gWEtfZnVuY3Rpb25cbiAgICAweDAxZDI6IDB4MTAwMDFkMSwgLy8gWEtfT2Nhcm9uXG4gICAgMHgwMmM3OiAweDAxYjcsIC8vIFhLX2Nhcm9uXG4gICAgMHgwMmQ4OiAweDAxYTIsIC8vIFhLX2JyZXZlXG4gICAgMHgwMmQ5OiAweDAxZmYsIC8vIFhLX2Fib3ZlZG90XG4gICAgMHgwMmRiOiAweDAxYjIsIC8vIFhLX29nb25la1xuICAgIDB4MDJkZDogMHgwMWJkLCAvLyBYS19kb3VibGVhY3V0ZVxuICAgIDB4MDM4NTogMHgwN2FlLCAvLyBYS19HcmVla19hY2NlbnRkaWVyZXNpc1xuICAgIDB4MDM4NjogMHgwN2ExLCAvLyBYS19HcmVla19BTFBIQWFjY2VudFxuICAgIDB4MDM4ODogMHgwN2EyLCAvLyBYS19HcmVla19FUFNJTE9OYWNjZW50XG4gICAgMHgwMzg5OiAweDA3YTMsIC8vIFhLX0dyZWVrX0VUQWFjY2VudFxuICAgIDB4MDM4YTogMHgwN2E0LCAvLyBYS19HcmVla19JT1RBYWNjZW50XG4gICAgMHgwMzhjOiAweDA3YTcsIC8vIFhLX0dyZWVrX09NSUNST05hY2NlbnRcbiAgICAweDAzOGU6IDB4MDdhOCwgLy8gWEtfR3JlZWtfVVBTSUxPTmFjY2VudFxuICAgIDB4MDM4ZjogMHgwN2FiLCAvLyBYS19HcmVla19PTUVHQWFjY2VudFxuICAgIDB4MDM5MDogMHgwN2I2LCAvLyBYS19HcmVla19pb3RhYWNjZW50ZGllcmVzaXNcbiAgICAweDAzOTE6IDB4MDdjMSwgLy8gWEtfR3JlZWtfQUxQSEFcbiAgICAweDAzOTI6IDB4MDdjMiwgLy8gWEtfR3JlZWtfQkVUQVxuICAgIDB4MDM5MzogMHgwN2MzLCAvLyBYS19HcmVla19HQU1NQVxuICAgIDB4MDM5NDogMHgwN2M0LCAvLyBYS19HcmVla19ERUxUQVxuICAgIDB4MDM5NTogMHgwN2M1LCAvLyBYS19HcmVla19FUFNJTE9OXG4gICAgMHgwMzk2OiAweDA3YzYsIC8vIFhLX0dyZWVrX1pFVEFcbiAgICAweDAzOTc6IDB4MDdjNywgLy8gWEtfR3JlZWtfRVRBXG4gICAgMHgwMzk4OiAweDA3YzgsIC8vIFhLX0dyZWVrX1RIRVRBXG4gICAgMHgwMzk5OiAweDA3YzksIC8vIFhLX0dyZWVrX0lPVEFcbiAgICAweDAzOWE6IDB4MDdjYSwgLy8gWEtfR3JlZWtfS0FQUEFcbiAgICAweDAzOWI6IDB4MDdjYiwgLy8gWEtfR3JlZWtfTEFNREFcbiAgICAweDAzOWM6IDB4MDdjYywgLy8gWEtfR3JlZWtfTVVcbiAgICAweDAzOWQ6IDB4MDdjZCwgLy8gWEtfR3JlZWtfTlVcbiAgICAweDAzOWU6IDB4MDdjZSwgLy8gWEtfR3JlZWtfWElcbiAgICAweDAzOWY6IDB4MDdjZiwgLy8gWEtfR3JlZWtfT01JQ1JPTlxuICAgIDB4MDNhMDogMHgwN2QwLCAvLyBYS19HcmVla19QSVxuICAgIDB4MDNhMTogMHgwN2QxLCAvLyBYS19HcmVla19SSE9cbiAgICAweDAzYTM6IDB4MDdkMiwgLy8gWEtfR3JlZWtfU0lHTUFcbiAgICAweDAzYTQ6IDB4MDdkNCwgLy8gWEtfR3JlZWtfVEFVXG4gICAgMHgwM2E1OiAweDA3ZDUsIC8vIFhLX0dyZWVrX1VQU0lMT05cbiAgICAweDAzYTY6IDB4MDdkNiwgLy8gWEtfR3JlZWtfUEhJXG4gICAgMHgwM2E3OiAweDA3ZDcsIC8vIFhLX0dyZWVrX0NISVxuICAgIDB4MDNhODogMHgwN2Q4LCAvLyBYS19HcmVla19QU0lcbiAgICAweDAzYTk6IDB4MDdkOSwgLy8gWEtfR3JlZWtfT01FR0FcbiAgICAweDAzYWE6IDB4MDdhNSwgLy8gWEtfR3JlZWtfSU9UQWRpZXJlc2lzXG4gICAgMHgwM2FiOiAweDA3YTksIC8vIFhLX0dyZWVrX1VQU0lMT05kaWVyZXNpc1xuICAgIDB4MDNhYzogMHgwN2IxLCAvLyBYS19HcmVla19hbHBoYWFjY2VudFxuICAgIDB4MDNhZDogMHgwN2IyLCAvLyBYS19HcmVla19lcHNpbG9uYWNjZW50XG4gICAgMHgwM2FlOiAweDA3YjMsIC8vIFhLX0dyZWVrX2V0YWFjY2VudFxuICAgIDB4MDNhZjogMHgwN2I0LCAvLyBYS19HcmVla19pb3RhYWNjZW50XG4gICAgMHgwM2IwOiAweDA3YmEsIC8vIFhLX0dyZWVrX3Vwc2lsb25hY2NlbnRkaWVyZXNpc1xuICAgIDB4MDNiMTogMHgwN2UxLCAvLyBYS19HcmVla19hbHBoYVxuICAgIDB4MDNiMjogMHgwN2UyLCAvLyBYS19HcmVla19iZXRhXG4gICAgMHgwM2IzOiAweDA3ZTMsIC8vIFhLX0dyZWVrX2dhbW1hXG4gICAgMHgwM2I0OiAweDA3ZTQsIC8vIFhLX0dyZWVrX2RlbHRhXG4gICAgMHgwM2I1OiAweDA3ZTUsIC8vIFhLX0dyZWVrX2Vwc2lsb25cbiAgICAweDAzYjY6IDB4MDdlNiwgLy8gWEtfR3JlZWtfemV0YVxuICAgIDB4MDNiNzogMHgwN2U3LCAvLyBYS19HcmVla19ldGFcbiAgICAweDAzYjg6IDB4MDdlOCwgLy8gWEtfR3JlZWtfdGhldGFcbiAgICAweDAzYjk6IDB4MDdlOSwgLy8gWEtfR3JlZWtfaW90YVxuICAgIDB4MDNiYTogMHgwN2VhLCAvLyBYS19HcmVla19rYXBwYVxuICAgIDB4MDNiYjogMHgwN2ViLCAvLyBYS19HcmVla19sYW1kYVxuICAgIDB4MDNiYzogMHgwN2VjLCAvLyBYS19HcmVla19tdVxuICAgIDB4MDNiZDogMHgwN2VkLCAvLyBYS19HcmVla19udVxuICAgIDB4MDNiZTogMHgwN2VlLCAvLyBYS19HcmVla194aVxuICAgIDB4MDNiZjogMHgwN2VmLCAvLyBYS19HcmVla19vbWljcm9uXG4gICAgMHgwM2MwOiAweDA3ZjAsIC8vIFhLX0dyZWVrX3BpXG4gICAgMHgwM2MxOiAweDA3ZjEsIC8vIFhLX0dyZWVrX3Job1xuICAgIDB4MDNjMjogMHgwN2YzLCAvLyBYS19HcmVla19maW5hbHNtYWxsc2lnbWFcbiAgICAweDAzYzM6IDB4MDdmMiwgLy8gWEtfR3JlZWtfc2lnbWFcbiAgICAweDAzYzQ6IDB4MDdmNCwgLy8gWEtfR3JlZWtfdGF1XG4gICAgMHgwM2M1OiAweDA3ZjUsIC8vIFhLX0dyZWVrX3Vwc2lsb25cbiAgICAweDAzYzY6IDB4MDdmNiwgLy8gWEtfR3JlZWtfcGhpXG4gICAgMHgwM2M3OiAweDA3ZjcsIC8vIFhLX0dyZWVrX2NoaVxuICAgIDB4MDNjODogMHgwN2Y4LCAvLyBYS19HcmVla19wc2lcbiAgICAweDAzYzk6IDB4MDdmOSwgLy8gWEtfR3JlZWtfb21lZ2FcbiAgICAweDAzY2E6IDB4MDdiNSwgLy8gWEtfR3JlZWtfaW90YWRpZXJlc2lzXG4gICAgMHgwM2NiOiAweDA3YjksIC8vIFhLX0dyZWVrX3Vwc2lsb25kaWVyZXNpc1xuICAgIDB4MDNjYzogMHgwN2I3LCAvLyBYS19HcmVla19vbWljcm9uYWNjZW50XG4gICAgMHgwM2NkOiAweDA3YjgsIC8vIFhLX0dyZWVrX3Vwc2lsb25hY2NlbnRcbiAgICAweDAzY2U6IDB4MDdiYiwgLy8gWEtfR3JlZWtfb21lZ2FhY2NlbnRcbiAgICAweDA0MDE6IDB4MDZiMywgLy8gWEtfQ3lyaWxsaWNfSU9cbiAgICAweDA0MDI6IDB4MDZiMSwgLy8gWEtfU2VyYmlhbl9ESkVcbiAgICAweDA0MDM6IDB4MDZiMiwgLy8gWEtfTWFjZWRvbmlhX0dKRVxuICAgIDB4MDQwNDogMHgwNmI0LCAvLyBYS19Va3JhaW5pYW5fSUVcbiAgICAweDA0MDU6IDB4MDZiNSwgLy8gWEtfTWFjZWRvbmlhX0RTRVxuICAgIDB4MDQwNjogMHgwNmI2LCAvLyBYS19Va3JhaW5pYW5fSVxuICAgIDB4MDQwNzogMHgwNmI3LCAvLyBYS19Va3JhaW5pYW5fWUlcbiAgICAweDA0MDg6IDB4MDZiOCwgLy8gWEtfQ3lyaWxsaWNfSkVcbiAgICAweDA0MDk6IDB4MDZiOSwgLy8gWEtfQ3lyaWxsaWNfTEpFXG4gICAgMHgwNDBhOiAweDA2YmEsIC8vIFhLX0N5cmlsbGljX05KRVxuICAgIDB4MDQwYjogMHgwNmJiLCAvLyBYS19TZXJiaWFuX1RTSEVcbiAgICAweDA0MGM6IDB4MDZiYywgLy8gWEtfTWFjZWRvbmlhX0tKRVxuICAgIDB4MDQwZTogMHgwNmJlLCAvLyBYS19CeWVsb3J1c3NpYW5fU0hPUlRVXG4gICAgMHgwNDBmOiAweDA2YmYsIC8vIFhLX0N5cmlsbGljX0RaSEVcbiAgICAweDA0MTA6IDB4MDZlMSwgLy8gWEtfQ3lyaWxsaWNfQVxuICAgIDB4MDQxMTogMHgwNmUyLCAvLyBYS19DeXJpbGxpY19CRVxuICAgIDB4MDQxMjogMHgwNmY3LCAvLyBYS19DeXJpbGxpY19WRVxuICAgIDB4MDQxMzogMHgwNmU3LCAvLyBYS19DeXJpbGxpY19HSEVcbiAgICAweDA0MTQ6IDB4MDZlNCwgLy8gWEtfQ3lyaWxsaWNfREVcbiAgICAweDA0MTU6IDB4MDZlNSwgLy8gWEtfQ3lyaWxsaWNfSUVcbiAgICAweDA0MTY6IDB4MDZmNiwgLy8gWEtfQ3lyaWxsaWNfWkhFXG4gICAgMHgwNDE3OiAweDA2ZmEsIC8vIFhLX0N5cmlsbGljX1pFXG4gICAgMHgwNDE4OiAweDA2ZTksIC8vIFhLX0N5cmlsbGljX0lcbiAgICAweDA0MTk6IDB4MDZlYSwgLy8gWEtfQ3lyaWxsaWNfU0hPUlRJXG4gICAgMHgwNDFhOiAweDA2ZWIsIC8vIFhLX0N5cmlsbGljX0tBXG4gICAgMHgwNDFiOiAweDA2ZWMsIC8vIFhLX0N5cmlsbGljX0VMXG4gICAgMHgwNDFjOiAweDA2ZWQsIC8vIFhLX0N5cmlsbGljX0VNXG4gICAgMHgwNDFkOiAweDA2ZWUsIC8vIFhLX0N5cmlsbGljX0VOXG4gICAgMHgwNDFlOiAweDA2ZWYsIC8vIFhLX0N5cmlsbGljX09cbiAgICAweDA0MWY6IDB4MDZmMCwgLy8gWEtfQ3lyaWxsaWNfUEVcbiAgICAweDA0MjA6IDB4MDZmMiwgLy8gWEtfQ3lyaWxsaWNfRVJcbiAgICAweDA0MjE6IDB4MDZmMywgLy8gWEtfQ3lyaWxsaWNfRVNcbiAgICAweDA0MjI6IDB4MDZmNCwgLy8gWEtfQ3lyaWxsaWNfVEVcbiAgICAweDA0MjM6IDB4MDZmNSwgLy8gWEtfQ3lyaWxsaWNfVVxuICAgIDB4MDQyNDogMHgwNmU2LCAvLyBYS19DeXJpbGxpY19FRlxuICAgIDB4MDQyNTogMHgwNmU4LCAvLyBYS19DeXJpbGxpY19IQVxuICAgIDB4MDQyNjogMHgwNmUzLCAvLyBYS19DeXJpbGxpY19UU0VcbiAgICAweDA0Mjc6IDB4MDZmZSwgLy8gWEtfQ3lyaWxsaWNfQ0hFXG4gICAgMHgwNDI4OiAweDA2ZmIsIC8vIFhLX0N5cmlsbGljX1NIQVxuICAgIDB4MDQyOTogMHgwNmZkLCAvLyBYS19DeXJpbGxpY19TSENIQVxuICAgIDB4MDQyYTogMHgwNmZmLCAvLyBYS19DeXJpbGxpY19IQVJEU0lHTlxuICAgIDB4MDQyYjogMHgwNmY5LCAvLyBYS19DeXJpbGxpY19ZRVJVXG4gICAgMHgwNDJjOiAweDA2ZjgsIC8vIFhLX0N5cmlsbGljX1NPRlRTSUdOXG4gICAgMHgwNDJkOiAweDA2ZmMsIC8vIFhLX0N5cmlsbGljX0VcbiAgICAweDA0MmU6IDB4MDZlMCwgLy8gWEtfQ3lyaWxsaWNfWVVcbiAgICAweDA0MmY6IDB4MDZmMSwgLy8gWEtfQ3lyaWxsaWNfWUFcbiAgICAweDA0MzA6IDB4MDZjMSwgLy8gWEtfQ3lyaWxsaWNfYVxuICAgIDB4MDQzMTogMHgwNmMyLCAvLyBYS19DeXJpbGxpY19iZVxuICAgIDB4MDQzMjogMHgwNmQ3LCAvLyBYS19DeXJpbGxpY192ZVxuICAgIDB4MDQzMzogMHgwNmM3LCAvLyBYS19DeXJpbGxpY19naGVcbiAgICAweDA0MzQ6IDB4MDZjNCwgLy8gWEtfQ3lyaWxsaWNfZGVcbiAgICAweDA0MzU6IDB4MDZjNSwgLy8gWEtfQ3lyaWxsaWNfaWVcbiAgICAweDA0MzY6IDB4MDZkNiwgLy8gWEtfQ3lyaWxsaWNfemhlXG4gICAgMHgwNDM3OiAweDA2ZGEsIC8vIFhLX0N5cmlsbGljX3plXG4gICAgMHgwNDM4OiAweDA2YzksIC8vIFhLX0N5cmlsbGljX2lcbiAgICAweDA0Mzk6IDB4MDZjYSwgLy8gWEtfQ3lyaWxsaWNfc2hvcnRpXG4gICAgMHgwNDNhOiAweDA2Y2IsIC8vIFhLX0N5cmlsbGljX2thXG4gICAgMHgwNDNiOiAweDA2Y2MsIC8vIFhLX0N5cmlsbGljX2VsXG4gICAgMHgwNDNjOiAweDA2Y2QsIC8vIFhLX0N5cmlsbGljX2VtXG4gICAgMHgwNDNkOiAweDA2Y2UsIC8vIFhLX0N5cmlsbGljX2VuXG4gICAgMHgwNDNlOiAweDA2Y2YsIC8vIFhLX0N5cmlsbGljX29cbiAgICAweDA0M2Y6IDB4MDZkMCwgLy8gWEtfQ3lyaWxsaWNfcGVcbiAgICAweDA0NDA6IDB4MDZkMiwgLy8gWEtfQ3lyaWxsaWNfZXJcbiAgICAweDA0NDE6IDB4MDZkMywgLy8gWEtfQ3lyaWxsaWNfZXNcbiAgICAweDA0NDI6IDB4MDZkNCwgLy8gWEtfQ3lyaWxsaWNfdGVcbiAgICAweDA0NDM6IDB4MDZkNSwgLy8gWEtfQ3lyaWxsaWNfdVxuICAgIDB4MDQ0NDogMHgwNmM2LCAvLyBYS19DeXJpbGxpY19lZlxuICAgIDB4MDQ0NTogMHgwNmM4LCAvLyBYS19DeXJpbGxpY19oYVxuICAgIDB4MDQ0NjogMHgwNmMzLCAvLyBYS19DeXJpbGxpY190c2VcbiAgICAweDA0NDc6IDB4MDZkZSwgLy8gWEtfQ3lyaWxsaWNfY2hlXG4gICAgMHgwNDQ4OiAweDA2ZGIsIC8vIFhLX0N5cmlsbGljX3NoYVxuICAgIDB4MDQ0OTogMHgwNmRkLCAvLyBYS19DeXJpbGxpY19zaGNoYVxuICAgIDB4MDQ0YTogMHgwNmRmLCAvLyBYS19DeXJpbGxpY19oYXJkc2lnblxuICAgIDB4MDQ0YjogMHgwNmQ5LCAvLyBYS19DeXJpbGxpY195ZXJ1XG4gICAgMHgwNDRjOiAweDA2ZDgsIC8vIFhLX0N5cmlsbGljX3NvZnRzaWduXG4gICAgMHgwNDRkOiAweDA2ZGMsIC8vIFhLX0N5cmlsbGljX2VcbiAgICAweDA0NGU6IDB4MDZjMCwgLy8gWEtfQ3lyaWxsaWNfeXVcbiAgICAweDA0NGY6IDB4MDZkMSwgLy8gWEtfQ3lyaWxsaWNfeWFcbiAgICAweDA0NTE6IDB4MDZhMywgLy8gWEtfQ3lyaWxsaWNfaW9cbiAgICAweDA0NTI6IDB4MDZhMSwgLy8gWEtfU2VyYmlhbl9kamVcbiAgICAweDA0NTM6IDB4MDZhMiwgLy8gWEtfTWFjZWRvbmlhX2dqZVxuICAgIDB4MDQ1NDogMHgwNmE0LCAvLyBYS19Va3JhaW5pYW5faWVcbiAgICAweDA0NTU6IDB4MDZhNSwgLy8gWEtfTWFjZWRvbmlhX2RzZVxuICAgIDB4MDQ1NjogMHgwNmE2LCAvLyBYS19Va3JhaW5pYW5faVxuICAgIDB4MDQ1NzogMHgwNmE3LCAvLyBYS19Va3JhaW5pYW5feWlcbiAgICAweDA0NTg6IDB4MDZhOCwgLy8gWEtfQ3lyaWxsaWNfamVcbiAgICAweDA0NTk6IDB4MDZhOSwgLy8gWEtfQ3lyaWxsaWNfbGplXG4gICAgMHgwNDVhOiAweDA2YWEsIC8vIFhLX0N5cmlsbGljX25qZVxuICAgIDB4MDQ1YjogMHgwNmFiLCAvLyBYS19TZXJiaWFuX3RzaGVcbiAgICAweDA0NWM6IDB4MDZhYywgLy8gWEtfTWFjZWRvbmlhX2tqZVxuICAgIDB4MDQ1ZTogMHgwNmFlLCAvLyBYS19CeWVsb3J1c3NpYW5fc2hvcnR1XG4gICAgMHgwNDVmOiAweDA2YWYsIC8vIFhLX0N5cmlsbGljX2R6aGVcbiAgICAweDA0OTA6IDB4MDZiZCwgLy8gWEtfVWtyYWluaWFuX0dIRV9XSVRIX1VQVFVSTlxuICAgIDB4MDQ5MTogMHgwNmFkLCAvLyBYS19Va3JhaW5pYW5fZ2hlX3dpdGhfdXB0dXJuXG4gICAgMHgwNWQwOiAweDBjZTAsIC8vIFhLX2hlYnJld19hbGVwaFxuICAgIDB4MDVkMTogMHgwY2UxLCAvLyBYS19oZWJyZXdfYmV0XG4gICAgMHgwNWQyOiAweDBjZTIsIC8vIFhLX2hlYnJld19naW1lbFxuICAgIDB4MDVkMzogMHgwY2UzLCAvLyBYS19oZWJyZXdfZGFsZXRcbiAgICAweDA1ZDQ6IDB4MGNlNCwgLy8gWEtfaGVicmV3X2hlXG4gICAgMHgwNWQ1OiAweDBjZTUsIC8vIFhLX2hlYnJld193YXdcbiAgICAweDA1ZDY6IDB4MGNlNiwgLy8gWEtfaGVicmV3X3phaW5cbiAgICAweDA1ZDc6IDB4MGNlNywgLy8gWEtfaGVicmV3X2NoZXRcbiAgICAweDA1ZDg6IDB4MGNlOCwgLy8gWEtfaGVicmV3X3RldFxuICAgIDB4MDVkOTogMHgwY2U5LCAvLyBYS19oZWJyZXdfeW9kXG4gICAgMHgwNWRhOiAweDBjZWEsIC8vIFhLX2hlYnJld19maW5hbGthcGhcbiAgICAweDA1ZGI6IDB4MGNlYiwgLy8gWEtfaGVicmV3X2thcGhcbiAgICAweDA1ZGM6IDB4MGNlYywgLy8gWEtfaGVicmV3X2xhbWVkXG4gICAgMHgwNWRkOiAweDBjZWQsIC8vIFhLX2hlYnJld19maW5hbG1lbVxuICAgIDB4MDVkZTogMHgwY2VlLCAvLyBYS19oZWJyZXdfbWVtXG4gICAgMHgwNWRmOiAweDBjZWYsIC8vIFhLX2hlYnJld19maW5hbG51blxuICAgIDB4MDVlMDogMHgwY2YwLCAvLyBYS19oZWJyZXdfbnVuXG4gICAgMHgwNWUxOiAweDBjZjEsIC8vIFhLX2hlYnJld19zYW1lY2hcbiAgICAweDA1ZTI6IDB4MGNmMiwgLy8gWEtfaGVicmV3X2F5aW5cbiAgICAweDA1ZTM6IDB4MGNmMywgLy8gWEtfaGVicmV3X2ZpbmFscGVcbiAgICAweDA1ZTQ6IDB4MGNmNCwgLy8gWEtfaGVicmV3X3BlXG4gICAgMHgwNWU1OiAweDBjZjUsIC8vIFhLX2hlYnJld19maW5hbHphZGVcbiAgICAweDA1ZTY6IDB4MGNmNiwgLy8gWEtfaGVicmV3X3phZGVcbiAgICAweDA1ZTc6IDB4MGNmNywgLy8gWEtfaGVicmV3X3FvcGhcbiAgICAweDA1ZTg6IDB4MGNmOCwgLy8gWEtfaGVicmV3X3Jlc2hcbiAgICAweDA1ZTk6IDB4MGNmOSwgLy8gWEtfaGVicmV3X3NoaW5cbiAgICAweDA1ZWE6IDB4MGNmYSwgLy8gWEtfaGVicmV3X3Rhd1xuICAgIDB4MDYwYzogMHgwNWFjLCAvLyBYS19BcmFiaWNfY29tbWFcbiAgICAweDA2MWI6IDB4MDViYiwgLy8gWEtfQXJhYmljX3NlbWljb2xvblxuICAgIDB4MDYxZjogMHgwNWJmLCAvLyBYS19BcmFiaWNfcXVlc3Rpb25fbWFya1xuICAgIDB4MDYyMTogMHgwNWMxLCAvLyBYS19BcmFiaWNfaGFtemFcbiAgICAweDA2MjI6IDB4MDVjMiwgLy8gWEtfQXJhYmljX21hZGRhb25hbGVmXG4gICAgMHgwNjIzOiAweDA1YzMsIC8vIFhLX0FyYWJpY19oYW16YW9uYWxlZlxuICAgIDB4MDYyNDogMHgwNWM0LCAvLyBYS19BcmFiaWNfaGFtemFvbndhd1xuICAgIDB4MDYyNTogMHgwNWM1LCAvLyBYS19BcmFiaWNfaGFtemF1bmRlcmFsZWZcbiAgICAweDA2MjY6IDB4MDVjNiwgLy8gWEtfQXJhYmljX2hhbXphb255ZWhcbiAgICAweDA2Mjc6IDB4MDVjNywgLy8gWEtfQXJhYmljX2FsZWZcbiAgICAweDA2Mjg6IDB4MDVjOCwgLy8gWEtfQXJhYmljX2JlaFxuICAgIDB4MDYyOTogMHgwNWM5LCAvLyBYS19BcmFiaWNfdGVobWFyYnV0YVxuICAgIDB4MDYyYTogMHgwNWNhLCAvLyBYS19BcmFiaWNfdGVoXG4gICAgMHgwNjJiOiAweDA1Y2IsIC8vIFhLX0FyYWJpY190aGVoXG4gICAgMHgwNjJjOiAweDA1Y2MsIC8vIFhLX0FyYWJpY19qZWVtXG4gICAgMHgwNjJkOiAweDA1Y2QsIC8vIFhLX0FyYWJpY19oYWhcbiAgICAweDA2MmU6IDB4MDVjZSwgLy8gWEtfQXJhYmljX2toYWhcbiAgICAweDA2MmY6IDB4MDVjZiwgLy8gWEtfQXJhYmljX2RhbFxuICAgIDB4MDYzMDogMHgwNWQwLCAvLyBYS19BcmFiaWNfdGhhbFxuICAgIDB4MDYzMTogMHgwNWQxLCAvLyBYS19BcmFiaWNfcmFcbiAgICAweDA2MzI6IDB4MDVkMiwgLy8gWEtfQXJhYmljX3phaW5cbiAgICAweDA2MzM6IDB4MDVkMywgLy8gWEtfQXJhYmljX3NlZW5cbiAgICAweDA2MzQ6IDB4MDVkNCwgLy8gWEtfQXJhYmljX3NoZWVuXG4gICAgMHgwNjM1OiAweDA1ZDUsIC8vIFhLX0FyYWJpY19zYWRcbiAgICAweDA2MzY6IDB4MDVkNiwgLy8gWEtfQXJhYmljX2RhZFxuICAgIDB4MDYzNzogMHgwNWQ3LCAvLyBYS19BcmFiaWNfdGFoXG4gICAgMHgwNjM4OiAweDA1ZDgsIC8vIFhLX0FyYWJpY196YWhcbiAgICAweDA2Mzk6IDB4MDVkOSwgLy8gWEtfQXJhYmljX2FpblxuICAgIDB4MDYzYTogMHgwNWRhLCAvLyBYS19BcmFiaWNfZ2hhaW5cbiAgICAweDA2NDA6IDB4MDVlMCwgLy8gWEtfQXJhYmljX3RhdHdlZWxcbiAgICAweDA2NDE6IDB4MDVlMSwgLy8gWEtfQXJhYmljX2ZlaFxuICAgIDB4MDY0MjogMHgwNWUyLCAvLyBYS19BcmFiaWNfcWFmXG4gICAgMHgwNjQzOiAweDA1ZTMsIC8vIFhLX0FyYWJpY19rYWZcbiAgICAweDA2NDQ6IDB4MDVlNCwgLy8gWEtfQXJhYmljX2xhbVxuICAgIDB4MDY0NTogMHgwNWU1LCAvLyBYS19BcmFiaWNfbWVlbVxuICAgIDB4MDY0NjogMHgwNWU2LCAvLyBYS19BcmFiaWNfbm9vblxuICAgIDB4MDY0NzogMHgwNWU3LCAvLyBYS19BcmFiaWNfaGFcbiAgICAweDA2NDg6IDB4MDVlOCwgLy8gWEtfQXJhYmljX3dhd1xuICAgIDB4MDY0OTogMHgwNWU5LCAvLyBYS19BcmFiaWNfYWxlZm1ha3N1cmFcbiAgICAweDA2NGE6IDB4MDVlYSwgLy8gWEtfQXJhYmljX3llaFxuICAgIDB4MDY0YjogMHgwNWViLCAvLyBYS19BcmFiaWNfZmF0aGF0YW5cbiAgICAweDA2NGM6IDB4MDVlYywgLy8gWEtfQXJhYmljX2RhbW1hdGFuXG4gICAgMHgwNjRkOiAweDA1ZWQsIC8vIFhLX0FyYWJpY19rYXNyYXRhblxuICAgIDB4MDY0ZTogMHgwNWVlLCAvLyBYS19BcmFiaWNfZmF0aGFcbiAgICAweDA2NGY6IDB4MDVlZiwgLy8gWEtfQXJhYmljX2RhbW1hXG4gICAgMHgwNjUwOiAweDA1ZjAsIC8vIFhLX0FyYWJpY19rYXNyYVxuICAgIDB4MDY1MTogMHgwNWYxLCAvLyBYS19BcmFiaWNfc2hhZGRhXG4gICAgMHgwNjUyOiAweDA1ZjIsIC8vIFhLX0FyYWJpY19zdWt1blxuICAgIDB4MGUwMTogMHgwZGExLCAvLyBYS19UaGFpX2tva2FpXG4gICAgMHgwZTAyOiAweDBkYTIsIC8vIFhLX1RoYWlfa2hva2hhaVxuICAgIDB4MGUwMzogMHgwZGEzLCAvLyBYS19UaGFpX2tob2todWF0XG4gICAgMHgwZTA0OiAweDBkYTQsIC8vIFhLX1RoYWlfa2hva2h3YWlcbiAgICAweDBlMDU6IDB4MGRhNSwgLy8gWEtfVGhhaV9raG9raG9uXG4gICAgMHgwZTA2OiAweDBkYTYsIC8vIFhLX1RoYWlfa2hvcmFraGFuZ1xuICAgIDB4MGUwNzogMHgwZGE3LCAvLyBYS19UaGFpX25nb25ndVxuICAgIDB4MGUwODogMHgwZGE4LCAvLyBYS19UaGFpX2Nob2NoYW5cbiAgICAweDBlMDk6IDB4MGRhOSwgLy8gWEtfVGhhaV9jaG9jaGluZ1xuICAgIDB4MGUwYTogMHgwZGFhLCAvLyBYS19UaGFpX2Nob2NoYW5nXG4gICAgMHgwZTBiOiAweDBkYWIsIC8vIFhLX1RoYWlfc29zb1xuICAgIDB4MGUwYzogMHgwZGFjLCAvLyBYS19UaGFpX2Nob2Nob2VcbiAgICAweDBlMGQ6IDB4MGRhZCwgLy8gWEtfVGhhaV95b3lpbmdcbiAgICAweDBlMGU6IDB4MGRhZSwgLy8gWEtfVGhhaV9kb2NoYWRhXG4gICAgMHgwZTBmOiAweDBkYWYsIC8vIFhLX1RoYWlfdG9wYXRha1xuICAgIDB4MGUxMDogMHgwZGIwLCAvLyBYS19UaGFpX3Rob3RoYW5cbiAgICAweDBlMTE6IDB4MGRiMSwgLy8gWEtfVGhhaV90aG9uYW5nbW9udGhvXG4gICAgMHgwZTEyOiAweDBkYjIsIC8vIFhLX1RoYWlfdGhvcGh1dGhhb1xuICAgIDB4MGUxMzogMHgwZGIzLCAvLyBYS19UaGFpX25vbmVuXG4gICAgMHgwZTE0OiAweDBkYjQsIC8vIFhLX1RoYWlfZG9kZWtcbiAgICAweDBlMTU6IDB4MGRiNSwgLy8gWEtfVGhhaV90b3Rhb1xuICAgIDB4MGUxNjogMHgwZGI2LCAvLyBYS19UaGFpX3Rob3RodW5nXG4gICAgMHgwZTE3OiAweDBkYjcsIC8vIFhLX1RoYWlfdGhvdGhhaGFuXG4gICAgMHgwZTE4OiAweDBkYjgsIC8vIFhLX1RoYWlfdGhvdGhvbmdcbiAgICAweDBlMTk6IDB4MGRiOSwgLy8gWEtfVGhhaV9ub251XG4gICAgMHgwZTFhOiAweDBkYmEsIC8vIFhLX1RoYWlfYm9iYWltYWlcbiAgICAweDBlMWI6IDB4MGRiYiwgLy8gWEtfVGhhaV9wb3BsYVxuICAgIDB4MGUxYzogMHgwZGJjLCAvLyBYS19UaGFpX3Bob3BodW5nXG4gICAgMHgwZTFkOiAweDBkYmQsIC8vIFhLX1RoYWlfZm9mYVxuICAgIDB4MGUxZTogMHgwZGJlLCAvLyBYS19UaGFpX3Bob3BoYW5cbiAgICAweDBlMWY6IDB4MGRiZiwgLy8gWEtfVGhhaV9mb2ZhblxuICAgIDB4MGUyMDogMHgwZGMwLCAvLyBYS19UaGFpX3Bob3NhbXBoYW9cbiAgICAweDBlMjE6IDB4MGRjMSwgLy8gWEtfVGhhaV9tb21hXG4gICAgMHgwZTIyOiAweDBkYzIsIC8vIFhLX1RoYWlfeW95YWtcbiAgICAweDBlMjM6IDB4MGRjMywgLy8gWEtfVGhhaV9yb3J1YVxuICAgIDB4MGUyNDogMHgwZGM0LCAvLyBYS19UaGFpX3J1XG4gICAgMHgwZTI1OiAweDBkYzUsIC8vIFhLX1RoYWlfbG9saW5nXG4gICAgMHgwZTI2OiAweDBkYzYsIC8vIFhLX1RoYWlfbHVcbiAgICAweDBlMjc6IDB4MGRjNywgLy8gWEtfVGhhaV93b3dhZW5cbiAgICAweDBlMjg6IDB4MGRjOCwgLy8gWEtfVGhhaV9zb3NhbGFcbiAgICAweDBlMjk6IDB4MGRjOSwgLy8gWEtfVGhhaV9zb3J1c2lcbiAgICAweDBlMmE6IDB4MGRjYSwgLy8gWEtfVGhhaV9zb3N1YVxuICAgIDB4MGUyYjogMHgwZGNiLCAvLyBYS19UaGFpX2hvaGlwXG4gICAgMHgwZTJjOiAweDBkY2MsIC8vIFhLX1RoYWlfbG9jaHVsYVxuICAgIDB4MGUyZDogMHgwZGNkLCAvLyBYS19UaGFpX29hbmdcbiAgICAweDBlMmU6IDB4MGRjZSwgLy8gWEtfVGhhaV9ob25va2h1a1xuICAgIDB4MGUyZjogMHgwZGNmLCAvLyBYS19UaGFpX3BhaXlhbm5vaVxuICAgIDB4MGUzMDogMHgwZGQwLCAvLyBYS19UaGFpX3NhcmFhXG4gICAgMHgwZTMxOiAweDBkZDEsIC8vIFhLX1RoYWlfbWFpaGFuYWthdFxuICAgIDB4MGUzMjogMHgwZGQyLCAvLyBYS19UaGFpX3NhcmFhYVxuICAgIDB4MGUzMzogMHgwZGQzLCAvLyBYS19UaGFpX3NhcmFhbVxuICAgIDB4MGUzNDogMHgwZGQ0LCAvLyBYS19UaGFpX3NhcmFpXG4gICAgMHgwZTM1OiAweDBkZDUsIC8vIFhLX1RoYWlfc2FyYWlpXG4gICAgMHgwZTM2OiAweDBkZDYsIC8vIFhLX1RoYWlfc2FyYXVlXG4gICAgMHgwZTM3OiAweDBkZDcsIC8vIFhLX1RoYWlfc2FyYXVlZVxuICAgIDB4MGUzODogMHgwZGQ4LCAvLyBYS19UaGFpX3NhcmF1XG4gICAgMHgwZTM5OiAweDBkZDksIC8vIFhLX1RoYWlfc2FyYXV1XG4gICAgMHgwZTNhOiAweDBkZGEsIC8vIFhLX1RoYWlfcGhpbnRodVxuICAgIDB4MGUzZjogMHgwZGRmLCAvLyBYS19UaGFpX2JhaHRcbiAgICAweDBlNDA6IDB4MGRlMCwgLy8gWEtfVGhhaV9zYXJhZVxuICAgIDB4MGU0MTogMHgwZGUxLCAvLyBYS19UaGFpX3NhcmFhZVxuICAgIDB4MGU0MjogMHgwZGUyLCAvLyBYS19UaGFpX3NhcmFvXG4gICAgMHgwZTQzOiAweDBkZTMsIC8vIFhLX1RoYWlfc2FyYWFpbWFpbXVhblxuICAgIDB4MGU0NDogMHgwZGU0LCAvLyBYS19UaGFpX3NhcmFhaW1haW1hbGFpXG4gICAgMHgwZTQ1OiAweDBkZTUsIC8vIFhLX1RoYWlfbGFra2hhbmd5YW9cbiAgICAweDBlNDY6IDB4MGRlNiwgLy8gWEtfVGhhaV9tYWl5YW1va1xuICAgIDB4MGU0NzogMHgwZGU3LCAvLyBYS19UaGFpX21haXRhaWtodVxuICAgIDB4MGU0ODogMHgwZGU4LCAvLyBYS19UaGFpX21haWVrXG4gICAgMHgwZTQ5OiAweDBkZTksIC8vIFhLX1RoYWlfbWFpdGhvXG4gICAgMHgwZTRhOiAweDBkZWEsIC8vIFhLX1RoYWlfbWFpdHJpXG4gICAgMHgwZTRiOiAweDBkZWIsIC8vIFhLX1RoYWlfbWFpY2hhdHRhd2FcbiAgICAweDBlNGM6IDB4MGRlYywgLy8gWEtfVGhhaV90aGFudGhha2hhdFxuICAgIDB4MGU0ZDogMHgwZGVkLCAvLyBYS19UaGFpX25pa2hhaGl0XG4gICAgMHgwZTUwOiAweDBkZjAsIC8vIFhLX1RoYWlfbGVrc3VuXG4gICAgMHgwZTUxOiAweDBkZjEsIC8vIFhLX1RoYWlfbGVrbnVuZ1xuICAgIDB4MGU1MjogMHgwZGYyLCAvLyBYS19UaGFpX2xla3NvbmdcbiAgICAweDBlNTM6IDB4MGRmMywgLy8gWEtfVGhhaV9sZWtzYW1cbiAgICAweDBlNTQ6IDB4MGRmNCwgLy8gWEtfVGhhaV9sZWtzaVxuICAgIDB4MGU1NTogMHgwZGY1LCAvLyBYS19UaGFpX2xla2hhXG4gICAgMHgwZTU2OiAweDBkZjYsIC8vIFhLX1RoYWlfbGVraG9rXG4gICAgMHgwZTU3OiAweDBkZjcsIC8vIFhLX1RoYWlfbGVrY2hldFxuICAgIDB4MGU1ODogMHgwZGY4LCAvLyBYS19UaGFpX2xla3BhZXRcbiAgICAweDBlNTk6IDB4MGRmOSwgLy8gWEtfVGhhaV9sZWtrYW9cbiAgICAweDIwMDI6IDB4MGFhMiwgLy8gWEtfZW5zcGFjZVxuICAgIDB4MjAwMzogMHgwYWExLCAvLyBYS19lbXNwYWNlXG4gICAgMHgyMDA0OiAweDBhYTMsIC8vIFhLX2VtM3NwYWNlXG4gICAgMHgyMDA1OiAweDBhYTQsIC8vIFhLX2VtNHNwYWNlXG4gICAgMHgyMDA3OiAweDBhYTUsIC8vIFhLX2RpZ2l0c3BhY2VcbiAgICAweDIwMDg6IDB4MGFhNiwgLy8gWEtfcHVuY3RzcGFjZVxuICAgIDB4MjAwOTogMHgwYWE3LCAvLyBYS190aGluc3BhY2VcbiAgICAweDIwMGE6IDB4MGFhOCwgLy8gWEtfaGFpcnNwYWNlXG4gICAgMHgyMDEyOiAweDBhYmIsIC8vIFhLX2ZpZ2Rhc2hcbiAgICAweDIwMTM6IDB4MGFhYSwgLy8gWEtfZW5kYXNoXG4gICAgMHgyMDE0OiAweDBhYTksIC8vIFhLX2VtZGFzaFxuICAgIDB4MjAxNTogMHgwN2FmLCAvLyBYS19HcmVla19ob3JpemJhclxuICAgIDB4MjAxNzogMHgwY2RmLCAvLyBYS19oZWJyZXdfZG91YmxlbG93bGluZVxuICAgIDB4MjAxODogMHgwYWQwLCAvLyBYS19sZWZ0c2luZ2xlcXVvdGVtYXJrXG4gICAgMHgyMDE5OiAweDBhZDEsIC8vIFhLX3JpZ2h0c2luZ2xlcXVvdGVtYXJrXG4gICAgMHgyMDFhOiAweDBhZmQsIC8vIFhLX3NpbmdsZWxvd3F1b3RlbWFya1xuICAgIDB4MjAxYzogMHgwYWQyLCAvLyBYS19sZWZ0ZG91YmxlcXVvdGVtYXJrXG4gICAgMHgyMDFkOiAweDBhZDMsIC8vIFhLX3JpZ2h0ZG91YmxlcXVvdGVtYXJrXG4gICAgMHgyMDFlOiAweDBhZmUsIC8vIFhLX2RvdWJsZWxvd3F1b3RlbWFya1xuICAgIDB4MjAyMDogMHgwYWYxLCAvLyBYS19kYWdnZXJcbiAgICAweDIwMjE6IDB4MGFmMiwgLy8gWEtfZG91YmxlZGFnZ2VyXG4gICAgMHgyMDIyOiAweDBhZTYsIC8vIFhLX2VuZmlsbGVkY2lyY2J1bGxldFxuICAgIDB4MjAyNTogMHgwYWFmLCAvLyBYS19kb3ViYmFzZWxpbmVkb3RcbiAgICAweDIwMjY6IDB4MGFhZSwgLy8gWEtfZWxsaXBzaXNcbiAgICAweDIwMzA6IDB4MGFkNSwgLy8gWEtfcGVybWlsbGVcbiAgICAweDIwMzI6IDB4MGFkNiwgLy8gWEtfbWludXRlc1xuICAgIDB4MjAzMzogMHgwYWQ3LCAvLyBYS19zZWNvbmRzXG4gICAgMHgyMDM4OiAweDBhZmMsIC8vIFhLX2NhcmV0XG4gICAgMHgyMDNlOiAweDA0N2UsIC8vIFhLX292ZXJsaW5lXG4gICAgMHgyMGE5OiAweDBlZmYsIC8vIFhLX0tvcmVhbl9Xb25cbiAgICAweDIwYWM6IDB4MjBhYywgLy8gWEtfRXVyb1NpZ25cbiAgICAweDIxMDU6IDB4MGFiOCwgLy8gWEtfY2FyZW9mXG4gICAgMHgyMTE2OiAweDA2YjAsIC8vIFhLX251bWVyb3NpZ25cbiAgICAweDIxMTc6IDB4MGFmYiwgLy8gWEtfcGhvbm9ncmFwaGNvcHlyaWdodFxuICAgIDB4MjExZTogMHgwYWQ0LCAvLyBYS19wcmVzY3JpcHRpb25cbiAgICAweDIxMjI6IDB4MGFjOSwgLy8gWEtfdHJhZGVtYXJrXG4gICAgMHgyMTUzOiAweDBhYjAsIC8vIFhLX29uZXRoaXJkXG4gICAgMHgyMTU0OiAweDBhYjEsIC8vIFhLX3R3b3RoaXJkc1xuICAgIDB4MjE1NTogMHgwYWIyLCAvLyBYS19vbmVmaWZ0aFxuICAgIDB4MjE1NjogMHgwYWIzLCAvLyBYS190d29maWZ0aHNcbiAgICAweDIxNTc6IDB4MGFiNCwgLy8gWEtfdGhyZWVmaWZ0aHNcbiAgICAweDIxNTg6IDB4MGFiNSwgLy8gWEtfZm91cmZpZnRoc1xuICAgIDB4MjE1OTogMHgwYWI2LCAvLyBYS19vbmVzaXh0aFxuICAgIDB4MjE1YTogMHgwYWI3LCAvLyBYS19maXZlc2l4dGhzXG4gICAgMHgyMTViOiAweDBhYzMsIC8vIFhLX29uZWVpZ2h0aFxuICAgIDB4MjE1YzogMHgwYWM0LCAvLyBYS190aHJlZWVpZ2h0aHNcbiAgICAweDIxNWQ6IDB4MGFjNSwgLy8gWEtfZml2ZWVpZ2h0aHNcbiAgICAweDIxNWU6IDB4MGFjNiwgLy8gWEtfc2V2ZW5laWdodGhzXG4gICAgMHgyMTkwOiAweDA4ZmIsIC8vIFhLX2xlZnRhcnJvd1xuICAgIDB4MjE5MTogMHgwOGZjLCAvLyBYS191cGFycm93XG4gICAgMHgyMTkyOiAweDA4ZmQsIC8vIFhLX3JpZ2h0YXJyb3dcbiAgICAweDIxOTM6IDB4MDhmZSwgLy8gWEtfZG93bmFycm93XG4gICAgMHgyMWQyOiAweDA4Y2UsIC8vIFhLX2ltcGxpZXNcbiAgICAweDIxZDQ6IDB4MDhjZCwgLy8gWEtfaWZvbmx5aWZcbiAgICAweDIyMDI6IDB4MDhlZiwgLy8gWEtfcGFydGlhbGRlcml2YXRpdmVcbiAgICAweDIyMDc6IDB4MDhjNSwgLy8gWEtfbmFibGFcbiAgICAweDIyMTg6IDB4MGJjYSwgLy8gWEtfam90XG4gICAgMHgyMjFhOiAweDA4ZDYsIC8vIFhLX3JhZGljYWxcbiAgICAweDIyMWQ6IDB4MDhjMSwgLy8gWEtfdmFyaWF0aW9uXG4gICAgMHgyMjFlOiAweDA4YzIsIC8vIFhLX2luZmluaXR5XG4gICAgMHgyMjI3OiAweDA4ZGUsIC8vIFhLX2xvZ2ljYWxhbmRcbiAgICAweDIyMjg6IDB4MDhkZiwgLy8gWEtfbG9naWNhbG9yXG4gICAgMHgyMjI5OiAweDA4ZGMsIC8vIFhLX2ludGVyc2VjdGlvblxuICAgIDB4MjIyYTogMHgwOGRkLCAvLyBYS191bmlvblxuICAgIDB4MjIyYjogMHgwOGJmLCAvLyBYS19pbnRlZ3JhbFxuICAgIDB4MjIzNDogMHgwOGMwLCAvLyBYS190aGVyZWZvcmVcbiAgICAweDIyM2M6IDB4MDhjOCwgLy8gWEtfYXBwcm94aW1hdGVcbiAgICAweDIyNDM6IDB4MDhjOSwgLy8gWEtfc2ltaWxhcmVxdWFsXG4gICAgMHgyMjQ1OiAweDEwMDIyNDgsIC8vIFhLX2FwcHJveGVxXG4gICAgMHgyMjYwOiAweDA4YmQsIC8vIFhLX25vdGVxdWFsXG4gICAgMHgyMjYxOiAweDA4Y2YsIC8vIFhLX2lkZW50aWNhbFxuICAgIDB4MjI2NDogMHgwOGJjLCAvLyBYS19sZXNzdGhhbmVxdWFsXG4gICAgMHgyMjY1OiAweDA4YmUsIC8vIFhLX2dyZWF0ZXJ0aGFuZXF1YWxcbiAgICAweDIyODI6IDB4MDhkYSwgLy8gWEtfaW5jbHVkZWRpblxuICAgIDB4MjI4MzogMHgwOGRiLCAvLyBYS19pbmNsdWRlc1xuICAgIDB4MjJhMjogMHgwYmZjLCAvLyBYS19yaWdodHRhY2tcbiAgICAweDIyYTM6IDB4MGJkYywgLy8gWEtfbGVmdHRhY2tcbiAgICAweDIyYTQ6IDB4MGJjMiwgLy8gWEtfZG93bnRhY2tcbiAgICAweDIyYTU6IDB4MGJjZSwgLy8gWEtfdXB0YWNrXG4gICAgMHgyMzA4OiAweDBiZDMsIC8vIFhLX3Vwc3RpbGVcbiAgICAweDIzMGE6IDB4MGJjNCwgLy8gWEtfZG93bnN0aWxlXG4gICAgMHgyMzE1OiAweDBhZmEsIC8vIFhLX3RlbGVwaG9uZXJlY29yZGVyXG4gICAgMHgyMzIwOiAweDA4YTQsIC8vIFhLX3RvcGludGVncmFsXG4gICAgMHgyMzIxOiAweDA4YTUsIC8vIFhLX2JvdGludGVncmFsXG4gICAgMHgyMzk1OiAweDBiY2MsIC8vIFhLX3F1YWRcbiAgICAweDIzOWI6IDB4MDhhYiwgLy8gWEtfdG9wbGVmdHBhcmVuc1xuICAgIDB4MjM5ZDogMHgwOGFjLCAvLyBYS19ib3RsZWZ0cGFyZW5zXG4gICAgMHgyMzllOiAweDA4YWQsIC8vIFhLX3RvcHJpZ2h0cGFyZW5zXG4gICAgMHgyM2EwOiAweDA4YWUsIC8vIFhLX2JvdHJpZ2h0cGFyZW5zXG4gICAgMHgyM2ExOiAweDA4YTcsIC8vIFhLX3RvcGxlZnRzcWJyYWNrZXRcbiAgICAweDIzYTM6IDB4MDhhOCwgLy8gWEtfYm90bGVmdHNxYnJhY2tldFxuICAgIDB4MjNhNDogMHgwOGE5LCAvLyBYS190b3ByaWdodHNxYnJhY2tldFxuICAgIDB4MjNhNjogMHgwOGFhLCAvLyBYS19ib3RyaWdodHNxYnJhY2tldFxuICAgIDB4MjNhODogMHgwOGFmLCAvLyBYS19sZWZ0bWlkZGxlY3VybHlicmFjZVxuICAgIDB4MjNhYzogMHgwOGIwLCAvLyBYS19yaWdodG1pZGRsZWN1cmx5YnJhY2VcbiAgICAweDIzYjc6IDB4MDhhMSwgLy8gWEtfbGVmdHJhZGljYWxcbiAgICAweDIzYmE6IDB4MDllZiwgLy8gWEtfaG9yaXpsaW5lc2NhbjFcbiAgICAweDIzYmI6IDB4MDlmMCwgLy8gWEtfaG9yaXpsaW5lc2NhbjNcbiAgICAweDIzYmM6IDB4MDlmMiwgLy8gWEtfaG9yaXpsaW5lc2NhbjdcbiAgICAweDIzYmQ6IDB4MDlmMywgLy8gWEtfaG9yaXpsaW5lc2NhbjlcbiAgICAweDI0MDk6IDB4MDllMiwgLy8gWEtfaHRcbiAgICAweDI0MGE6IDB4MDllNSwgLy8gWEtfbGZcbiAgICAweDI0MGI6IDB4MDllOSwgLy8gWEtfdnRcbiAgICAweDI0MGM6IDB4MDllMywgLy8gWEtfZmZcbiAgICAweDI0MGQ6IDB4MDllNCwgLy8gWEtfY3JcbiAgICAweDI0MjM6IDB4MGFhYywgLy8gWEtfc2lnbmlmYmxhbmtcbiAgICAweDI0MjQ6IDB4MDllOCwgLy8gWEtfbmxcbiAgICAweDI1MDA6IDB4MDhhMywgLy8gWEtfaG9yaXpjb25uZWN0b3JcbiAgICAweDI1MDI6IDB4MDhhNiwgLy8gWEtfdmVydGNvbm5lY3RvclxuICAgIDB4MjUwYzogMHgwOGEyLCAvLyBYS190b3BsZWZ0cmFkaWNhbFxuICAgIDB4MjUxMDogMHgwOWViLCAvLyBYS191cHJpZ2h0Y29ybmVyXG4gICAgMHgyNTE0OiAweDA5ZWQsIC8vIFhLX2xvd2xlZnRjb3JuZXJcbiAgICAweDI1MTg6IDB4MDllYSwgLy8gWEtfbG93cmlnaHRjb3JuZXJcbiAgICAweDI1MWM6IDB4MDlmNCwgLy8gWEtfbGVmdHRcbiAgICAweDI1MjQ6IDB4MDlmNSwgLy8gWEtfcmlnaHR0XG4gICAgMHgyNTJjOiAweDA5ZjcsIC8vIFhLX3RvcHRcbiAgICAweDI1MzQ6IDB4MDlmNiwgLy8gWEtfYm90dFxuICAgIDB4MjUzYzogMHgwOWVlLCAvLyBYS19jcm9zc2luZ2xpbmVzXG4gICAgMHgyNTkyOiAweDA5ZTEsIC8vIFhLX2NoZWNrZXJib2FyZFxuICAgIDB4MjVhYTogMHgwYWU3LCAvLyBYS19lbmZpbGxlZHNxYnVsbGV0XG4gICAgMHgyNWFiOiAweDBhZTEsIC8vIFhLX2Vub3BlbnNxdWFyZWJ1bGxldFxuICAgIDB4MjVhYzogMHgwYWRiLCAvLyBYS19maWxsZWRyZWN0YnVsbGV0XG4gICAgMHgyNWFkOiAweDBhZTIsIC8vIFhLX29wZW5yZWN0YnVsbGV0XG4gICAgMHgyNWFlOiAweDBhZGYsIC8vIFhLX2VtZmlsbGVkcmVjdFxuICAgIDB4MjVhZjogMHgwYWNmLCAvLyBYS19lbW9wZW5yZWN0YW5nbGVcbiAgICAweDI1YjI6IDB4MGFlOCwgLy8gWEtfZmlsbGVkdHJpYnVsbGV0dXBcbiAgICAweDI1YjM6IDB4MGFlMywgLy8gWEtfb3BlbnRyaWJ1bGxldHVwXG4gICAgMHgyNWI2OiAweDBhZGQsIC8vIFhLX2ZpbGxlZHJpZ2h0dHJpYnVsbGV0XG4gICAgMHgyNWI3OiAweDBhY2QsIC8vIFhLX3JpZ2h0b3BlbnRyaWFuZ2xlXG4gICAgMHgyNWJjOiAweDBhZTksIC8vIFhLX2ZpbGxlZHRyaWJ1bGxldGRvd25cbiAgICAweDI1YmQ6IDB4MGFlNCwgLy8gWEtfb3BlbnRyaWJ1bGxldGRvd25cbiAgICAweDI1YzA6IDB4MGFkYywgLy8gWEtfZmlsbGVkbGVmdHRyaWJ1bGxldFxuICAgIDB4MjVjMTogMHgwYWNjLCAvLyBYS19sZWZ0b3BlbnRyaWFuZ2xlXG4gICAgMHgyNWM2OiAweDA5ZTAsIC8vIFhLX3NvbGlkZGlhbW9uZFxuICAgIDB4MjVjYjogMHgwYWNlLCAvLyBYS19lbW9wZW5jaXJjbGVcbiAgICAweDI1Y2Y6IDB4MGFkZSwgLy8gWEtfZW1maWxsZWRjaXJjbGVcbiAgICAweDI1ZTY6IDB4MGFlMCwgLy8gWEtfZW5vcGVuY2lyY2J1bGxldFxuICAgIDB4MjYwNjogMHgwYWU1LCAvLyBYS19vcGVuc3RhclxuICAgIDB4MjYwZTogMHgwYWY5LCAvLyBYS190ZWxlcGhvbmVcbiAgICAweDI2MTM6IDB4MGFjYSwgLy8gWEtfc2lnbmF0dXJlbWFya1xuICAgIDB4MjYxYzogMHgwYWVhLCAvLyBYS19sZWZ0cG9pbnRlclxuICAgIDB4MjYxZTogMHgwYWViLCAvLyBYS19yaWdodHBvaW50ZXJcbiAgICAweDI2NDA6IDB4MGFmOCwgLy8gWEtfZmVtYWxlc3ltYm9sXG4gICAgMHgyNjQyOiAweDBhZjcsIC8vIFhLX21hbGVzeW1ib2xcbiAgICAweDI2NjM6IDB4MGFlYywgLy8gWEtfY2x1YlxuICAgIDB4MjY2NTogMHgwYWVlLCAvLyBYS19oZWFydFxuICAgIDB4MjY2NjogMHgwYWVkLCAvLyBYS19kaWFtb25kXG4gICAgMHgyNjZkOiAweDBhZjYsIC8vIFhLX211c2ljYWxmbGF0XG4gICAgMHgyNjZmOiAweDBhZjUsIC8vIFhLX211c2ljYWxzaGFycFxuICAgIDB4MjcxMzogMHgwYWYzLCAvLyBYS19jaGVja21hcmtcbiAgICAweDI3MTc6IDB4MGFmNCwgLy8gWEtfYmFsbG90Y3Jvc3NcbiAgICAweDI3MWQ6IDB4MGFkOSwgLy8gWEtfbGF0aW5jcm9zc1xuICAgIDB4MjcyMDogMHgwYWYwLCAvLyBYS19tYWx0ZXNlY3Jvc3NcbiAgICAweDI3ZTg6IDB4MGFiYywgLy8gWEtfbGVmdGFuZ2xlYnJhY2tldFxuICAgIDB4MjdlOTogMHgwYWJlLCAvLyBYS19yaWdodGFuZ2xlYnJhY2tldFxuICAgIDB4MzAwMTogMHgwNGE0LCAvLyBYS19rYW5hX2NvbW1hXG4gICAgMHgzMDAyOiAweDA0YTEsIC8vIFhLX2thbmFfZnVsbHN0b3BcbiAgICAweDMwMGM6IDB4MDRhMiwgLy8gWEtfa2FuYV9vcGVuaW5nYnJhY2tldFxuICAgIDB4MzAwZDogMHgwNGEzLCAvLyBYS19rYW5hX2Nsb3NpbmdicmFja2V0XG4gICAgMHgzMDliOiAweDA0ZGUsIC8vIFhLX3ZvaWNlZHNvdW5kXG4gICAgMHgzMDljOiAweDA0ZGYsIC8vIFhLX3NlbWl2b2ljZWRzb3VuZFxuICAgIDB4MzBhMTogMHgwNGE3LCAvLyBYS19rYW5hX2FcbiAgICAweDMwYTI6IDB4MDRiMSwgLy8gWEtfa2FuYV9BXG4gICAgMHgzMGEzOiAweDA0YTgsIC8vIFhLX2thbmFfaVxuICAgIDB4MzBhNDogMHgwNGIyLCAvLyBYS19rYW5hX0lcbiAgICAweDMwYTU6IDB4MDRhOSwgLy8gWEtfa2FuYV91XG4gICAgMHgzMGE2OiAweDA0YjMsIC8vIFhLX2thbmFfVVxuICAgIDB4MzBhNzogMHgwNGFhLCAvLyBYS19rYW5hX2VcbiAgICAweDMwYTg6IDB4MDRiNCwgLy8gWEtfa2FuYV9FXG4gICAgMHgzMGE5OiAweDA0YWIsIC8vIFhLX2thbmFfb1xuICAgIDB4MzBhYTogMHgwNGI1LCAvLyBYS19rYW5hX09cbiAgICAweDMwYWI6IDB4MDRiNiwgLy8gWEtfa2FuYV9LQVxuICAgIDB4MzBhZDogMHgwNGI3LCAvLyBYS19rYW5hX0tJXG4gICAgMHgzMGFmOiAweDA0YjgsIC8vIFhLX2thbmFfS1VcbiAgICAweDMwYjE6IDB4MDRiOSwgLy8gWEtfa2FuYV9LRVxuICAgIDB4MzBiMzogMHgwNGJhLCAvLyBYS19rYW5hX0tPXG4gICAgMHgzMGI1OiAweDA0YmIsIC8vIFhLX2thbmFfU0FcbiAgICAweDMwYjc6IDB4MDRiYywgLy8gWEtfa2FuYV9TSElcbiAgICAweDMwYjk6IDB4MDRiZCwgLy8gWEtfa2FuYV9TVVxuICAgIDB4MzBiYjogMHgwNGJlLCAvLyBYS19rYW5hX1NFXG4gICAgMHgzMGJkOiAweDA0YmYsIC8vIFhLX2thbmFfU09cbiAgICAweDMwYmY6IDB4MDRjMCwgLy8gWEtfa2FuYV9UQVxuICAgIDB4MzBjMTogMHgwNGMxLCAvLyBYS19rYW5hX0NISVxuICAgIDB4MzBjMzogMHgwNGFmLCAvLyBYS19rYW5hX3RzdVxuICAgIDB4MzBjNDogMHgwNGMyLCAvLyBYS19rYW5hX1RTVVxuICAgIDB4MzBjNjogMHgwNGMzLCAvLyBYS19rYW5hX1RFXG4gICAgMHgzMGM4OiAweDA0YzQsIC8vIFhLX2thbmFfVE9cbiAgICAweDMwY2E6IDB4MDRjNSwgLy8gWEtfa2FuYV9OQVxuICAgIDB4MzBjYjogMHgwNGM2LCAvLyBYS19rYW5hX05JXG4gICAgMHgzMGNjOiAweDA0YzcsIC8vIFhLX2thbmFfTlVcbiAgICAweDMwY2Q6IDB4MDRjOCwgLy8gWEtfa2FuYV9ORVxuICAgIDB4MzBjZTogMHgwNGM5LCAvLyBYS19rYW5hX05PXG4gICAgMHgzMGNmOiAweDA0Y2EsIC8vIFhLX2thbmFfSEFcbiAgICAweDMwZDI6IDB4MDRjYiwgLy8gWEtfa2FuYV9ISVxuICAgIDB4MzBkNTogMHgwNGNjLCAvLyBYS19rYW5hX0ZVXG4gICAgMHgzMGQ4OiAweDA0Y2QsIC8vIFhLX2thbmFfSEVcbiAgICAweDMwZGI6IDB4MDRjZSwgLy8gWEtfa2FuYV9IT1xuICAgIDB4MzBkZTogMHgwNGNmLCAvLyBYS19rYW5hX01BXG4gICAgMHgzMGRmOiAweDA0ZDAsIC8vIFhLX2thbmFfTUlcbiAgICAweDMwZTA6IDB4MDRkMSwgLy8gWEtfa2FuYV9NVVxuICAgIDB4MzBlMTogMHgwNGQyLCAvLyBYS19rYW5hX01FXG4gICAgMHgzMGUyOiAweDA0ZDMsIC8vIFhLX2thbmFfTU9cbiAgICAweDMwZTM6IDB4MDRhYywgLy8gWEtfa2FuYV95YVxuICAgIDB4MzBlNDogMHgwNGQ0LCAvLyBYS19rYW5hX1lBXG4gICAgMHgzMGU1OiAweDA0YWQsIC8vIFhLX2thbmFfeXVcbiAgICAweDMwZTY6IDB4MDRkNSwgLy8gWEtfa2FuYV9ZVVxuICAgIDB4MzBlNzogMHgwNGFlLCAvLyBYS19rYW5hX3lvXG4gICAgMHgzMGU4OiAweDA0ZDYsIC8vIFhLX2thbmFfWU9cbiAgICAweDMwZTk6IDB4MDRkNywgLy8gWEtfa2FuYV9SQVxuICAgIDB4MzBlYTogMHgwNGQ4LCAvLyBYS19rYW5hX1JJXG4gICAgMHgzMGViOiAweDA0ZDksIC8vIFhLX2thbmFfUlVcbiAgICAweDMwZWM6IDB4MDRkYSwgLy8gWEtfa2FuYV9SRVxuICAgIDB4MzBlZDogMHgwNGRiLCAvLyBYS19rYW5hX1JPXG4gICAgMHgzMGVmOiAweDA0ZGMsIC8vIFhLX2thbmFfV0FcbiAgICAweDMwZjI6IDB4MDRhNiwgLy8gWEtfa2FuYV9XT1xuICAgIDB4MzBmMzogMHgwNGRkLCAvLyBYS19rYW5hX05cbiAgICAweDMwZmI6IDB4MDRhNSwgLy8gWEtfa2FuYV9jb25qdW5jdGl2ZVxuICAgIDB4MzBmYzogMHgwNGIwLCAvLyBYS19wcm9sb25nZWRzb3VuZFxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIGxvb2t1cCA6IGZ1bmN0aW9uKHUpIHtcbiAgICAgICAgLy8gTGF0aW4tMSBpcyBvbmUtdG8tb25lIG1hcHBpbmdcbiAgICAgICAgaWYgKCh1ID49IDB4MjApICYmICh1IDw9IDB4ZmYpKSB7XG4gICAgICAgICAgICByZXR1cm4gdTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvb2t1cCB0YWJsZSAoZmFpcmx5IHJhbmRvbSlcbiAgICAgICAgdmFyIGtleXN5bSA9IGNvZGVwb2ludHNbdV07XG4gICAgICAgIGlmIChrZXlzeW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGtleXN5bTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdlbmVyYWwgbWFwcGluZyBhcyBmaW5hbCBmYWxsYmFja1xuICAgICAgICByZXR1cm4gMHgwMTAwMDAwMCB8IHU7XG4gICAgfSxcbn07XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxMiBKb2VsIE1hcnRpblxuICogQ29weXJpZ2h0IChDKSAyMDEzIFNhbXVlbCBNYW5uZWhlZCBmb3IgQ2VuZGlvIEFCXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIG9yIGFueSBsYXRlciB2ZXJzaW9uIChzZWUgTElDRU5TRS50eHQpXG4gKi9cblxuaW1wb3J0ICogYXMgTG9nIGZyb20gJy4uL3V0aWwvbG9nZ2luZy5qcyc7XG5pbXBvcnQgeyBpc1RvdWNoRGV2aWNlIH0gZnJvbSAnLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCB7IHNldENhcHR1cmUsIHN0b3BFdmVudCwgZ2V0UG9pbnRlckV2ZW50IH0gZnJvbSAnLi4vdXRpbC9ldmVudHMuanMnO1xuXG52YXIgV0hFRUxfU1RFUCA9IDEwOyAvLyBEZWx0YSB0aHJlc2hvbGQgZm9yIGEgbW91c2Ugd2hlZWwgc3RlcFxudmFyIFdIRUVMX1NURVBfVElNRU9VVCA9IDUwOyAvLyBtc1xudmFyIFdIRUVMX0xJTkVfSEVJR0hUID0gMTk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vdXNlKHRhcmdldCkge1xuICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldCB8fCBkb2N1bWVudDtcblxuICAgIHRoaXMuX2RvdWJsZUNsaWNrVGltZXIgPSBudWxsO1xuICAgIHRoaXMuX2xhc3RUb3VjaFBvcyA9IG51bGw7XG5cbiAgICB0aGlzLl9wb3MgPSBudWxsO1xuICAgIHRoaXMuX3doZWVsU3RlcFhUaW1lciA9IG51bGw7XG4gICAgdGhpcy5fd2hlZWxTdGVwWVRpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFYID0gMDtcbiAgICB0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFZID0gMDtcblxuICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMgPSB7XG4gICAgICAgICdtb3VzZWRvd24nOiB0aGlzLl9oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKSxcbiAgICAgICAgJ21vdXNldXAnOiB0aGlzLl9oYW5kbGVNb3VzZVVwLmJpbmQodGhpcyksXG4gICAgICAgICdtb3VzZW1vdmUnOiB0aGlzLl9oYW5kbGVNb3VzZU1vdmUuYmluZCh0aGlzKSxcbiAgICAgICAgJ21vdXNld2hlZWwnOiB0aGlzLl9oYW5kbGVNb3VzZVdoZWVsLmJpbmQodGhpcyksXG4gICAgICAgICdtb3VzZWRpc2FibGUnOiB0aGlzLl9oYW5kbGVNb3VzZURpc2FibGUuYmluZCh0aGlzKVxuICAgIH07XG59O1xuXG5Nb3VzZS5wcm90b3R5cGUgPSB7XG4gICAgLy8gPT09PT0gUFJPUEVSVElFUyA9PT09PVxuXG4gICAgdG91Y2hCdXR0b246IDEsICAgICAgICAgICAgICAgICAvLyBCdXR0b24gbWFzayAoMSwgMiwgNCkgZm9yIHRvdWNoIGRldmljZXMgKDAgbWVhbnMgaWdub3JlIGNsaWNrcylcblxuICAgIC8vID09PT09IEVWRU5UIEhBTkRMRVJTID09PT09XG5cbiAgICBvbm1vdXNlYnV0dG9uOiBmdW5jdGlvbiAoKSB7fSwgIC8vIEhhbmRsZXIgZm9yIG1vdXNlIGJ1dHRvbiBjbGljay9yZWxlYXNlXG4gICAgb25tb3VzZW1vdmU6IGZ1bmN0aW9uICgpIHt9LCAgICAvLyBIYW5kbGVyIGZvciBtb3VzZSBtb3ZlbWVudFxuXG4gICAgLy8gPT09PT0gUFJJVkFURSBNRVRIT0RTID09PT09XG5cbiAgICBfcmVzZXREb3VibGVDbGlja1RpbWVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2RvdWJsZUNsaWNrVGltZXIgPSBudWxsO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlTW91c2VCdXR0b246IGZ1bmN0aW9uIChlLCBkb3duKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1vdXNlUG9zaXRpb24oZSk7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLl9wb3M7XG5cbiAgICAgICAgdmFyIGJtYXNrO1xuICAgICAgICBpZiAoZS50b3VjaGVzIHx8IGUuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgICAgIC8vIFRvdWNoIGRldmljZVxuXG4gICAgICAgICAgICAvLyBXaGVuIHR3byB0b3VjaGVzIG9jY3VyIHdpdGhpbiA1MDAgbXMgb2YgZWFjaCBvdGhlciBhbmQgYXJlXG4gICAgICAgICAgICAvLyBjbG9zZSBlbm91Z2ggdG9nZXRoZXIgYSBkb3VibGUgY2xpY2sgaXMgdHJpZ2dlcmVkLlxuICAgICAgICAgICAgaWYgKGRvd24gPT0gMSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kb3VibGVDbGlja1RpbWVyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RUb3VjaFBvcyA9IHBvcztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZG91YmxlQ2xpY2tUaW1lcik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHRvdWNoZXMgaXMgc21hbGwgZW5vdWdoXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGF0dGVyIHRvdWNoIHRvIHRoZSBwb3NpdGlvbiBvZlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmlyc3QuXG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHhzID0gdGhpcy5fbGFzdFRvdWNoUG9zLnggLSBwb3MueDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHlzID0gdGhpcy5fbGFzdFRvdWNoUG9zLnkgLSBwb3MueTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBNYXRoLnNxcnQoKHhzICogeHMpICsgKHlzICogeXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZ29hbCBpcyB0byB0cmlnZ2VyIG9uIGEgY2VydGFpbiBwaHlzaWNhbCB3aWR0aCwgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGRldmljZVBpeGVsUmF0aW8gYnJpbmdzIHVzIGEgYml0IGNsb3NlciBidXQgaXMgbm90IG9wdGltYWwuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSAyMCAqICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgPCB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IHRoaXMuX2xhc3RUb3VjaFBvcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9kb3VibGVDbGlja1RpbWVyID0gc2V0VGltZW91dCh0aGlzLl9yZXNldERvdWJsZUNsaWNrVGltZXIuYmluZCh0aGlzKSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJtYXNrID0gdGhpcy50b3VjaEJ1dHRvbjtcbiAgICAgICAgICAgIC8vIElmIGJtYXNrIGlzIHNldFxuICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2gpIHtcbiAgICAgICAgICAgIC8qIGV2ZXJ5dGhpbmcgZXhjZXB0IElFICovXG4gICAgICAgICAgICBibWFzayA9IDEgPDwgZS5idXR0b247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKiBJRSBpbmNsdWRpbmcgOSAqL1xuICAgICAgICAgICAgYm1hc2sgPSAoZS5idXR0b24gJiAweDEpICsgICAgICAvLyBMZWZ0XG4gICAgICAgICAgICAgICAgICAgIChlLmJ1dHRvbiAmIDB4MikgKiAyICsgIC8vIFJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIChlLmJ1dHRvbiAmIDB4NCkgLyAyOyAgIC8vIE1pZGRsZVxuICAgICAgICB9XG5cbiAgICAgICAgTG9nLkRlYnVnKFwib25tb3VzZWJ1dHRvbiBcIiArIChkb3duID8gXCJkb3duXCIgOiBcInVwXCIpICtcbiAgICAgICAgICAgICAgICAgIFwiLCB4OiBcIiArIHBvcy54ICsgXCIsIHk6IFwiICsgcG9zLnkgKyBcIiwgYm1hc2s6IFwiICsgYm1hc2spO1xuICAgICAgICB0aGlzLm9ubW91c2VidXR0b24ocG9zLngsIHBvcy55LCBkb3duLCBibWFzayk7XG5cbiAgICAgICAgc3RvcEV2ZW50KGUpO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlTW91c2VEb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyBUb3VjaCBldmVudHMgaGF2ZSBpbXBsaWNpdCBjYXB0dXJlXG4gICAgICAgIGlmIChlLnR5cGUgPT09IFwibW91c2Vkb3duXCIpIHtcbiAgICAgICAgICAgIHNldENhcHR1cmUodGhpcy5fdGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hhbmRsZU1vdXNlQnV0dG9uKGUsIDEpO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlTW91c2VVcDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlTW91c2VCdXR0b24oZSwgMCk7XG4gICAgfSxcblxuICAgIC8vIE1vdXNlIHdoZWVsIGV2ZW50cyBhcmUgc2VudCBpbiBzdGVwcyBvdmVyIFZOQy4gVGhpcyBtZWFucyB0aGF0IHRoZSBWTkNcbiAgICAvLyBwcm90b2NvbCBjYW4ndCBoYW5kbGUgYSB3aGVlbCBldmVudCB3aXRoIHNwZWNpZmljIGRpc3RhbmNlIG9yIHNwZWVkLlxuICAgIC8vIFRoZXJlZm9yLCBpZiB3ZSBnZXQgYSBsb3Qgb2Ygc21hbGwgbW91c2Ugd2hlZWwgZXZlbnRzIHdlIGNvbWJpbmUgdGhlbS5cbiAgICBfZ2VuZXJhdGVXaGVlbFN0ZXBYOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVggPCAwKSB7XG4gICAgICAgICAgICB0aGlzLm9ubW91c2VidXR0b24odGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55LCAxLCAxIDw8IDUpO1xuICAgICAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHRoaXMuX3Bvcy54LCB0aGlzLl9wb3MueSwgMCwgMSA8PCA1KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFYID4gMCkge1xuICAgICAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHRoaXMuX3Bvcy54LCB0aGlzLl9wb3MueSwgMSwgMSA8PCA2KTtcbiAgICAgICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbih0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnksIDAsIDEgPDwgNik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFYID0gMDtcbiAgICB9LFxuXG4gICAgX2dlbmVyYXRlV2hlZWxTdGVwWTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICh0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFZIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHRoaXMuX3Bvcy54LCB0aGlzLl9wb3MueSwgMSwgMSA8PCAzKTtcbiAgICAgICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbih0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnksIDAsIDEgPDwgMyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbih0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnksIDEsIDEgPDwgNCk7XG4gICAgICAgICAgICB0aGlzLm9ubW91c2VidXR0b24odGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55LCAwLCAxIDw8IDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWSA9IDA7XG4gICAgfSxcblxuICAgIF9yZXNldFdoZWVsU3RlcFRpbWVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3doZWVsU3RlcFhUaW1lcik7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fd2hlZWxTdGVwWVRpbWVyKTtcbiAgICAgICAgdGhpcy5fd2hlZWxTdGVwWFRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd2hlZWxTdGVwWVRpbWVyID0gbnVsbDtcbiAgICB9LFxuXG4gICAgX2hhbmRsZU1vdXNlV2hlZWw6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0V2hlZWxTdGVwVGltZXJzKCk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlTW91c2VQb3NpdGlvbihlKTtcblxuICAgICAgICB2YXIgZFggPSBlLmRlbHRhWDtcbiAgICAgICAgdmFyIGRZID0gZS5kZWx0YVk7XG5cbiAgICAgICAgLy8gUGl4ZWwgdW5pdHMgdW5sZXNzIGl0J3Mgbm9uLXplcm8uXG4gICAgICAgIC8vIE5vdGUgdGhhdCBpZiBkZWx0YW1vZGUgaXMgbGluZSBvciBwYWdlIHdvbid0IG1hdHRlciBzaW5jZSB3ZSBhcmVuJ3RcbiAgICAgICAgLy8gc2VuZGluZyB0aGUgbW91c2Ugd2hlZWwgZGVsdGEgdG8gdGhlIHNlcnZlciBhbnl3YXkuXG4gICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gcGl4ZWwgYW5kIGxpbmUgY2FuIGJlIGltcG9ydGFudCBob3dldmVyIHNpbmNlXG4gICAgICAgIC8vIHdlIGhhdmUgYSB0aHJlc2hvbGQgdGhhdCBjYW4gYmUgc21hbGxlciB0aGFuIHRoZSBsaW5lIGhlaWdodC5cbiAgICAgICAgaWYgKGUuZGVsdGFNb2RlICE9PSAwKSB7XG4gICAgICAgICAgICBkWCAqPSBXSEVFTF9MSU5FX0hFSUdIVDtcbiAgICAgICAgICAgIGRZICo9IFdIRUVMX0xJTkVfSEVJR0hUO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWCArPSBkWDtcbiAgICAgICAgdGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWSArPSBkWTtcblxuICAgICAgICAvLyBHZW5lcmF0ZSBhIG1vdXNlIHdoZWVsIHN0ZXAgZXZlbnQgd2hlbiB0aGUgYWNjdW11bGF0ZWQgZGVsdGFcbiAgICAgICAgLy8gZm9yIG9uZSBvZiB0aGUgYXhlcyBpcyBsYXJnZSBlbm91Z2guXG4gICAgICAgIC8vIFNtYWxsIGRlbHRhIGV2ZW50cyB0aGF0IGRvIG5vdCBwYXNzIHRoZSB0aHJlc2hvbGQgZ2V0IHNlbnRcbiAgICAgICAgLy8gYWZ0ZXIgYSB0aW1lb3V0LlxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWCkgPiBXSEVFTF9TVEVQKSB7XG4gICAgICAgICAgICB0aGlzLl9nZW5lcmF0ZVdoZWVsU3RlcFgoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3doZWVsU3RlcFhUaW1lciA9XG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5fZ2VuZXJhdGVXaGVlbFN0ZXBYLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV0hFRUxfU1RFUF9USU1FT1VUKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWSkgPiBXSEVFTF9TVEVQKSB7XG4gICAgICAgICAgICB0aGlzLl9nZW5lcmF0ZVdoZWVsU3RlcFkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3doZWVsU3RlcFlUaW1lciA9XG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5fZ2VuZXJhdGVXaGVlbFN0ZXBZLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV0hFRUxfU1RFUF9USU1FT1VUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3BFdmVudChlKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZU1vdXNlTW92ZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlTW91c2VQb3NpdGlvbihlKTtcbiAgICAgICAgdGhpcy5vbm1vdXNlbW92ZSh0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnkpO1xuICAgICAgICBzdG9wRXZlbnQoZSk7XG4gICAgfSxcblxuICAgIF9oYW5kbGVNb3VzZURpc2FibGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAqIFN0b3AgcHJvcGFnYXRpb24gaWYgaW5zaWRlIGNhbnZhcyBhcmVhXG4gICAgICAgICAqIE5vdGU6IFRoaXMgaXMgb25seSBuZWVkZWQgZm9yIHRoZSAnY2xpY2snIGV2ZW50IGFzIGl0IGZhaWxzXG4gICAgICAgICAqICAgICAgIHRvIGZpcmUgcHJvcGVybHkgZm9yIHRoZSB0YXJnZXQgZWxlbWVudCBzbyB3ZSBoYXZlXG4gICAgICAgICAqICAgICAgIHRvIGxpc3RlbiBvbiB0aGUgZG9jdW1lbnQgZWxlbWVudCBpbnN0ZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGUudGFyZ2V0ID09IHRoaXMuX3RhcmdldCkge1xuICAgICAgICAgICAgc3RvcEV2ZW50KGUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0YXJnZXRcbiAgICBfdXBkYXRlTW91c2VQb3NpdGlvbjogZnVuY3Rpb24oZSkge1xuICAgICAgICBlID0gZ2V0UG9pbnRlckV2ZW50KGUpO1xuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5fdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgeCwgeTtcbiAgICAgICAgLy8gQ2xpcCB0byB0YXJnZXQgYm91bmRzXG4gICAgICAgIGlmIChlLmNsaWVudFggPCBib3VuZHMubGVmdCkge1xuICAgICAgICAgICAgeCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5jbGllbnRYID49IGJvdW5kcy5yaWdodCkge1xuICAgICAgICAgICAgeCA9IGJvdW5kcy53aWR0aCAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4ID0gZS5jbGllbnRYIC0gYm91bmRzLmxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUuY2xpZW50WSA8IGJvdW5kcy50b3ApIHtcbiAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGUuY2xpZW50WSA+PSBib3VuZHMuYm90dG9tKSB7XG4gICAgICAgICAgICB5ID0gYm91bmRzLmhlaWdodCAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB5ID0gZS5jbGllbnRZIC0gYm91bmRzLnRvcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wb3MgPSB7eDp4LCB5Onl9O1xuICAgIH0sXG5cbiAgICAvLyA9PT09PSBQVUJMSUMgTUVUSE9EUyA9PT09PVxuXG4gICAgZ3JhYjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYyA9IHRoaXMuX3RhcmdldDtcblxuICAgICAgICBpZiAoaXNUb3VjaERldmljZSkge1xuICAgICAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRvd24pO1xuICAgICAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2V1cCk7XG4gICAgICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2Vtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2Vkb3duKTtcbiAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZXVwKTtcbiAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlbW92ZSk7XG4gICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNld2hlZWwpO1xuXG4gICAgICAgIC8qIFByZXZlbnQgbWlkZGxlLWNsaWNrIHBhc3RpbmcgKHNlZSBhYm92ZSBmb3Igd2h5IHdlIGJpbmQgdG8gZG9jdW1lbnQpICovXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRpc2FibGUpO1xuXG4gICAgICAgIC8qIHByZXZlbnREZWZhdWx0KCkgb24gbW91c2Vkb3duIGRvZXNuJ3Qgc3RvcCB0aGlzIGV2ZW50IGZvciBzb21lXG4gICAgICAgICAgIHJlYXNvbiBzbyB3ZSBoYXZlIHRvIGV4cGxpY2l0bHkgYmxvY2sgaXQgKi9cbiAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2VkaXNhYmxlKTtcbiAgICB9LFxuXG4gICAgdW5ncmFiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjID0gdGhpcy5fdGFyZ2V0O1xuXG4gICAgICAgIHRoaXMuX3Jlc2V0V2hlZWxTdGVwVGltZXJzKCk7XG5cbiAgICAgICAgaWYgKGlzVG91Y2hEZXZpY2UpIHtcbiAgICAgICAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2Vkb3duKTtcbiAgICAgICAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNldXApO1xuICAgICAgICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlbW92ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlZG93bik7XG4gICAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2V1cCk7XG4gICAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZW1vdmUpO1xuICAgICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZXdoZWVsKTtcblxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2VkaXNhYmxlKTtcblxuICAgICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRpc2FibGUpO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgS2V5VGFibGUgZnJvbSBcIi4va2V5c3ltLmpzXCI7XG5pbXBvcnQga2V5c3ltcyBmcm9tIFwiLi9rZXlzeW1kZWYuanNcIjtcbmltcG9ydCB2a2V5cyBmcm9tIFwiLi92a2V5cy5qc1wiO1xuaW1wb3J0IGZpeGVka2V5cyBmcm9tIFwiLi9maXhlZGtleXMuanNcIjtcbmltcG9ydCBET01LZXlUYWJsZSBmcm9tIFwiLi9kb21rZXl0YWJsZS5qc1wiO1xuaW1wb3J0ICogYXMgYnJvd3NlciBmcm9tIFwiLi4vdXRpbC9icm93c2VyLmpzXCI7XG5cbi8vIEdldCAnS2V5Ym9hcmRFdmVudC5jb2RlJywgaGFuZGxpbmcgbGVnYWN5IGJyb3dzZXJzXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5Y29kZShldnQpe1xuICAgIC8vIEFyZSB3ZSBnZXR0aW5nIHByb3BlciBrZXkgaWRlbnRpZmllcnM/XG4gICAgLy8gKHVuZm9ydHVuYXRlbHkgRmlyZWZveCBhbmQgQ2hyb21lIGFyZSBjcmFwcHkgaGVyZSBhbmQgZ2l2ZXNcbiAgICAvLyB1cyBhbiBlbXB0eSBzdHJpbmcgb24gc29tZSBwbGF0Zm9ybXMsIHJhdGhlciB0aGFuIGxlYXZpbmcgaXRcbiAgICAvLyB1bmRlZmluZWQpXG4gICAgaWYgKGV2dC5jb2RlKSB7XG4gICAgICAgIC8vIE1vemlsbGEgaXNuJ3QgZnVsbHkgaW4gc3luYyB3aXRoIHRoZSBzcGVjIHlldFxuICAgICAgICBzd2l0Y2ggKGV2dC5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdPU0xlZnQnOiByZXR1cm4gJ01ldGFMZWZ0JztcbiAgICAgICAgICAgIGNhc2UgJ09TUmlnaHQnOiByZXR1cm4gJ01ldGFSaWdodCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZ0LmNvZGU7XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlLWZhY3RvIHN0YW5kYXJkIGlzIHRvIHVzZSBXaW5kb3dzIFZpcnR1YWwtS2V5IGNvZGVzXG4gICAgLy8gaW4gdGhlICdrZXlDb2RlJyBmaWVsZCBmb3Igbm9uLXByaW50YWJsZSBjaGFyYWN0ZXJzLiBIb3dldmVyXG4gICAgLy8gV2Via2l0IHNldHMgaXQgdG8gdGhlIHNhbWUgYXMgY2hhckNvZGUgaW4gJ2tleXByZXNzJyBldmVudHMuXG4gICAgaWYgKChldnQudHlwZSAhPT0gJ2tleXByZXNzJykgJiYgKGV2dC5rZXlDb2RlIGluIHZrZXlzKSkge1xuICAgICAgICB2YXIgY29kZSA9IHZrZXlzW2V2dC5rZXlDb2RlXTtcblxuICAgICAgICAvLyBtYWNPUyBoYXMgbWVzc2VkIHVwIHRoaXMgY29kZSBmb3Igc29tZSByZWFzb25cbiAgICAgICAgaWYgKGJyb3dzZXIuaXNNYWMoKSAmJiAoY29kZSA9PT0gJ0NvbnRleHRNZW51JykpIHtcbiAgICAgICAgICAgIGNvZGUgPSAnTWV0YVJpZ2h0JztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBrZXlDb2RlIGRvZXNuJ3QgZGlzdGluZ3Vpc2ggYmV0d2VlbiBsZWZ0IGFuZCByaWdodFxuICAgICAgICAvLyBmb3IgdGhlIHN0YW5kYXJkIG1vZGlmaWVyc1xuICAgICAgICBpZiAoZXZ0LmxvY2F0aW9uID09PSAyKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdTaGlmdExlZnQnOiByZXR1cm4gJ1NoaWZ0UmlnaHQnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0NvbnRyb2xMZWZ0JzogcmV0dXJuICdDb250cm9sUmlnaHQnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0FsdExlZnQnOiByZXR1cm4gJ0FsdFJpZ2h0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vciBhIGJ1bmNoIG9mIHRoZSBudW1wYWQga2V5c1xuICAgICAgICBpZiAoZXZ0LmxvY2F0aW9uID09PSAzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdEZWxldGUnOiByZXR1cm4gJ051bXBhZERlY2ltYWwnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0luc2VydCc6IHJldHVybiAnTnVtcGFkMCc7XG4gICAgICAgICAgICAgICAgY2FzZSAnRW5kJzogcmV0dXJuICdOdW1wYWQxJztcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOiByZXR1cm4gJ051bXBhZDInO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1BhZ2VEb3duJzogcmV0dXJuICdOdW1wYWQzJztcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0xlZnQnOiByZXR1cm4gJ051bXBhZDQnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOiByZXR1cm4gJ051bXBhZDYnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0hvbWUnOiByZXR1cm4gJ051bXBhZDcnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOiByZXR1cm4gJ051bXBhZDgnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1BhZ2VVcCc6IHJldHVybiAnTnVtcGFkOSc7XG4gICAgICAgICAgICAgICAgY2FzZSAnRW50ZXInOiByZXR1cm4gJ051bXBhZEVudGVyJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgIH1cblxuICAgIHJldHVybiAnVW5pZGVudGlmaWVkJztcbn1cblxuLy8gR2V0ICdLZXlib2FyZEV2ZW50LmtleScsIGhhbmRsaW5nIGxlZ2FjeSBicm93c2Vyc1xuZXhwb3J0IGZ1bmN0aW9uIGdldEtleShldnQpIHtcbiAgICAvLyBBcmUgd2UgZ2V0dGluZyBhIHByb3BlciBrZXkgdmFsdWU/XG4gICAgaWYgKGV2dC5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBJRSBhbmQgRWRnZSB1c2Ugc29tZSBhbmNpZW50IHZlcnNpb24gb2YgdGhlIHNwZWNcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvODg2MDU3MS9cbiAgICAgICAgc3dpdGNoIChldnQua2V5KSB7XG4gICAgICAgICAgICBjYXNlICdTcGFjZWJhcic6IHJldHVybiAnICc7XG4gICAgICAgICAgICBjYXNlICdFc2MnOiByZXR1cm4gJ0VzY2FwZSc7XG4gICAgICAgICAgICBjYXNlICdTY3JvbGwnOiByZXR1cm4gJ1Njcm9sbExvY2snO1xuICAgICAgICAgICAgY2FzZSAnV2luJzogcmV0dXJuICdNZXRhJztcbiAgICAgICAgICAgIGNhc2UgJ0FwcHMnOiByZXR1cm4gJ0NvbnRleHRNZW51JztcbiAgICAgICAgICAgIGNhc2UgJ1VwJzogcmV0dXJuICdBcnJvd1VwJztcbiAgICAgICAgICAgIGNhc2UgJ0xlZnQnOiByZXR1cm4gJ0Fycm93TGVmdCc7XG4gICAgICAgICAgICBjYXNlICdSaWdodCc6IHJldHVybiAnQXJyb3dSaWdodCc7XG4gICAgICAgICAgICBjYXNlICdEb3duJzogcmV0dXJuICdBcnJvd0Rvd24nO1xuICAgICAgICAgICAgY2FzZSAnRGVsJzogcmV0dXJuICdEZWxldGUnO1xuICAgICAgICAgICAgY2FzZSAnRGl2aWRlJzogcmV0dXJuICcvJztcbiAgICAgICAgICAgIGNhc2UgJ011bHRpcGx5JzogcmV0dXJuICcqJztcbiAgICAgICAgICAgIGNhc2UgJ1N1YnRyYWN0JzogcmV0dXJuICctJztcbiAgICAgICAgICAgIGNhc2UgJ0FkZCc6IHJldHVybiAnKyc7XG4gICAgICAgICAgICBjYXNlICdEZWNpbWFsJzogcmV0dXJuIGV2dC5jaGFyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW96aWxsYSBpc24ndCBmdWxseSBpbiBzeW5jIHdpdGggdGhlIHNwZWMgeWV0XG4gICAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICAgICAgY2FzZSAnT1MnOiByZXR1cm4gJ01ldGEnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaU9TIGxlYWtzIHNvbWUgT1MgbmFtZXNcbiAgICAgICAgc3dpdGNoIChldnQua2V5KSB7XG4gICAgICAgICAgICBjYXNlICdVSUtleUlucHV0VXBBcnJvdyc6IHJldHVybiAnQXJyb3dVcCc7XG4gICAgICAgICAgICBjYXNlICdVSUtleUlucHV0RG93bkFycm93JzogcmV0dXJuICdBcnJvd0Rvd24nO1xuICAgICAgICAgICAgY2FzZSAnVUlLZXlJbnB1dExlZnRBcnJvdyc6IHJldHVybiAnQXJyb3dMZWZ0JztcbiAgICAgICAgICAgIGNhc2UgJ1VJS2V5SW5wdXRSaWdodEFycm93JzogcmV0dXJuICdBcnJvd1JpZ2h0JztcbiAgICAgICAgICAgIGNhc2UgJ1VJS2V5SW5wdXRFc2NhcGUnOiByZXR1cm4gJ0VzY2FwZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJRSBhbmQgRWRnZSBoYXZlIGJyb2tlbiBoYW5kbGluZyBvZiBBbHRHcmFwaCBzbyB3ZSBjYW5ub3RcbiAgICAgICAgLy8gdHJ1c3QgdGhlbSBmb3IgcHJpbnRhYmxlIGNoYXJhY3RlcnNcbiAgICAgICAgaWYgKChldnQua2V5Lmxlbmd0aCAhPT0gMSkgfHwgKCFicm93c2VyLmlzSUUoKSAmJiAhYnJvd3Nlci5pc0VkZ2UoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBldnQua2V5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIGRlZHVjZSBpdCBiYXNlZCBvbiB0aGUgcGh5c2ljYWwga2V5XG4gICAgdmFyIGNvZGUgPSBnZXRLZXljb2RlKGV2dCk7XG4gICAgaWYgKGNvZGUgaW4gZml4ZWRrZXlzKSB7XG4gICAgICAgIHJldHVybiBmaXhlZGtleXNbY29kZV07XG4gICAgfVxuXG4gICAgLy8gSWYgdGhhdCBmYWlsZWQsIHRoZW4gc2VlIGlmIHdlIGhhdmUgYSBwcmludGFibGUgY2hhcmFjdGVyXG4gICAgaWYgKGV2dC5jaGFyQ29kZSkge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShldnQuY2hhckNvZGUpO1xuICAgIH1cblxuICAgIC8vIEF0IHRoaXMgcG9pbnQgd2UgaGF2ZSBub3RoaW5nIGxlZnQgdG8gZ28gb25cbiAgICByZXR1cm4gJ1VuaWRlbnRpZmllZCc7XG59XG5cbi8vIEdldCB0aGUgbW9zdCByZWxpYWJsZSBrZXlzeW0gdmFsdWUgd2UgY2FuIGdldCBmcm9tIGEga2V5IGV2ZW50XG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5c3ltKGV2dCl7XG4gICAgdmFyIGtleSA9IGdldEtleShldnQpO1xuXG4gICAgaWYgKGtleSA9PT0gJ1VuaWRlbnRpZmllZCcpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gRmlyc3QgbG9vayB1cCBzcGVjaWFsIGtleXNcbiAgICBpZiAoa2V5IGluIERPTUtleVRhYmxlKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IGV2dC5sb2NhdGlvbjtcblxuICAgICAgICAvLyBTYWZhcmkgc2NyZXdzIHVwIGxvY2F0aW9uIGZvciB0aGUgcmlnaHQgY21kIGtleVxuICAgICAgICBpZiAoKGtleSA9PT0gJ01ldGEnKSAmJiAobG9jYXRpb24gPT09IDApKSB7XG4gICAgICAgICAgICBsb2NhdGlvbiA9IDI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKGxvY2F0aW9uID09PSB1bmRlZmluZWQpIHx8IChsb2NhdGlvbiA+IDMpKSB7XG4gICAgICAgICAgICBsb2NhdGlvbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gRE9NS2V5VGFibGVba2V5XVtsb2NhdGlvbl07XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIG5lZWQgdG8gbG9vayBhdCB0aGUgVW5pY29kZSBzeW1ib2wgaW5zdGVhZFxuXG4gICAgdmFyIGNvZGVwb2ludDtcblxuICAgIC8vIFNwZWNpYWwga2V5PyAoRklYTUU6IFNob3VsZCBoYXZlIGJlZW4gY2F1Z2h0IGVhcmxpZXIpXG4gICAgaWYgKGtleS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29kZXBvaW50ID0ga2V5LmNoYXJDb2RlQXQoKTtcbiAgICBpZiAoY29kZXBvaW50KSB7XG4gICAgICAgIHJldHVybiBrZXlzeW1zLmxvb2t1cChjb2RlcG9pbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTcgUGllcnJlIE9zc21hbiBmb3IgQ2VuZGlvIEFCXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIG9yIGFueSBsYXRlciB2ZXJzaW9uIChzZWUgTElDRU5TRS50eHQpXG4gKi9cblxuLypcbiAqIE1hcHBpbmcgYmV0d2VlbiBNaWNyb3NvZnTCriBXaW5kb3dzwq4gVmlydHVhbC1LZXkgY29kZXMgYW5kXG4gKiBIVE1MIGtleSBjb2Rlcy5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgMHgwODogJ0JhY2tzcGFjZScsXG4gICAgMHgwOTogJ1RhYicsXG4gICAgMHgwYTogJ051bXBhZENsZWFyJyxcbiAgICAweDBkOiAnRW50ZXInLFxuICAgIDB4MTA6ICdTaGlmdExlZnQnLFxuICAgIDB4MTE6ICdDb250cm9sTGVmdCcsXG4gICAgMHgxMjogJ0FsdExlZnQnLFxuICAgIDB4MTM6ICdQYXVzZScsXG4gICAgMHgxNDogJ0NhcHNMb2NrJyxcbiAgICAweDE1OiAnTGFuZzEnLFxuICAgIDB4MTk6ICdMYW5nMicsXG4gICAgMHgxYjogJ0VzY2FwZScsXG4gICAgMHgxYzogJ0NvbnZlcnQnLFxuICAgIDB4MWQ6ICdOb25Db252ZXJ0JyxcbiAgICAweDIwOiAnU3BhY2UnLFxuICAgIDB4MjE6ICdQYWdlVXAnLFxuICAgIDB4MjI6ICdQYWdlRG93bicsXG4gICAgMHgyMzogJ0VuZCcsXG4gICAgMHgyNDogJ0hvbWUnLFxuICAgIDB4MjU6ICdBcnJvd0xlZnQnLFxuICAgIDB4MjY6ICdBcnJvd1VwJyxcbiAgICAweDI3OiAnQXJyb3dSaWdodCcsXG4gICAgMHgyODogJ0Fycm93RG93bicsXG4gICAgMHgyOTogJ1NlbGVjdCcsXG4gICAgMHgyYzogJ1ByaW50U2NyZWVuJyxcbiAgICAweDJkOiAnSW5zZXJ0JyxcbiAgICAweDJlOiAnRGVsZXRlJyxcbiAgICAweDJmOiAnSGVscCcsXG4gICAgMHgzMDogJ0RpZ2l0MCcsXG4gICAgMHgzMTogJ0RpZ2l0MScsXG4gICAgMHgzMjogJ0RpZ2l0MicsXG4gICAgMHgzMzogJ0RpZ2l0MycsXG4gICAgMHgzNDogJ0RpZ2l0NCcsXG4gICAgMHgzNTogJ0RpZ2l0NScsXG4gICAgMHgzNjogJ0RpZ2l0NicsXG4gICAgMHgzNzogJ0RpZ2l0NycsXG4gICAgMHgzODogJ0RpZ2l0OCcsXG4gICAgMHgzOTogJ0RpZ2l0OScsXG4gICAgMHg1YjogJ01ldGFMZWZ0JyxcbiAgICAweDVjOiAnTWV0YVJpZ2h0JyxcbiAgICAweDVkOiAnQ29udGV4dE1lbnUnLFxuICAgIDB4NWY6ICdTbGVlcCcsXG4gICAgMHg2MDogJ051bXBhZDAnLFxuICAgIDB4NjE6ICdOdW1wYWQxJyxcbiAgICAweDYyOiAnTnVtcGFkMicsXG4gICAgMHg2MzogJ051bXBhZDMnLFxuICAgIDB4NjQ6ICdOdW1wYWQ0JyxcbiAgICAweDY1OiAnTnVtcGFkNScsXG4gICAgMHg2NjogJ051bXBhZDYnLFxuICAgIDB4Njc6ICdOdW1wYWQ3JyxcbiAgICAweDY4OiAnTnVtcGFkOCcsXG4gICAgMHg2OTogJ051bXBhZDknLFxuICAgIDB4NmE6ICdOdW1wYWRNdWx0aXBseScsXG4gICAgMHg2YjogJ051bXBhZEFkZCcsXG4gICAgMHg2YzogJ051bXBhZERlY2ltYWwnLFxuICAgIDB4NmQ6ICdOdW1wYWRTdWJ0cmFjdCcsXG4gICAgMHg2ZTogJ051bXBhZERlY2ltYWwnLCAvLyBEdXBsaWNhdGUsIGJlY2F1c2UgYnVnZ3kgb24gV2luZG93c1xuICAgIDB4NmY6ICdOdW1wYWREaXZpZGUnLFxuICAgIDB4NzA6ICdGMScsXG4gICAgMHg3MTogJ0YyJyxcbiAgICAweDcyOiAnRjMnLFxuICAgIDB4NzM6ICdGNCcsXG4gICAgMHg3NDogJ0Y1JyxcbiAgICAweDc1OiAnRjYnLFxuICAgIDB4NzY6ICdGNycsXG4gICAgMHg3NzogJ0Y4JyxcbiAgICAweDc4OiAnRjknLFxuICAgIDB4Nzk6ICdGMTAnLFxuICAgIDB4N2E6ICdGMTEnLFxuICAgIDB4N2I6ICdGMTInLFxuICAgIDB4N2M6ICdGMTMnLFxuICAgIDB4N2Q6ICdGMTQnLFxuICAgIDB4N2U6ICdGMTUnLFxuICAgIDB4N2Y6ICdGMTYnLFxuICAgIDB4ODA6ICdGMTcnLFxuICAgIDB4ODE6ICdGMTgnLFxuICAgIDB4ODI6ICdGMTknLFxuICAgIDB4ODM6ICdGMjAnLFxuICAgIDB4ODQ6ICdGMjEnLFxuICAgIDB4ODU6ICdGMjInLFxuICAgIDB4ODY6ICdGMjMnLFxuICAgIDB4ODc6ICdGMjQnLFxuICAgIDB4OTA6ICdOdW1Mb2NrJyxcbiAgICAweDkxOiAnU2Nyb2xsTG9jaycsXG4gICAgMHhhNjogJ0Jyb3dzZXJCYWNrJyxcbiAgICAweGE3OiAnQnJvd3NlckZvcndhcmQnLFxuICAgIDB4YTg6ICdCcm93c2VyUmVmcmVzaCcsXG4gICAgMHhhOTogJ0Jyb3dzZXJTdG9wJyxcbiAgICAweGFhOiAnQnJvd3NlclNlYXJjaCcsXG4gICAgMHhhYjogJ0Jyb3dzZXJGYXZvcml0ZXMnLFxuICAgIDB4YWM6ICdCcm93c2VySG9tZScsXG4gICAgMHhhZDogJ0F1ZGlvVm9sdW1lTXV0ZScsXG4gICAgMHhhZTogJ0F1ZGlvVm9sdW1lRG93bicsXG4gICAgMHhhZjogJ0F1ZGlvVm9sdW1lVXAnLFxuICAgIDB4YjA6ICdNZWRpYVRyYWNrTmV4dCcsXG4gICAgMHhiMTogJ01lZGlhVHJhY2tQcmV2aW91cycsXG4gICAgMHhiMjogJ01lZGlhU3RvcCcsXG4gICAgMHhiMzogJ01lZGlhUGxheVBhdXNlJyxcbiAgICAweGI0OiAnTGF1bmNoTWFpbCcsXG4gICAgMHhiNTogJ01lZGlhU2VsZWN0JyxcbiAgICAweGI2OiAnTGF1bmNoQXBwMScsXG4gICAgMHhiNzogJ0xhdW5jaEFwcDInLFxuICAgIDB4ZTE6ICdBbHRSaWdodCcsIC8vIE9ubHkgd2hlbiBpdCBpcyBBbHRHcmFwaFxufTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgYXV0by1nZW5lcmF0ZWQgZnJvbSBrZXltYXBzLmNzdiBvbiAyMDE3LTA1LTMxIDE2OjIwXG4gKiBEYXRhYmFzZSBjaGVja3N1bSBzaGEyNTYoOTJmZDE2NTUwN2YyYTNiOGM1YjNmYTU2ZTQyNWQ0NTc4OGRiY2I5OGNmMDY3YTMwNzUyN2Q5MWNlMjJjYWI5NClcbiAqIFRvIHJlLWdlbmVyYXRlLCBydW46XG4gKiAgIGtleW1hcC1nZW4gLS1sYW5nPWpzIGNvZGUtbWFwIGtleW1hcHMuY3N2IGh0bWwgYXRzZXQxXG4qL1xuZXhwb3J0IGRlZmF1bHQge1xuICBcIkFnYWluXCI6IDB4ZTAwNSwgLyogaHRtbDpBZ2FpbiAoQWdhaW4pIC0+IGxpbnV4OjEyOSAoS0VZX0FHQUlOKSAtPiBhdHNldDE6NTczNDkgKi9cbiAgXCJBbHRMZWZ0XCI6IDB4MzgsIC8qIGh0bWw6QWx0TGVmdCAoQWx0TGVmdCkgLT4gbGludXg6NTYgKEtFWV9MRUZUQUxUKSAtPiBhdHNldDE6NTYgKi9cbiAgXCJBbHRSaWdodFwiOiAweGUwMzgsIC8qIGh0bWw6QWx0UmlnaHQgKEFsdFJpZ2h0KSAtPiBsaW51eDoxMDAgKEtFWV9SSUdIVEFMVCkgLT4gYXRzZXQxOjU3NDAwICovXG4gIFwiQXJyb3dEb3duXCI6IDB4ZTA1MCwgLyogaHRtbDpBcnJvd0Rvd24gKEFycm93RG93bikgLT4gbGludXg6MTA4IChLRVlfRE9XTikgLT4gYXRzZXQxOjU3NDI0ICovXG4gIFwiQXJyb3dMZWZ0XCI6IDB4ZTA0YiwgLyogaHRtbDpBcnJvd0xlZnQgKEFycm93TGVmdCkgLT4gbGludXg6MTA1IChLRVlfTEVGVCkgLT4gYXRzZXQxOjU3NDE5ICovXG4gIFwiQXJyb3dSaWdodFwiOiAweGUwNGQsIC8qIGh0bWw6QXJyb3dSaWdodCAoQXJyb3dSaWdodCkgLT4gbGludXg6MTA2IChLRVlfUklHSFQpIC0+IGF0c2V0MTo1NzQyMSAqL1xuICBcIkFycm93VXBcIjogMHhlMDQ4LCAvKiBodG1sOkFycm93VXAgKEFycm93VXApIC0+IGxpbnV4OjEwMyAoS0VZX1VQKSAtPiBhdHNldDE6NTc0MTYgKi9cbiAgXCJBdWRpb1ZvbHVtZURvd25cIjogMHhlMDJlLCAvKiBodG1sOkF1ZGlvVm9sdW1lRG93biAoQXVkaW9Wb2x1bWVEb3duKSAtPiBsaW51eDoxMTQgKEtFWV9WT0xVTUVET1dOKSAtPiBhdHNldDE6NTczOTAgKi9cbiAgXCJBdWRpb1ZvbHVtZU11dGVcIjogMHhlMDIwLCAvKiBodG1sOkF1ZGlvVm9sdW1lTXV0ZSAoQXVkaW9Wb2x1bWVNdXRlKSAtPiBsaW51eDoxMTMgKEtFWV9NVVRFKSAtPiBhdHNldDE6NTczNzYgKi9cbiAgXCJBdWRpb1ZvbHVtZVVwXCI6IDB4ZTAzMCwgLyogaHRtbDpBdWRpb1ZvbHVtZVVwIChBdWRpb1ZvbHVtZVVwKSAtPiBsaW51eDoxMTUgKEtFWV9WT0xVTUVVUCkgLT4gYXRzZXQxOjU3MzkyICovXG4gIFwiQmFja3F1b3RlXCI6IDB4MjksIC8qIGh0bWw6QmFja3F1b3RlIChCYWNrcXVvdGUpIC0+IGxpbnV4OjQxIChLRVlfR1JBVkUpIC0+IGF0c2V0MTo0MSAqL1xuICBcIkJhY2tzbGFzaFwiOiAweDJiLCAvKiBodG1sOkJhY2tzbGFzaCAoQmFja3NsYXNoKSAtPiBsaW51eDo0MyAoS0VZX0JBQ0tTTEFTSCkgLT4gYXRzZXQxOjQzICovXG4gIFwiQmFja3NwYWNlXCI6IDB4ZSwgLyogaHRtbDpCYWNrc3BhY2UgKEJhY2tzcGFjZSkgLT4gbGludXg6MTQgKEtFWV9CQUNLU1BBQ0UpIC0+IGF0c2V0MToxNCAqL1xuICBcIkJyYWNrZXRMZWZ0XCI6IDB4MWEsIC8qIGh0bWw6QnJhY2tldExlZnQgKEJyYWNrZXRMZWZ0KSAtPiBsaW51eDoyNiAoS0VZX0xFRlRCUkFDRSkgLT4gYXRzZXQxOjI2ICovXG4gIFwiQnJhY2tldFJpZ2h0XCI6IDB4MWIsIC8qIGh0bWw6QnJhY2tldFJpZ2h0IChCcmFja2V0UmlnaHQpIC0+IGxpbnV4OjI3IChLRVlfUklHSFRCUkFDRSkgLT4gYXRzZXQxOjI3ICovXG4gIFwiQnJvd3NlckJhY2tcIjogMHhlMDZhLCAvKiBodG1sOkJyb3dzZXJCYWNrIChCcm93c2VyQmFjaykgLT4gbGludXg6MTU4IChLRVlfQkFDSykgLT4gYXRzZXQxOjU3NDUwICovXG4gIFwiQnJvd3NlckZhdm9yaXRlc1wiOiAweGUwNjYsIC8qIGh0bWw6QnJvd3NlckZhdm9yaXRlcyAoQnJvd3NlckZhdm9yaXRlcykgLT4gbGludXg6MTU2IChLRVlfQk9PS01BUktTKSAtPiBhdHNldDE6NTc0NDYgKi9cbiAgXCJCcm93c2VyRm9yd2FyZFwiOiAweGUwNjksIC8qIGh0bWw6QnJvd3NlckZvcndhcmQgKEJyb3dzZXJGb3J3YXJkKSAtPiBsaW51eDoxNTkgKEtFWV9GT1JXQVJEKSAtPiBhdHNldDE6NTc0NDkgKi9cbiAgXCJCcm93c2VySG9tZVwiOiAweGUwMzIsIC8qIGh0bWw6QnJvd3NlckhvbWUgKEJyb3dzZXJIb21lKSAtPiBsaW51eDoxNzIgKEtFWV9IT01FUEFHRSkgLT4gYXRzZXQxOjU3Mzk0ICovXG4gIFwiQnJvd3NlclJlZnJlc2hcIjogMHhlMDY3LCAvKiBodG1sOkJyb3dzZXJSZWZyZXNoIChCcm93c2VyUmVmcmVzaCkgLT4gbGludXg6MTczIChLRVlfUkVGUkVTSCkgLT4gYXRzZXQxOjU3NDQ3ICovXG4gIFwiQnJvd3NlclNlYXJjaFwiOiAweGUwNjUsIC8qIGh0bWw6QnJvd3NlclNlYXJjaCAoQnJvd3NlclNlYXJjaCkgLT4gbGludXg6MjE3IChLRVlfU0VBUkNIKSAtPiBhdHNldDE6NTc0NDUgKi9cbiAgXCJCcm93c2VyU3RvcFwiOiAweGUwNjgsIC8qIGh0bWw6QnJvd3NlclN0b3AgKEJyb3dzZXJTdG9wKSAtPiBsaW51eDoxMjggKEtFWV9TVE9QKSAtPiBhdHNldDE6NTc0NDggKi9cbiAgXCJDYXBzTG9ja1wiOiAweDNhLCAvKiBodG1sOkNhcHNMb2NrIChDYXBzTG9jaykgLT4gbGludXg6NTggKEtFWV9DQVBTTE9DSykgLT4gYXRzZXQxOjU4ICovXG4gIFwiQ29tbWFcIjogMHgzMywgLyogaHRtbDpDb21tYSAoQ29tbWEpIC0+IGxpbnV4OjUxIChLRVlfQ09NTUEpIC0+IGF0c2V0MTo1MSAqL1xuICBcIkNvbnRleHRNZW51XCI6IDB4ZTA1ZCwgLyogaHRtbDpDb250ZXh0TWVudSAoQ29udGV4dE1lbnUpIC0+IGxpbnV4OjEyNyAoS0VZX0NPTVBPU0UpIC0+IGF0c2V0MTo1NzQzNyAqL1xuICBcIkNvbnRyb2xMZWZ0XCI6IDB4MWQsIC8qIGh0bWw6Q29udHJvbExlZnQgKENvbnRyb2xMZWZ0KSAtPiBsaW51eDoyOSAoS0VZX0xFRlRDVFJMKSAtPiBhdHNldDE6MjkgKi9cbiAgXCJDb250cm9sUmlnaHRcIjogMHhlMDFkLCAvKiBodG1sOkNvbnRyb2xSaWdodCAoQ29udHJvbFJpZ2h0KSAtPiBsaW51eDo5NyAoS0VZX1JJR0hUQ1RSTCkgLT4gYXRzZXQxOjU3MzczICovXG4gIFwiQ29udmVydFwiOiAweDc5LCAvKiBodG1sOkNvbnZlcnQgKENvbnZlcnQpIC0+IGxpbnV4OjkyIChLRVlfSEVOS0FOKSAtPiBhdHNldDE6MTIxICovXG4gIFwiQ29weVwiOiAweGUwNzgsIC8qIGh0bWw6Q29weSAoQ29weSkgLT4gbGludXg6MTMzIChLRVlfQ09QWSkgLT4gYXRzZXQxOjU3NDY0ICovXG4gIFwiQ3V0XCI6IDB4ZTAzYywgLyogaHRtbDpDdXQgKEN1dCkgLT4gbGludXg6MTM3IChLRVlfQ1VUKSAtPiBhdHNldDE6NTc0MDQgKi9cbiAgXCJEZWxldGVcIjogMHhlMDUzLCAvKiBodG1sOkRlbGV0ZSAoRGVsZXRlKSAtPiBsaW51eDoxMTEgKEtFWV9ERUxFVEUpIC0+IGF0c2V0MTo1NzQyNyAqL1xuICBcIkRpZ2l0MFwiOiAweGIsIC8qIGh0bWw6RGlnaXQwIChEaWdpdDApIC0+IGxpbnV4OjExIChLRVlfMCkgLT4gYXRzZXQxOjExICovXG4gIFwiRGlnaXQxXCI6IDB4MiwgLyogaHRtbDpEaWdpdDEgKERpZ2l0MSkgLT4gbGludXg6MiAoS0VZXzEpIC0+IGF0c2V0MToyICovXG4gIFwiRGlnaXQyXCI6IDB4MywgLyogaHRtbDpEaWdpdDIgKERpZ2l0MikgLT4gbGludXg6MyAoS0VZXzIpIC0+IGF0c2V0MTozICovXG4gIFwiRGlnaXQzXCI6IDB4NCwgLyogaHRtbDpEaWdpdDMgKERpZ2l0MykgLT4gbGludXg6NCAoS0VZXzMpIC0+IGF0c2V0MTo0ICovXG4gIFwiRGlnaXQ0XCI6IDB4NSwgLyogaHRtbDpEaWdpdDQgKERpZ2l0NCkgLT4gbGludXg6NSAoS0VZXzQpIC0+IGF0c2V0MTo1ICovXG4gIFwiRGlnaXQ1XCI6IDB4NiwgLyogaHRtbDpEaWdpdDUgKERpZ2l0NSkgLT4gbGludXg6NiAoS0VZXzUpIC0+IGF0c2V0MTo2ICovXG4gIFwiRGlnaXQ2XCI6IDB4NywgLyogaHRtbDpEaWdpdDYgKERpZ2l0NikgLT4gbGludXg6NyAoS0VZXzYpIC0+IGF0c2V0MTo3ICovXG4gIFwiRGlnaXQ3XCI6IDB4OCwgLyogaHRtbDpEaWdpdDcgKERpZ2l0NykgLT4gbGludXg6OCAoS0VZXzcpIC0+IGF0c2V0MTo4ICovXG4gIFwiRGlnaXQ4XCI6IDB4OSwgLyogaHRtbDpEaWdpdDggKERpZ2l0OCkgLT4gbGludXg6OSAoS0VZXzgpIC0+IGF0c2V0MTo5ICovXG4gIFwiRGlnaXQ5XCI6IDB4YSwgLyogaHRtbDpEaWdpdDkgKERpZ2l0OSkgLT4gbGludXg6MTAgKEtFWV85KSAtPiBhdHNldDE6MTAgKi9cbiAgXCJFamVjdFwiOiAweGUwN2QsIC8qIGh0bWw6RWplY3QgKEVqZWN0KSAtPiBsaW51eDoxNjIgKEtFWV9FSkVDVENMT1NFQ0QpIC0+IGF0c2V0MTo1NzQ2OSAqL1xuICBcIkVuZFwiOiAweGUwNGYsIC8qIGh0bWw6RW5kIChFbmQpIC0+IGxpbnV4OjEwNyAoS0VZX0VORCkgLT4gYXRzZXQxOjU3NDIzICovXG4gIFwiRW50ZXJcIjogMHgxYywgLyogaHRtbDpFbnRlciAoRW50ZXIpIC0+IGxpbnV4OjI4IChLRVlfRU5URVIpIC0+IGF0c2V0MToyOCAqL1xuICBcIkVxdWFsXCI6IDB4ZCwgLyogaHRtbDpFcXVhbCAoRXF1YWwpIC0+IGxpbnV4OjEzIChLRVlfRVFVQUwpIC0+IGF0c2V0MToxMyAqL1xuICBcIkVzY2FwZVwiOiAweDEsIC8qIGh0bWw6RXNjYXBlIChFc2NhcGUpIC0+IGxpbnV4OjEgKEtFWV9FU0MpIC0+IGF0c2V0MToxICovXG4gIFwiRjFcIjogMHgzYiwgLyogaHRtbDpGMSAoRjEpIC0+IGxpbnV4OjU5IChLRVlfRjEpIC0+IGF0c2V0MTo1OSAqL1xuICBcIkYxMFwiOiAweDQ0LCAvKiBodG1sOkYxMCAoRjEwKSAtPiBsaW51eDo2OCAoS0VZX0YxMCkgLT4gYXRzZXQxOjY4ICovXG4gIFwiRjExXCI6IDB4NTcsIC8qIGh0bWw6RjExIChGMTEpIC0+IGxpbnV4Ojg3IChLRVlfRjExKSAtPiBhdHNldDE6ODcgKi9cbiAgXCJGMTJcIjogMHg1OCwgLyogaHRtbDpGMTIgKEYxMikgLT4gbGludXg6ODggKEtFWV9GMTIpIC0+IGF0c2V0MTo4OCAqL1xuICBcIkYxM1wiOiAweDVkLCAvKiBodG1sOkYxMyAoRjEzKSAtPiBsaW51eDoxODMgKEtFWV9GMTMpIC0+IGF0c2V0MTo5MyAqL1xuICBcIkYxNFwiOiAweDVlLCAvKiBodG1sOkYxNCAoRjE0KSAtPiBsaW51eDoxODQgKEtFWV9GMTQpIC0+IGF0c2V0MTo5NCAqL1xuICBcIkYxNVwiOiAweDVmLCAvKiBodG1sOkYxNSAoRjE1KSAtPiBsaW51eDoxODUgKEtFWV9GMTUpIC0+IGF0c2V0MTo5NSAqL1xuICBcIkYxNlwiOiAweDU1LCAvKiBodG1sOkYxNiAoRjE2KSAtPiBsaW51eDoxODYgKEtFWV9GMTYpIC0+IGF0c2V0MTo4NSAqL1xuICBcIkYxN1wiOiAweGUwMDMsIC8qIGh0bWw6RjE3IChGMTcpIC0+IGxpbnV4OjE4NyAoS0VZX0YxNykgLT4gYXRzZXQxOjU3MzQ3ICovXG4gIFwiRjE4XCI6IDB4ZTA3NywgLyogaHRtbDpGMTggKEYxOCkgLT4gbGludXg6MTg4IChLRVlfRjE4KSAtPiBhdHNldDE6NTc0NjMgKi9cbiAgXCJGMTlcIjogMHhlMDA0LCAvKiBodG1sOkYxOSAoRjE5KSAtPiBsaW51eDoxODkgKEtFWV9GMTkpIC0+IGF0c2V0MTo1NzM0OCAqL1xuICBcIkYyXCI6IDB4M2MsIC8qIGh0bWw6RjIgKEYyKSAtPiBsaW51eDo2MCAoS0VZX0YyKSAtPiBhdHNldDE6NjAgKi9cbiAgXCJGMjBcIjogMHg1YSwgLyogaHRtbDpGMjAgKEYyMCkgLT4gbGludXg6MTkwIChLRVlfRjIwKSAtPiBhdHNldDE6OTAgKi9cbiAgXCJGMjFcIjogMHg3NCwgLyogaHRtbDpGMjEgKEYyMSkgLT4gbGludXg6MTkxIChLRVlfRjIxKSAtPiBhdHNldDE6MTE2ICovXG4gIFwiRjIyXCI6IDB4ZTA3OSwgLyogaHRtbDpGMjIgKEYyMikgLT4gbGludXg6MTkyIChLRVlfRjIyKSAtPiBhdHNldDE6NTc0NjUgKi9cbiAgXCJGMjNcIjogMHg2ZCwgLyogaHRtbDpGMjMgKEYyMykgLT4gbGludXg6MTkzIChLRVlfRjIzKSAtPiBhdHNldDE6MTA5ICovXG4gIFwiRjI0XCI6IDB4NmYsIC8qIGh0bWw6RjI0IChGMjQpIC0+IGxpbnV4OjE5NCAoS0VZX0YyNCkgLT4gYXRzZXQxOjExMSAqL1xuICBcIkYzXCI6IDB4M2QsIC8qIGh0bWw6RjMgKEYzKSAtPiBsaW51eDo2MSAoS0VZX0YzKSAtPiBhdHNldDE6NjEgKi9cbiAgXCJGNFwiOiAweDNlLCAvKiBodG1sOkY0IChGNCkgLT4gbGludXg6NjIgKEtFWV9GNCkgLT4gYXRzZXQxOjYyICovXG4gIFwiRjVcIjogMHgzZiwgLyogaHRtbDpGNSAoRjUpIC0+IGxpbnV4OjYzIChLRVlfRjUpIC0+IGF0c2V0MTo2MyAqL1xuICBcIkY2XCI6IDB4NDAsIC8qIGh0bWw6RjYgKEY2KSAtPiBsaW51eDo2NCAoS0VZX0Y2KSAtPiBhdHNldDE6NjQgKi9cbiAgXCJGN1wiOiAweDQxLCAvKiBodG1sOkY3IChGNykgLT4gbGludXg6NjUgKEtFWV9GNykgLT4gYXRzZXQxOjY1ICovXG4gIFwiRjhcIjogMHg0MiwgLyogaHRtbDpGOCAoRjgpIC0+IGxpbnV4OjY2IChLRVlfRjgpIC0+IGF0c2V0MTo2NiAqL1xuICBcIkY5XCI6IDB4NDMsIC8qIGh0bWw6RjkgKEY5KSAtPiBsaW51eDo2NyAoS0VZX0Y5KSAtPiBhdHNldDE6NjcgKi9cbiAgXCJGaW5kXCI6IDB4ZTA0MSwgLyogaHRtbDpGaW5kIChGaW5kKSAtPiBsaW51eDoxMzYgKEtFWV9GSU5EKSAtPiBhdHNldDE6NTc0MDkgKi9cbiAgXCJIZWxwXCI6IDB4ZTA3NSwgLyogaHRtbDpIZWxwIChIZWxwKSAtPiBsaW51eDoxMzggKEtFWV9IRUxQKSAtPiBhdHNldDE6NTc0NjEgKi9cbiAgXCJIaXJhZ2FuYVwiOiAweDc3LCAvKiBodG1sOkhpcmFnYW5hIChMYW5nNCkgLT4gbGludXg6OTEgKEtFWV9ISVJBR0FOQSkgLT4gYXRzZXQxOjExOSAqL1xuICBcIkhvbWVcIjogMHhlMDQ3LCAvKiBodG1sOkhvbWUgKEhvbWUpIC0+IGxpbnV4OjEwMiAoS0VZX0hPTUUpIC0+IGF0c2V0MTo1NzQxNSAqL1xuICBcIkluc2VydFwiOiAweGUwNTIsIC8qIGh0bWw6SW5zZXJ0IChJbnNlcnQpIC0+IGxpbnV4OjExMCAoS0VZX0lOU0VSVCkgLT4gYXRzZXQxOjU3NDI2ICovXG4gIFwiSW50bEJhY2tzbGFzaFwiOiAweDU2LCAvKiBodG1sOkludGxCYWNrc2xhc2ggKEludGxCYWNrc2xhc2gpIC0+IGxpbnV4Ojg2IChLRVlfMTAyTkQpIC0+IGF0c2V0MTo4NiAqL1xuICBcIkludGxSb1wiOiAweDczLCAvKiBodG1sOkludGxSbyAoSW50bFJvKSAtPiBsaW51eDo4OSAoS0VZX1JPKSAtPiBhdHNldDE6MTE1ICovXG4gIFwiSW50bFllblwiOiAweDdkLCAvKiBodG1sOkludGxZZW4gKEludGxZZW4pIC0+IGxpbnV4OjEyNCAoS0VZX1lFTikgLT4gYXRzZXQxOjEyNSAqL1xuICBcIkthbmFNb2RlXCI6IDB4NzAsIC8qIGh0bWw6S2FuYU1vZGUgKEthbmFNb2RlKSAtPiBsaW51eDo5MyAoS0VZX0tBVEFLQU5BSElSQUdBTkEpIC0+IGF0c2V0MToxMTIgKi9cbiAgXCJLYXRha2FuYVwiOiAweDc4LCAvKiBodG1sOkthdGFrYW5hIChMYW5nMykgLT4gbGludXg6OTAgKEtFWV9LQVRBS0FOQSkgLT4gYXRzZXQxOjEyMCAqL1xuICBcIktleUFcIjogMHgxZSwgLyogaHRtbDpLZXlBIChLZXlBKSAtPiBsaW51eDozMCAoS0VZX0EpIC0+IGF0c2V0MTozMCAqL1xuICBcIktleUJcIjogMHgzMCwgLyogaHRtbDpLZXlCIChLZXlCKSAtPiBsaW51eDo0OCAoS0VZX0IpIC0+IGF0c2V0MTo0OCAqL1xuICBcIktleUNcIjogMHgyZSwgLyogaHRtbDpLZXlDIChLZXlDKSAtPiBsaW51eDo0NiAoS0VZX0MpIC0+IGF0c2V0MTo0NiAqL1xuICBcIktleURcIjogMHgyMCwgLyogaHRtbDpLZXlEIChLZXlEKSAtPiBsaW51eDozMiAoS0VZX0QpIC0+IGF0c2V0MTozMiAqL1xuICBcIktleUVcIjogMHgxMiwgLyogaHRtbDpLZXlFIChLZXlFKSAtPiBsaW51eDoxOCAoS0VZX0UpIC0+IGF0c2V0MToxOCAqL1xuICBcIktleUZcIjogMHgyMSwgLyogaHRtbDpLZXlGIChLZXlGKSAtPiBsaW51eDozMyAoS0VZX0YpIC0+IGF0c2V0MTozMyAqL1xuICBcIktleUdcIjogMHgyMiwgLyogaHRtbDpLZXlHIChLZXlHKSAtPiBsaW51eDozNCAoS0VZX0cpIC0+IGF0c2V0MTozNCAqL1xuICBcIktleUhcIjogMHgyMywgLyogaHRtbDpLZXlIIChLZXlIKSAtPiBsaW51eDozNSAoS0VZX0gpIC0+IGF0c2V0MTozNSAqL1xuICBcIktleUlcIjogMHgxNywgLyogaHRtbDpLZXlJIChLZXlJKSAtPiBsaW51eDoyMyAoS0VZX0kpIC0+IGF0c2V0MToyMyAqL1xuICBcIktleUpcIjogMHgyNCwgLyogaHRtbDpLZXlKIChLZXlKKSAtPiBsaW51eDozNiAoS0VZX0opIC0+IGF0c2V0MTozNiAqL1xuICBcIktleUtcIjogMHgyNSwgLyogaHRtbDpLZXlLIChLZXlLKSAtPiBsaW51eDozNyAoS0VZX0spIC0+IGF0c2V0MTozNyAqL1xuICBcIktleUxcIjogMHgyNiwgLyogaHRtbDpLZXlMIChLZXlMKSAtPiBsaW51eDozOCAoS0VZX0wpIC0+IGF0c2V0MTozOCAqL1xuICBcIktleU1cIjogMHgzMiwgLyogaHRtbDpLZXlNIChLZXlNKSAtPiBsaW51eDo1MCAoS0VZX00pIC0+IGF0c2V0MTo1MCAqL1xuICBcIktleU5cIjogMHgzMSwgLyogaHRtbDpLZXlOIChLZXlOKSAtPiBsaW51eDo0OSAoS0VZX04pIC0+IGF0c2V0MTo0OSAqL1xuICBcIktleU9cIjogMHgxOCwgLyogaHRtbDpLZXlPIChLZXlPKSAtPiBsaW51eDoyNCAoS0VZX08pIC0+IGF0c2V0MToyNCAqL1xuICBcIktleVBcIjogMHgxOSwgLyogaHRtbDpLZXlQIChLZXlQKSAtPiBsaW51eDoyNSAoS0VZX1ApIC0+IGF0c2V0MToyNSAqL1xuICBcIktleVFcIjogMHgxMCwgLyogaHRtbDpLZXlRIChLZXlRKSAtPiBsaW51eDoxNiAoS0VZX1EpIC0+IGF0c2V0MToxNiAqL1xuICBcIktleVJcIjogMHgxMywgLyogaHRtbDpLZXlSIChLZXlSKSAtPiBsaW51eDoxOSAoS0VZX1IpIC0+IGF0c2V0MToxOSAqL1xuICBcIktleVNcIjogMHgxZiwgLyogaHRtbDpLZXlTIChLZXlTKSAtPiBsaW51eDozMSAoS0VZX1MpIC0+IGF0c2V0MTozMSAqL1xuICBcIktleVRcIjogMHgxNCwgLyogaHRtbDpLZXlUIChLZXlUKSAtPiBsaW51eDoyMCAoS0VZX1QpIC0+IGF0c2V0MToyMCAqL1xuICBcIktleVVcIjogMHgxNiwgLyogaHRtbDpLZXlVIChLZXlVKSAtPiBsaW51eDoyMiAoS0VZX1UpIC0+IGF0c2V0MToyMiAqL1xuICBcIktleVZcIjogMHgyZiwgLyogaHRtbDpLZXlWIChLZXlWKSAtPiBsaW51eDo0NyAoS0VZX1YpIC0+IGF0c2V0MTo0NyAqL1xuICBcIktleVdcIjogMHgxMSwgLyogaHRtbDpLZXlXIChLZXlXKSAtPiBsaW51eDoxNyAoS0VZX1cpIC0+IGF0c2V0MToxNyAqL1xuICBcIktleVhcIjogMHgyZCwgLyogaHRtbDpLZXlYIChLZXlYKSAtPiBsaW51eDo0NSAoS0VZX1gpIC0+IGF0c2V0MTo0NSAqL1xuICBcIktleVlcIjogMHgxNSwgLyogaHRtbDpLZXlZIChLZXlZKSAtPiBsaW51eDoyMSAoS0VZX1kpIC0+IGF0c2V0MToyMSAqL1xuICBcIktleVpcIjogMHgyYywgLyogaHRtbDpLZXlaIChLZXlaKSAtPiBsaW51eDo0NCAoS0VZX1opIC0+IGF0c2V0MTo0NCAqL1xuICBcIkxhbmczXCI6IDB4NzgsIC8qIGh0bWw6TGFuZzMgKExhbmczKSAtPiBsaW51eDo5MCAoS0VZX0tBVEFLQU5BKSAtPiBhdHNldDE6MTIwICovXG4gIFwiTGFuZzRcIjogMHg3NywgLyogaHRtbDpMYW5nNCAoTGFuZzQpIC0+IGxpbnV4OjkxIChLRVlfSElSQUdBTkEpIC0+IGF0c2V0MToxMTkgKi9cbiAgXCJMYW5nNVwiOiAweDc2LCAvKiBodG1sOkxhbmc1IChMYW5nNSkgLT4gbGludXg6ODUgKEtFWV9aRU5LQUtVSEFOS0FLVSkgLT4gYXRzZXQxOjExOCAqL1xuICBcIkxhdW5jaEFwcDFcIjogMHhlMDZiLCAvKiBodG1sOkxhdW5jaEFwcDEgKExhdW5jaEFwcDEpIC0+IGxpbnV4OjE1NyAoS0VZX0NPTVBVVEVSKSAtPiBhdHNldDE6NTc0NTEgKi9cbiAgXCJMYXVuY2hBcHAyXCI6IDB4ZTAyMSwgLyogaHRtbDpMYXVuY2hBcHAyIChMYXVuY2hBcHAyKSAtPiBsaW51eDoxNDAgKEtFWV9DQUxDKSAtPiBhdHNldDE6NTczNzcgKi9cbiAgXCJMYXVuY2hNYWlsXCI6IDB4ZTA2YywgLyogaHRtbDpMYXVuY2hNYWlsIChMYXVuY2hNYWlsKSAtPiBsaW51eDoxNTUgKEtFWV9NQUlMKSAtPiBhdHNldDE6NTc0NTIgKi9cbiAgXCJNZWRpYVBsYXlQYXVzZVwiOiAweGUwMjIsIC8qIGh0bWw6TWVkaWFQbGF5UGF1c2UgKE1lZGlhUGxheVBhdXNlKSAtPiBsaW51eDoxNjQgKEtFWV9QTEFZUEFVU0UpIC0+IGF0c2V0MTo1NzM3OCAqL1xuICBcIk1lZGlhU2VsZWN0XCI6IDB4ZTA2ZCwgLyogaHRtbDpNZWRpYVNlbGVjdCAoTWVkaWFTZWxlY3QpIC0+IGxpbnV4OjIyNiAoS0VZX01FRElBKSAtPiBhdHNldDE6NTc0NTMgKi9cbiAgXCJNZWRpYVN0b3BcIjogMHhlMDI0LCAvKiBodG1sOk1lZGlhU3RvcCAoTWVkaWFTdG9wKSAtPiBsaW51eDoxNjYgKEtFWV9TVE9QQ0QpIC0+IGF0c2V0MTo1NzM4MCAqL1xuICBcIk1lZGlhVHJhY2tOZXh0XCI6IDB4ZTAxOSwgLyogaHRtbDpNZWRpYVRyYWNrTmV4dCAoTWVkaWFUcmFja05leHQpIC0+IGxpbnV4OjE2MyAoS0VZX05FWFRTT05HKSAtPiBhdHNldDE6NTczNjkgKi9cbiAgXCJNZWRpYVRyYWNrUHJldmlvdXNcIjogMHhlMDEwLCAvKiBodG1sOk1lZGlhVHJhY2tQcmV2aW91cyAoTWVkaWFUcmFja1ByZXZpb3VzKSAtPiBsaW51eDoxNjUgKEtFWV9QUkVWSU9VU1NPTkcpIC0+IGF0c2V0MTo1NzM2MCAqL1xuICBcIk1ldGFMZWZ0XCI6IDB4ZTA1YiwgLyogaHRtbDpNZXRhTGVmdCAoTWV0YUxlZnQpIC0+IGxpbnV4OjEyNSAoS0VZX0xFRlRNRVRBKSAtPiBhdHNldDE6NTc0MzUgKi9cbiAgXCJNZXRhUmlnaHRcIjogMHhlMDVjLCAvKiBodG1sOk1ldGFSaWdodCAoTWV0YVJpZ2h0KSAtPiBsaW51eDoxMjYgKEtFWV9SSUdIVE1FVEEpIC0+IGF0c2V0MTo1NzQzNiAqL1xuICBcIk1pbnVzXCI6IDB4YywgLyogaHRtbDpNaW51cyAoTWludXMpIC0+IGxpbnV4OjEyIChLRVlfTUlOVVMpIC0+IGF0c2V0MToxMiAqL1xuICBcIk5vbkNvbnZlcnRcIjogMHg3YiwgLyogaHRtbDpOb25Db252ZXJ0IChOb25Db252ZXJ0KSAtPiBsaW51eDo5NCAoS0VZX01VSEVOS0FOKSAtPiBhdHNldDE6MTIzICovXG4gIFwiTnVtTG9ja1wiOiAweDQ1LCAvKiBodG1sOk51bUxvY2sgKE51bUxvY2spIC0+IGxpbnV4OjY5IChLRVlfTlVNTE9DSykgLT4gYXRzZXQxOjY5ICovXG4gIFwiTnVtcGFkMFwiOiAweDUyLCAvKiBodG1sOk51bXBhZDAgKE51bXBhZDApIC0+IGxpbnV4OjgyIChLRVlfS1AwKSAtPiBhdHNldDE6ODIgKi9cbiAgXCJOdW1wYWQxXCI6IDB4NGYsIC8qIGh0bWw6TnVtcGFkMSAoTnVtcGFkMSkgLT4gbGludXg6NzkgKEtFWV9LUDEpIC0+IGF0c2V0MTo3OSAqL1xuICBcIk51bXBhZDJcIjogMHg1MCwgLyogaHRtbDpOdW1wYWQyIChOdW1wYWQyKSAtPiBsaW51eDo4MCAoS0VZX0tQMikgLT4gYXRzZXQxOjgwICovXG4gIFwiTnVtcGFkM1wiOiAweDUxLCAvKiBodG1sOk51bXBhZDMgKE51bXBhZDMpIC0+IGxpbnV4OjgxIChLRVlfS1AzKSAtPiBhdHNldDE6ODEgKi9cbiAgXCJOdW1wYWQ0XCI6IDB4NGIsIC8qIGh0bWw6TnVtcGFkNCAoTnVtcGFkNCkgLT4gbGludXg6NzUgKEtFWV9LUDQpIC0+IGF0c2V0MTo3NSAqL1xuICBcIk51bXBhZDVcIjogMHg0YywgLyogaHRtbDpOdW1wYWQ1IChOdW1wYWQ1KSAtPiBsaW51eDo3NiAoS0VZX0tQNSkgLT4gYXRzZXQxOjc2ICovXG4gIFwiTnVtcGFkNlwiOiAweDRkLCAvKiBodG1sOk51bXBhZDYgKE51bXBhZDYpIC0+IGxpbnV4Ojc3IChLRVlfS1A2KSAtPiBhdHNldDE6NzcgKi9cbiAgXCJOdW1wYWQ3XCI6IDB4NDcsIC8qIGh0bWw6TnVtcGFkNyAoTnVtcGFkNykgLT4gbGludXg6NzEgKEtFWV9LUDcpIC0+IGF0c2V0MTo3MSAqL1xuICBcIk51bXBhZDhcIjogMHg0OCwgLyogaHRtbDpOdW1wYWQ4IChOdW1wYWQ4KSAtPiBsaW51eDo3MiAoS0VZX0tQOCkgLT4gYXRzZXQxOjcyICovXG4gIFwiTnVtcGFkOVwiOiAweDQ5LCAvKiBodG1sOk51bXBhZDkgKE51bXBhZDkpIC0+IGxpbnV4OjczIChLRVlfS1A5KSAtPiBhdHNldDE6NzMgKi9cbiAgXCJOdW1wYWRBZGRcIjogMHg0ZSwgLyogaHRtbDpOdW1wYWRBZGQgKE51bXBhZEFkZCkgLT4gbGludXg6NzggKEtFWV9LUFBMVVMpIC0+IGF0c2V0MTo3OCAqL1xuICBcIk51bXBhZENvbW1hXCI6IDB4N2UsIC8qIGh0bWw6TnVtcGFkQ29tbWEgKE51bXBhZENvbW1hKSAtPiBsaW51eDoxMjEgKEtFWV9LUENPTU1BKSAtPiBhdHNldDE6MTI2ICovXG4gIFwiTnVtcGFkRGVjaW1hbFwiOiAweDUzLCAvKiBodG1sOk51bXBhZERlY2ltYWwgKE51bXBhZERlY2ltYWwpIC0+IGxpbnV4OjgzIChLRVlfS1BET1QpIC0+IGF0c2V0MTo4MyAqL1xuICBcIk51bXBhZERpdmlkZVwiOiAweGUwMzUsIC8qIGh0bWw6TnVtcGFkRGl2aWRlIChOdW1wYWREaXZpZGUpIC0+IGxpbnV4Ojk4IChLRVlfS1BTTEFTSCkgLT4gYXRzZXQxOjU3Mzk3ICovXG4gIFwiTnVtcGFkRW50ZXJcIjogMHhlMDFjLCAvKiBodG1sOk51bXBhZEVudGVyIChOdW1wYWRFbnRlcikgLT4gbGludXg6OTYgKEtFWV9LUEVOVEVSKSAtPiBhdHNldDE6NTczNzIgKi9cbiAgXCJOdW1wYWRFcXVhbFwiOiAweDU5LCAvKiBodG1sOk51bXBhZEVxdWFsIChOdW1wYWRFcXVhbCkgLT4gbGludXg6MTE3IChLRVlfS1BFUVVBTCkgLT4gYXRzZXQxOjg5ICovXG4gIFwiTnVtcGFkTXVsdGlwbHlcIjogMHgzNywgLyogaHRtbDpOdW1wYWRNdWx0aXBseSAoTnVtcGFkTXVsdGlwbHkpIC0+IGxpbnV4OjU1IChLRVlfS1BBU1RFUklTSykgLT4gYXRzZXQxOjU1ICovXG4gIFwiTnVtcGFkUGFyZW5MZWZ0XCI6IDB4ZTA3NiwgLyogaHRtbDpOdW1wYWRQYXJlbkxlZnQgKE51bXBhZFBhcmVuTGVmdCkgLT4gbGludXg6MTc5IChLRVlfS1BMRUZUUEFSRU4pIC0+IGF0c2V0MTo1NzQ2MiAqL1xuICBcIk51bXBhZFBhcmVuUmlnaHRcIjogMHhlMDdiLCAvKiBodG1sOk51bXBhZFBhcmVuUmlnaHQgKE51bXBhZFBhcmVuUmlnaHQpIC0+IGxpbnV4OjE4MCAoS0VZX0tQUklHSFRQQVJFTikgLT4gYXRzZXQxOjU3NDY3ICovXG4gIFwiTnVtcGFkU3VidHJhY3RcIjogMHg0YSwgLyogaHRtbDpOdW1wYWRTdWJ0cmFjdCAoTnVtcGFkU3VidHJhY3QpIC0+IGxpbnV4Ojc0IChLRVlfS1BNSU5VUykgLT4gYXRzZXQxOjc0ICovXG4gIFwiT3BlblwiOiAweDY0LCAvKiBodG1sOk9wZW4gKE9wZW4pIC0+IGxpbnV4OjEzNCAoS0VZX09QRU4pIC0+IGF0c2V0MToxMDAgKi9cbiAgXCJQYWdlRG93blwiOiAweGUwNTEsIC8qIGh0bWw6UGFnZURvd24gKFBhZ2VEb3duKSAtPiBsaW51eDoxMDkgKEtFWV9QQUdFRE9XTikgLT4gYXRzZXQxOjU3NDI1ICovXG4gIFwiUGFnZVVwXCI6IDB4ZTA0OSwgLyogaHRtbDpQYWdlVXAgKFBhZ2VVcCkgLT4gbGludXg6MTA0IChLRVlfUEFHRVVQKSAtPiBhdHNldDE6NTc0MTcgKi9cbiAgXCJQYXN0ZVwiOiAweDY1LCAvKiBodG1sOlBhc3RlIChQYXN0ZSkgLT4gbGludXg6MTM1IChLRVlfUEFTVEUpIC0+IGF0c2V0MToxMDEgKi9cbiAgXCJQYXVzZVwiOiAweGUwNDYsIC8qIGh0bWw6UGF1c2UgKFBhdXNlKSAtPiBsaW51eDoxMTkgKEtFWV9QQVVTRSkgLT4gYXRzZXQxOjU3NDE0ICovXG4gIFwiUGVyaW9kXCI6IDB4MzQsIC8qIGh0bWw6UGVyaW9kIChQZXJpb2QpIC0+IGxpbnV4OjUyIChLRVlfRE9UKSAtPiBhdHNldDE6NTIgKi9cbiAgXCJQb3dlclwiOiAweGUwNWUsIC8qIGh0bWw6UG93ZXIgKFBvd2VyKSAtPiBsaW51eDoxMTYgKEtFWV9QT1dFUikgLT4gYXRzZXQxOjU3NDM4ICovXG4gIFwiUHJpbnRTY3JlZW5cIjogMHg1NCwgLyogaHRtbDpQcmludFNjcmVlbiAoUHJpbnRTY3JlZW4pIC0+IGxpbnV4Ojk5IChLRVlfU1lTUlEpIC0+IGF0c2V0MTo4NCAqL1xuICBcIlByb3BzXCI6IDB4ZTAwNiwgLyogaHRtbDpQcm9wcyAoUHJvcHMpIC0+IGxpbnV4OjEzMCAoS0VZX1BST1BTKSAtPiBhdHNldDE6NTczNTAgKi9cbiAgXCJRdW90ZVwiOiAweDI4LCAvKiBodG1sOlF1b3RlIChRdW90ZSkgLT4gbGludXg6NDAgKEtFWV9BUE9TVFJPUEhFKSAtPiBhdHNldDE6NDAgKi9cbiAgXCJTY3JvbGxMb2NrXCI6IDB4NDYsIC8qIGh0bWw6U2Nyb2xsTG9jayAoU2Nyb2xsTG9jaykgLT4gbGludXg6NzAgKEtFWV9TQ1JPTExMT0NLKSAtPiBhdHNldDE6NzAgKi9cbiAgXCJTZW1pY29sb25cIjogMHgyNywgLyogaHRtbDpTZW1pY29sb24gKFNlbWljb2xvbikgLT4gbGludXg6MzkgKEtFWV9TRU1JQ09MT04pIC0+IGF0c2V0MTozOSAqL1xuICBcIlNoaWZ0TGVmdFwiOiAweDJhLCAvKiBodG1sOlNoaWZ0TGVmdCAoU2hpZnRMZWZ0KSAtPiBsaW51eDo0MiAoS0VZX0xFRlRTSElGVCkgLT4gYXRzZXQxOjQyICovXG4gIFwiU2hpZnRSaWdodFwiOiAweDM2LCAvKiBodG1sOlNoaWZ0UmlnaHQgKFNoaWZ0UmlnaHQpIC0+IGxpbnV4OjU0IChLRVlfUklHSFRTSElGVCkgLT4gYXRzZXQxOjU0ICovXG4gIFwiU2xhc2hcIjogMHgzNSwgLyogaHRtbDpTbGFzaCAoU2xhc2gpIC0+IGxpbnV4OjUzIChLRVlfU0xBU0gpIC0+IGF0c2V0MTo1MyAqL1xuICBcIlNsZWVwXCI6IDB4ZTA1ZiwgLyogaHRtbDpTbGVlcCAoU2xlZXApIC0+IGxpbnV4OjE0MiAoS0VZX1NMRUVQKSAtPiBhdHNldDE6NTc0MzkgKi9cbiAgXCJTcGFjZVwiOiAweDM5LCAvKiBodG1sOlNwYWNlIChTcGFjZSkgLT4gbGludXg6NTcgKEtFWV9TUEFDRSkgLT4gYXRzZXQxOjU3ICovXG4gIFwiU3VzcGVuZFwiOiAweGUwMjUsIC8qIGh0bWw6U3VzcGVuZCAoU3VzcGVuZCkgLT4gbGludXg6MjA1IChLRVlfU1VTUEVORCkgLT4gYXRzZXQxOjU3MzgxICovXG4gIFwiVGFiXCI6IDB4ZiwgLyogaHRtbDpUYWIgKFRhYikgLT4gbGludXg6MTUgKEtFWV9UQUIpIC0+IGF0c2V0MToxNSAqL1xuICBcIlVuZG9cIjogMHhlMDA3LCAvKiBodG1sOlVuZG8gKFVuZG8pIC0+IGxpbnV4OjEzMSAoS0VZX1VORE8pIC0+IGF0c2V0MTo1NzM1MSAqL1xuICBcIldha2VVcFwiOiAweGUwNjMsIC8qIGh0bWw6V2FrZVVwIChXYWtlVXApIC0+IGxpbnV4OjE0MyAoS0VZX1dBS0VVUCkgLT4gYXRzZXQxOjU3NDQzICovXG59O1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTIgSm9lbCBNYXJ0aW5cbiAqIENvcHlyaWdodCAoQykgMjAxNyBTYW11ZWwgTWFubmVoZWQgZm9yIENlbmRpbyBBQlxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKlxuICogVElHSFQgZGVjb2RlciBwb3J0aW9uOlxuICogKGMpIDIwMTIgTWljaGFlbCBUaW5nbG9mLCBKb2UgQmFsYXosIExlcyBQaWVjaCAoTWVyY3VyaS5jYSlcbiAqL1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi91dGlsL2xvZ2dpbmcuanMnO1xuaW1wb3J0IHsgZGVjb2RlVVRGOCB9IGZyb20gJy4vdXRpbC9zdHJpbmdzLmpzJztcbmltcG9ydCB7IHN1cHBvcnRzQ3Vyc29yVVJJcywgaXNUb3VjaERldmljZSB9IGZyb20gJy4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCBFdmVudFRhcmdldE1peGluIGZyb20gJy4vdXRpbC9ldmVudHRhcmdldC5qcyc7XG5pbXBvcnQgRGlzcGxheSBmcm9tIFwiLi9kaXNwbGF5LmpzXCI7XG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSBcIi4vaW5wdXQva2V5Ym9hcmQuanNcIjtcbmltcG9ydCBNb3VzZSBmcm9tIFwiLi9pbnB1dC9tb3VzZS5qc1wiO1xuaW1wb3J0IFdlYnNvY2sgZnJvbSBcIi4vd2Vic29jay5qc1wiO1xuaW1wb3J0IERFUyBmcm9tIFwiLi9kZXMuanNcIjtcbmltcG9ydCBLZXlUYWJsZSBmcm9tIFwiLi9pbnB1dC9rZXlzeW0uanNcIjtcbmltcG9ydCBYdFNjYW5jb2RlIGZyb20gXCIuL2lucHV0L3h0c2NhbmNvZGVzLmpzXCI7XG5pbXBvcnQgSW5mbGF0b3IgZnJvbSBcIi4vaW5mbGF0b3IuanNcIjtcbmltcG9ydCB7IGVuY29kaW5ncywgZW5jb2RpbmdOYW1lIH0gZnJvbSBcIi4vZW5jb2RpbmdzLmpzXCI7XG5pbXBvcnQgXCIuL3V0aWwvcG9seWZpbGwuanNcIjtcblxuLypqc2xpbnQgd2hpdGU6IGZhbHNlLCBicm93c2VyOiB0cnVlICovXG4vKmdsb2JhbCB3aW5kb3csIFV0aWwsIERpc3BsYXksIEtleWJvYXJkLCBNb3VzZSwgV2Vic29jaywgV2Vic29ja19uYXRpdmUsIEJhc2U2NCwgREVTLCBLZXlUYWJsZSwgSW5mbGF0b3IsIFh0U2NhbmNvZGUgKi9cblxuLy8gSG93IG1hbnkgc2Vjb25kcyB0byB3YWl0IGZvciBhIGRpc2Nvbm5lY3QgdG8gZmluaXNoXG52YXIgRElTQ09OTkVDVF9USU1FT1VUID0gMztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUkZCKHRhcmdldCwgdXJsLCBvcHRpb25zKSB7XG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJNdXN0IHNwZWNpZnkgdGFyZ2V0XCIpO1xuICAgIH1cbiAgICBpZiAoIXVybCkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIk11c3Qgc3BlY2lmeSBVUkxcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMuX3VybCA9IHVybDtcblxuICAgIC8vIENvbm5lY3Rpb24gZGV0YWlsc1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMuX3JmYl9jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwge307XG4gICAgdGhpcy5fc2hhcmVkID0gJ3NoYXJlZCcgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5zaGFyZWQgOiB0cnVlO1xuICAgIHRoaXMuX3JlcGVhdGVySUQgPSBvcHRpb25zLnJlcGVhdGVySUQgfHwgJyc7XG5cbiAgICAvLyBJbnRlcm5hbCBzdGF0ZVxuICAgIHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlID0gJyc7XG4gICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnJztcbiAgICB0aGlzLl9yZmJfYXV0aF9zY2hlbWUgPSAnJztcbiAgICB0aGlzLl9yZmJfY2xlYW5fZGlzY29ubmVjdCA9IHRydWU7XG5cbiAgICAvLyBTZXJ2ZXIgY2FwYWJpbGl0aWVzXG4gICAgdGhpcy5fcmZiX3ZlcnNpb24gPSAwO1xuICAgIHRoaXMuX3JmYl9tYXhfdmVyc2lvbiA9IDMuODtcbiAgICB0aGlzLl9yZmJfdGlnaHR2bmMgPSBmYWxzZTtcbiAgICB0aGlzLl9yZmJfeHZwX3ZlciA9IDA7XG5cbiAgICB0aGlzLl9mYl93aWR0aCA9IDA7XG4gICAgdGhpcy5fZmJfaGVpZ2h0ID0gMDtcblxuICAgIHRoaXMuX2ZiX25hbWUgPSBcIlwiO1xuXG4gICAgdGhpcy5fY2FwYWJpbGl0aWVzID0geyBwb3dlcjogZmFsc2UgfTtcblxuICAgIHRoaXMuX3N1cHBvcnRzRmVuY2UgPSBmYWxzZTtcblxuICAgIHRoaXMuX3N1cHBvcnRzQ29udGludW91c1VwZGF0ZXMgPSBmYWxzZTtcbiAgICB0aGlzLl9lbmFibGVkQ29udGludW91c1VwZGF0ZXMgPSBmYWxzZTtcblxuICAgIHRoaXMuX3N1cHBvcnRzU2V0RGVza3RvcFNpemUgPSBmYWxzZTtcbiAgICB0aGlzLl9zY3JlZW5faWQgPSAwO1xuICAgIHRoaXMuX3NjcmVlbl9mbGFncyA9IDA7XG5cbiAgICB0aGlzLl9xZW11RXh0S2V5RXZlbnRTdXBwb3J0ZWQgPSBmYWxzZTtcblxuICAgIC8vIEludGVybmFsIG9iamVjdHNcbiAgICB0aGlzLl9zb2NrID0gbnVsbDsgICAgICAgICAgICAgIC8vIFdlYnNvY2sgb2JqZWN0XG4gICAgdGhpcy5fZGlzcGxheSA9IG51bGw7ICAgICAgICAgICAvLyBEaXNwbGF5IG9iamVjdFxuICAgIHRoaXMuX2ZsdXNoaW5nID0gZmFsc2U7ICAgICAgICAgLy8gRGlzcGxheSBmbHVzaGluZyBzdGF0ZVxuICAgIHRoaXMuX2tleWJvYXJkID0gbnVsbDsgICAgICAgICAgLy8gS2V5Ym9hcmQgaW5wdXQgaGFuZGxlciBvYmplY3RcbiAgICB0aGlzLl9tb3VzZSA9IG51bGw7ICAgICAgICAgICAgIC8vIE1vdXNlIGlucHV0IGhhbmRsZXIgb2JqZWN0XG5cbiAgICAvLyBUaW1lcnNcbiAgICB0aGlzLl9kaXNjb25uVGltZXIgPSBudWxsOyAgICAgIC8vIGRpc2Nvbm5lY3Rpb24gdGltZXJcbiAgICB0aGlzLl9yZXNpemVUaW1lb3V0ID0gbnVsbDsgICAgIC8vIHJlc2l6ZSByYXRlIGxpbWl0aW5nXG5cbiAgICAvLyBEZWNvZGVyIHN0YXRlcyBhbmQgc3RhdHNcbiAgICB0aGlzLl9lbmNIYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuX2VuY1N0YXRzID0ge307XG5cbiAgICB0aGlzLl9GQlUgPSB7XG4gICAgICAgIHJlY3RzOiAwLFxuICAgICAgICBzdWJyZWN0czogMCwgICAgICAgICAgICAvLyBSUkUgYW5kIEhFWFRJTEVcbiAgICAgICAgbGluZXM6IDAsICAgICAgICAgICAgICAgLy8gUkFXXG4gICAgICAgIHRpbGVzOiAwLCAgICAgICAgICAgICAgIC8vIEhFWFRJTEVcbiAgICAgICAgYnl0ZXM6IDAsXG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgIGVuY29kaW5nOiAwLFxuICAgICAgICBzdWJlbmNvZGluZzogLTEsXG4gICAgICAgIGJhY2tncm91bmQ6IG51bGwsXG4gICAgICAgIHpsaWJzOiBbXSAgICAgICAgICAgICAgIC8vIFRJR0hUIHpsaWIgc3RyZWFtc1xuICAgIH07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgdGhpcy5fRkJVLnpsaWJzW2ldID0gbmV3IEluZmxhdG9yKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZGVzdEJ1ZmYgPSBudWxsO1xuICAgIHRoaXMuX3BhbGV0dGVCdWZmID0gbmV3IFVpbnQ4QXJyYXkoMTAyNCk7ICAvLyAyNTYgKiA0IChtYXggcGFsZXR0ZSBzaXplICogbWF4IGJ5dGVzLXBlci1waXhlbClcblxuICAgIHRoaXMuX3JyZV9jaHVua19zeiA9IDEwMDtcblxuICAgIHRoaXMuX3RpbWluZyA9IHtcbiAgICAgICAgbGFzdF9mYnU6IDAsXG4gICAgICAgIGZidV90b3RhbDogMCxcbiAgICAgICAgZmJ1X3RvdGFsX2NudDogMCxcbiAgICAgICAgZnVsbF9mYnVfdG90YWw6IDAsXG4gICAgICAgIGZ1bGxfZmJ1X2NudDogMCxcblxuICAgICAgICBmYnVfcnRfc3RhcnQ6IDAsXG4gICAgICAgIGZidV9ydF90b3RhbDogMCxcbiAgICAgICAgZmJ1X3J0X2NudDogMCxcbiAgICAgICAgcGl4ZWxzOiAwXG4gICAgfTtcblxuICAgIC8vIE1vdXNlIHN0YXRlXG4gICAgdGhpcy5fbW91c2VfYnV0dG9uTWFzayA9IDA7XG4gICAgdGhpcy5fbW91c2VfYXJyID0gW107XG4gICAgdGhpcy5fdmlld3BvcnREcmFnZ2luZyA9IGZhbHNlO1xuICAgIHRoaXMuX3ZpZXdwb3J0RHJhZ1BvcyA9IHt9O1xuICAgIHRoaXMuX3ZpZXdwb3J0SGFzTW92ZWQgPSBmYWxzZTtcblxuICAgIC8vIEJvdW5kIGV2ZW50IGhhbmRsZXJzXG4gICAgdGhpcy5fZXZlbnRIYW5kbGVycyA9IHtcbiAgICAgICAgZm9jdXNDYW52YXM6IHRoaXMuX2ZvY3VzQ2FudmFzLmJpbmQodGhpcyksXG4gICAgICAgIHdpbmRvd1Jlc2l6ZTogdGhpcy5fd2luZG93UmVzaXplLmJpbmQodGhpcyksXG4gICAgfTtcblxuICAgIC8vIG1haW4gc2V0dXBcbiAgICBMb2cuRGVidWcoXCI+PiBSRkIuY29uc3RydWN0b3JcIik7XG5cbiAgICAvLyBDcmVhdGUgRE9NIGVsZW1lbnRzXG4gICAgdGhpcy5fc2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fc2NyZWVuLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5fc2NyZWVuLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuX3NjcmVlbi5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5fc2NyZWVuLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xuICAgIHRoaXMuX3NjcmVlbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDQwLCA0MCwgNDApJztcbiAgICB0aGlzLl9jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB0aGlzLl9jYW52YXMuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xuICAgIC8vIFNvbWUgYnJvd3NlcnMgYWRkIGFuIG91dGxpbmUgb24gZm9jdXNcbiAgICB0aGlzLl9jYW52YXMuc3R5bGUub3V0bGluZSA9ICdub25lJztcbiAgICAvLyBJRSBtaXNjYWxjdWxhdGVzIHdpZHRoIHdpdGhvdXQgdGhpcyA6KFxuICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5mbGV4U2hyaW5rID0gJzAnO1xuICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IDA7XG4gICAgdGhpcy5fY2FudmFzLmhlaWdodCA9IDA7XG4gICAgdGhpcy5fY2FudmFzLnRhYkluZGV4ID0gLTE7XG4gICAgdGhpcy5fc2NyZWVuLmFwcGVuZENoaWxkKHRoaXMuX2NhbnZhcyk7XG5cbiAgICAvLyBwb3B1bGF0ZSBlbmNIYW5kbGVycyB3aXRoIGJvdW5kIHZlcnNpb25zXG4gICAgdGhpcy5fZW5jSGFuZGxlcnNbZW5jb2RpbmdzLmVuY29kaW5nUmF3XSA9IFJGQi5lbmNvZGluZ0hhbmRsZXJzLlJBVy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2VuY0hhbmRsZXJzW2VuY29kaW5ncy5lbmNvZGluZ0NvcHlSZWN0XSA9IFJGQi5lbmNvZGluZ0hhbmRsZXJzLkNPUFlSRUNULmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZW5jSGFuZGxlcnNbZW5jb2RpbmdzLmVuY29kaW5nUlJFXSA9IFJGQi5lbmNvZGluZ0hhbmRsZXJzLlJSRS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2VuY0hhbmRsZXJzW2VuY29kaW5ncy5lbmNvZGluZ0hleHRpbGVdID0gUkZCLmVuY29kaW5nSGFuZGxlcnMuSEVYVElMRS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2VuY0hhbmRsZXJzW2VuY29kaW5ncy5lbmNvZGluZ1RpZ2h0XSA9IFJGQi5lbmNvZGluZ0hhbmRsZXJzLlRJR0hULmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9lbmNIYW5kbGVyc1tlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdEZXNrdG9wU2l6ZV0gPSBSRkIuZW5jb2RpbmdIYW5kbGVycy5EZXNrdG9wU2l6ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2VuY0hhbmRsZXJzW2VuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0xhc3RSZWN0XSA9IFJGQi5lbmNvZGluZ0hhbmRsZXJzLmxhc3RfcmVjdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2VuY0hhbmRsZXJzW2VuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0N1cnNvcl0gPSBSRkIuZW5jb2RpbmdIYW5kbGVycy5DdXJzb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9lbmNIYW5kbGVyc1tlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdRRU1VRXh0ZW5kZWRLZXlFdmVudF0gPSBSRkIuZW5jb2RpbmdIYW5kbGVycy5RRU1VRXh0ZW5kZWRLZXlFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2VuY0hhbmRsZXJzW2VuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0V4dGVuZGVkRGVza3RvcFNpemVdID0gUkZCLmVuY29kaW5nSGFuZGxlcnMuRXh0ZW5kZWREZXNrdG9wU2l6ZS5iaW5kKHRoaXMpO1xuXG4gICAgLy8gTkI6IG5vdGhpbmcgdGhhdCBuZWVkcyBleHBsaWNpdCB0ZWFyZG93biBzaG91bGQgYmUgZG9uZVxuICAgIC8vIGJlZm9yZSB0aGlzIHBvaW50LCBzaW5jZSB0aGlzIGNhbiB0aHJvdyBhbiBleGNlcHRpb25cbiAgICB0cnkge1xuICAgICAgICB0aGlzLl9kaXNwbGF5ID0gbmV3IERpc3BsYXkodGhpcy5fY2FudmFzKTtcbiAgICB9IGNhdGNoIChleGMpIHtcbiAgICAgICAgTG9nLkVycm9yKFwiRGlzcGxheSBleGNlcHRpb246IFwiICsgZXhjKTtcbiAgICAgICAgdGhyb3cgZXhjO1xuICAgIH1cbiAgICB0aGlzLl9kaXNwbGF5Lm9uZmx1c2ggPSB0aGlzLl9vbkZsdXNoLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZGlzcGxheS5jbGVhcigpO1xuXG4gICAgdGhpcy5fa2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmQodGhpcy5fY2FudmFzKTtcbiAgICB0aGlzLl9rZXlib2FyZC5vbmtleWV2ZW50ID0gdGhpcy5faGFuZGxlS2V5RXZlbnQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX21vdXNlID0gbmV3IE1vdXNlKHRoaXMuX2NhbnZhcyk7XG4gICAgdGhpcy5fbW91c2Uub25tb3VzZWJ1dHRvbiA9IHRoaXMuX2hhbmRsZU1vdXNlQnV0dG9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fbW91c2Uub25tb3VzZW1vdmUgPSB0aGlzLl9oYW5kbGVNb3VzZU1vdmUuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX3NvY2sgPSBuZXcgV2Vic29jaygpO1xuICAgIHRoaXMuX3NvY2sub24oJ21lc3NhZ2UnLCB0aGlzLl9oYW5kbGVfbWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9zb2NrLm9uKCdvcGVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlID09PSAnY29ubmVjdGluZycpICYmXG4gICAgICAgICAgICAodGhpcy5fcmZiX2luaXRfc3RhdGUgPT09ICcnKSkge1xuICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnUHJvdG9jb2xWZXJzaW9uJztcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIlN0YXJ0aW5nIFZOQyBoYW5kc2hha2VcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9mYWlsKFwiVW5leHBlY3RlZCBzZXJ2ZXIgY29ubmVjdGlvbiB3aGlsZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlKTtcbiAgICAgICAgfVxuICAgIH0uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5fc29jay5vbignY2xvc2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBMb2cuRGVidWcoXCJXZWJTb2NrZXQgb24tY2xvc2UgZXZlbnRcIik7XG4gICAgICAgIHZhciBtc2cgPSBcIlwiO1xuICAgICAgICBpZiAoZS5jb2RlKSB7XG4gICAgICAgICAgICBtc2cgPSBcIihjb2RlOiBcIiArIGUuY29kZTtcbiAgICAgICAgICAgIGlmIChlLnJlYXNvbikge1xuICAgICAgICAgICAgICAgIG1zZyArPSBcIiwgcmVhc29uOiBcIiArIGUucmVhc29uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbXNnICs9IFwiKVwiO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RpbmcnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJDb25uZWN0aW9uIGNsb3NlZCBcIiArIG1zZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBkaXNjb25uZWN0cyB0aGF0IHdlcmUgaW5pdGlhdGVkIHNlcnZlci1zaWRlXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCdkaXNjb25uZWN0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCdkaXNjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RpbmcnOlxuICAgICAgICAgICAgICAgIC8vIE5vcm1hbCBkaXNjb25uZWN0aW9uIHBhdGhcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiVW5leHBlY3RlZCBzZXJ2ZXIgZGlzY29ubmVjdCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcIndoZW4gYWxyZWFkeSBkaXNjb25uZWN0ZWQgXCIgKyBtc2cpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiVW5leHBlY3RlZCBzZXJ2ZXIgZGlzY29ubmVjdCBiZWZvcmUgY29ubmVjdGluZyBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NvY2sub2ZmKCdjbG9zZScpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5fc29jay5vbignZXJyb3InLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBMb2cuV2FybihcIldlYlNvY2tldCBvbi1lcnJvciBldmVudFwiKTtcbiAgICB9KTtcblxuICAgIC8vIFNsaWdodCBkZWxheSBvZiB0aGUgYWN0dWFsIGNvbm5lY3Rpb24gc28gdGhhdCB0aGUgY2FsbGVyIGhhc1xuICAgIC8vIHRpbWUgdG8gc2V0IHVwIGNhbGxiYWNrc1xuICAgIHNldFRpbWVvdXQodGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlLmJpbmQodGhpcywgJ2Nvbm5lY3RpbmcnKSk7XG5cbiAgICBMb2cuRGVidWcoXCI8PCBSRkIuY29uc3RydWN0b3JcIik7XG59O1xuXG5SRkIucHJvdG90eXBlID0ge1xuICAgIC8vID09PT09IFBST1BFUlRJRVMgPT09PT1cblxuICAgIGRyYWdWaWV3cG9ydDogZmFsc2UsXG4gICAgZm9jdXNPbkNsaWNrOiB0cnVlLFxuXG4gICAgX3ZpZXdPbmx5OiBmYWxzZSxcbiAgICBnZXQgdmlld09ubHkoKSB7IHJldHVybiB0aGlzLl92aWV3T25seTsgfSxcbiAgICBzZXQgdmlld09ubHkodmlld09ubHkpIHtcbiAgICAgICAgdGhpcy5fdmlld09ubHkgPSB2aWV3T25seTtcblxuICAgICAgICBpZiAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgPT09IFwiY29ubmVjdGluZ1wiIHx8XG4gICAgICAgICAgICB0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSA9PT0gXCJjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgaWYgKHZpZXdPbmx5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fa2V5Ym9hcmQudW5ncmFiKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW91c2UudW5ncmFiKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2tleWJvYXJkLmdyYWIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3VzZS5ncmFiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0IGNhcGFiaWxpdGllcygpIHsgcmV0dXJuIHRoaXMuX2NhcGFiaWxpdGllczsgfSxcblxuICAgIGdldCB0b3VjaEJ1dHRvbigpIHsgcmV0dXJuIHRoaXMuX21vdXNlLnRvdWNoQnV0dG9uOyB9LFxuICAgIHNldCB0b3VjaEJ1dHRvbihidXR0b24pIHsgdGhpcy5fbW91c2UudG91Y2hCdXR0b24gPSBidXR0b247IH0sXG5cbiAgICBfY2xpcFZpZXdwb3J0OiBmYWxzZSxcbiAgICBnZXQgY2xpcFZpZXdwb3J0KCkgeyByZXR1cm4gdGhpcy5fY2xpcFZpZXdwb3J0OyB9LFxuICAgIHNldCBjbGlwVmlld3BvcnQodmlld3BvcnQpIHtcbiAgICAgICAgdGhpcy5fY2xpcFZpZXdwb3J0ID0gdmlld3BvcnQ7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsaXAoKTtcbiAgICB9LFxuXG4gICAgX3NjYWxlVmlld3BvcnQ6IGZhbHNlLFxuICAgIGdldCBzY2FsZVZpZXdwb3J0KCkgeyByZXR1cm4gdGhpcy5fc2NhbGVWaWV3cG9ydDsgfSxcbiAgICBzZXQgc2NhbGVWaWV3cG9ydChzY2FsZSkge1xuICAgICAgICB0aGlzLl9zY2FsZVZpZXdwb3J0ID0gc2NhbGU7XG4gICAgICAgIC8vIFNjYWxpbmcgdHJ1bXBzIGNsaXBwaW5nLCBzbyB3ZSBtYXkgbmVlZCB0byBhZGp1c3RcbiAgICAgICAgLy8gY2xpcHBpbmcgd2hlbiBlbmFibGluZyBvciBkaXNhYmxpbmcgc2NhbGluZ1xuICAgICAgICBpZiAoc2NhbGUgJiYgdGhpcy5fY2xpcFZpZXdwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDbGlwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlU2NhbGUoKTtcbiAgICAgICAgaWYgKCFzY2FsZSAmJiB0aGlzLl9jbGlwVmlld3BvcnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNsaXAoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfcmVzaXplU2Vzc2lvbjogZmFsc2UsXG4gICAgZ2V0IHJlc2l6ZVNlc3Npb24oKSB7IHJldHVybiB0aGlzLl9yZXNpemVTZXNzaW9uOyB9LFxuICAgIHNldCByZXNpemVTZXNzaW9uKHJlc2l6ZSkge1xuICAgICAgICB0aGlzLl9yZXNpemVTZXNzaW9uID0gcmVzaXplO1xuICAgICAgICBpZiAocmVzaXplKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0UmVtb3RlUmVzaXplKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gPT09PT0gUFVCTElDIE1FVEhPRFMgPT09PT1cblxuICAgIGRpc2Nvbm5lY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCdkaXNjb25uZWN0aW5nJyk7XG4gICAgICAgIHRoaXMuX3NvY2sub2ZmKCdlcnJvcicpO1xuICAgICAgICB0aGlzLl9zb2NrLm9mZignbWVzc2FnZScpO1xuICAgICAgICB0aGlzLl9zb2NrLm9mZignb3BlbicpO1xuICAgIH0sXG5cbiAgICBzZW5kQ3JlZGVudGlhbHM6IGZ1bmN0aW9uIChjcmVkcykge1xuICAgICAgICB0aGlzLl9yZmJfY3JlZGVudGlhbHMgPSBjcmVkcztcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLl9pbml0X21zZy5iaW5kKHRoaXMpLCAwKTtcbiAgICB9LFxuXG4gICAgc2VuZEN0cmxBbHREZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlICE9PSAnY29ubmVjdGVkJyB8fCB0aGlzLl92aWV3T25seSkgeyByZXR1cm47IH1cbiAgICAgICAgTG9nLkluZm8oXCJTZW5kaW5nIEN0cmwtQWx0LURlbFwiKTtcblxuICAgICAgICB0aGlzLnNlbmRLZXkoS2V5VGFibGUuWEtfQ29udHJvbF9MLCBcIkNvbnRyb2xMZWZ0XCIsIHRydWUpO1xuICAgICAgICB0aGlzLnNlbmRLZXkoS2V5VGFibGUuWEtfQWx0X0wsIFwiQWx0TGVmdFwiLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zZW5kS2V5KEtleVRhYmxlLlhLX0RlbGV0ZSwgXCJEZWxldGVcIiwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc2VuZEtleShLZXlUYWJsZS5YS19EZWxldGUsIFwiRGVsZXRlXCIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZW5kS2V5KEtleVRhYmxlLlhLX0FsdF9MLCBcIkFsdExlZnRcIiwgZmFsc2UpO1xuICAgICAgICB0aGlzLnNlbmRLZXkoS2V5VGFibGUuWEtfQ29udHJvbF9MLCBcIkNvbnRyb2xMZWZ0XCIsIGZhbHNlKTtcbiAgICB9LFxuXG4gICAgbWFjaGluZVNodXRkb3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3h2cE9wKDEsIDIpO1xuICAgIH0sXG5cbiAgICBtYWNoaW5lUmVib290OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3h2cE9wKDEsIDMpO1xuICAgIH0sXG5cbiAgICBtYWNoaW5lUmVzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5feHZwT3AoMSwgNCk7XG4gICAgfSxcblxuICAgIC8vIFNlbmQgYSBrZXkgcHJlc3MuIElmICdkb3duJyBpcyBub3Qgc3BlY2lmaWVkIHRoZW4gc2VuZCBhIGRvd24ga2V5XG4gICAgLy8gZm9sbG93ZWQgYnkgYW4gdXAga2V5LlxuICAgIHNlbmRLZXk6IGZ1bmN0aW9uIChrZXlzeW0sIGNvZGUsIGRvd24pIHtcbiAgICAgICAgaWYgKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlICE9PSAnY29ubmVjdGVkJyB8fCB0aGlzLl92aWV3T25seSkgeyByZXR1cm47IH1cblxuICAgICAgICBpZiAoZG93biA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRLZXkoa2V5c3ltLCBjb2RlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZEtleShrZXlzeW0sIGNvZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY2FuY29kZSA9IFh0U2NhbmNvZGVbY29kZV07XG5cbiAgICAgICAgaWYgKHRoaXMuX3FlbXVFeHRLZXlFdmVudFN1cHBvcnRlZCAmJiBzY2FuY29kZSkge1xuICAgICAgICAgICAgLy8gMCBpcyBOb1N5bWJvbFxuICAgICAgICAgICAga2V5c3ltID0ga2V5c3ltIHx8IDA7XG5cbiAgICAgICAgICAgIExvZy5JbmZvKFwiU2VuZGluZyBrZXkgKFwiICsgKGRvd24gPyBcImRvd25cIiA6IFwidXBcIikgKyBcIik6IGtleXN5bSBcIiArIGtleXN5bSArIFwiLCBzY2FuY29kZSBcIiArIHNjYW5jb2RlKTtcblxuICAgICAgICAgICAgUkZCLm1lc3NhZ2VzLlFFTVVFeHRlbmRlZEtleUV2ZW50KHRoaXMuX3NvY2ssIGtleXN5bSwgZG93biwgc2NhbmNvZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFrZXlzeW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBMb2cuSW5mbyhcIlNlbmRpbmcga2V5c3ltIChcIiArIChkb3duID8gXCJkb3duXCIgOiBcInVwXCIpICsgXCIpOiBcIiArIGtleXN5bSk7XG4gICAgICAgICAgICBSRkIubWVzc2FnZXMua2V5RXZlbnQodGhpcy5fc29jaywga2V5c3ltLCBkb3duID8gMSA6IDApO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGZvY3VzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5mb2N1cygpO1xuICAgIH0sXG5cbiAgICBibHVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5ibHVyKCk7XG4gICAgfSxcblxuICAgIGNsaXBib2FyZFBhc3RlRnJvbTogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlICE9PSAnY29ubmVjdGVkJyB8fCB0aGlzLl92aWV3T25seSkgeyByZXR1cm47IH1cbiAgICAgICAgUkZCLm1lc3NhZ2VzLmNsaWVudEN1dFRleHQodGhpcy5fc29jaywgdGV4dCk7XG4gICAgfSxcblxuICAgIC8vID09PT09IFBSSVZBVEUgTUVUSE9EUyA9PT09PVxuXG4gICAgX2Nvbm5lY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTG9nLkRlYnVnKFwiPj4gUkZCLmNvbm5lY3RcIik7XG5cbiAgICAgICAgTG9nLkluZm8oXCJjb25uZWN0aW5nIHRvIFwiICsgdGhpcy5fdXJsKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2ViU29ja2V0Lm9ub3BlbiB0cmFuc2l0aW9ucyB0byB0aGUgUkZCIGluaXQgc3RhdGVzXG4gICAgICAgICAgICB0aGlzLl9zb2NrLm9wZW4odGhpcy5fdXJsLCBbJ2JpbmFyeSddKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUubmFtZSA9PT0gJ1N5bnRheEVycm9yJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJJbnZhbGlkIGhvc3Qgb3IgcG9ydCAoXCIgKyBlICsgXCIpXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiRXJyb3Igd2hlbiBvcGVuaW5nIHNvY2tldCAoXCIgKyBlICsgXCIpXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSBvdXIgZWxlbWVudHMgcGFydCBvZiB0aGUgcGFnZVxuICAgICAgICB0aGlzLl90YXJnZXQuYXBwZW5kQ2hpbGQodGhpcy5fc2NyZWVuKTtcblxuICAgICAgICAvLyBNb25pdG9yIHNpemUgY2hhbmdlcyBvZiB0aGUgc2NyZWVuXG4gICAgICAgIC8vIEZJWE1FOiBVc2UgUmVzaXplT2JzZXJ2ZXIsIG9yIGhpZGRlbiBvdmVyZmxvd1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fZXZlbnRIYW5kbGVycy53aW5kb3dSZXNpemUpO1xuXG4gICAgICAgIC8vIEFsd2F5cyBncmFiIGZvY3VzIG9uIHNvbWUga2luZCBvZiBjbGljayBldmVudFxuICAgICAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9ldmVudEhhbmRsZXJzLmZvY3VzQ2FudmFzKTtcbiAgICAgICAgdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuX2V2ZW50SGFuZGxlcnMuZm9jdXNDYW52YXMpO1xuXG4gICAgICAgIExvZy5EZWJ1ZyhcIjw8IFJGQi5jb25uZWN0XCIpO1xuICAgIH0sXG5cbiAgICBfZGlzY29ubmVjdDogZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2cuRGVidWcoXCI+PiBSRkIuZGlzY29ubmVjdFwiKTtcbiAgICAgICAgdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5fZXZlbnRIYW5kbGVycy5mb2N1c0NhbnZhcyk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLl9ldmVudEhhbmRsZXJzLmZvY3VzQ2FudmFzKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2V2ZW50SGFuZGxlcnMud2luZG93UmVzaXplKTtcbiAgICAgICAgdGhpcy5fa2V5Ym9hcmQudW5ncmFiKCk7XG4gICAgICAgIHRoaXMuX21vdXNlLnVuZ3JhYigpO1xuICAgICAgICB0aGlzLl9zb2NrLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX3ByaW50X3N0YXRzKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQucmVtb3ZlQ2hpbGQodGhpcy5fc2NyZWVuKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUubmFtZSA9PT0gJ05vdEZvdW5kRXJyb3InKSB7XG4gICAgICAgICAgICAgICAgLy8gU29tZSBjYXNlcyB3aGVyZSB0aGUgaW5pdGlhbCBjb25uZWN0aW9uIGZhaWxzXG4gICAgICAgICAgICAgICAgLy8gY2FuIGRpc2Nvbm5lY3QgYmVmb3JlIHRoZSBfc2NyZWVuIGlzIGNyZWF0ZWRcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplVGltZW91dCk7XG4gICAgICAgIExvZy5EZWJ1ZyhcIjw8IFJGQi5kaXNjb25uZWN0XCIpO1xuICAgIH0sXG5cbiAgICBfcHJpbnRfc3RhdHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRzID0gdGhpcy5fZW5jU3RhdHM7XG5cbiAgICAgICAgTG9nLkluZm8oXCJFbmNvZGluZyBzdGF0cyBmb3IgdGhpcyBjb25uZWN0aW9uOlwiKTtcbiAgICAgICAgT2JqZWN0LmtleXMoc3RhdHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIHMgPSBzdGF0c1trZXldO1xuICAgICAgICAgICAgaWYgKHNbMF0gKyBzWzFdID4gMCkge1xuICAgICAgICAgICAgICAgIExvZy5JbmZvKFwiICAgIFwiICsgZW5jb2RpbmdOYW1lKGtleSkgKyBcIjogXCIgKyBzWzBdICsgXCIgcmVjdHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIExvZy5JbmZvKFwiRW5jb2Rpbmcgc3RhdHMgc2luY2UgcGFnZSBsb2FkOlwiKTtcbiAgICAgICAgT2JqZWN0LmtleXMoc3RhdHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIHMgPSBzdGF0c1trZXldO1xuICAgICAgICAgICAgTG9nLkluZm8oXCIgICAgXCIgKyBlbmNvZGluZ05hbWUoa2V5KSArIFwiOiBcIiArIHNbMV0gKyBcIiByZWN0c1wiKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9mb2N1c0NhbnZhczogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgLy8gUmVzcGVjdCBlYXJsaWVyIGhhbmRsZXJzJyByZXF1ZXN0IHRvIG5vdCBkbyBzaWRlLWVmZmVjdHNcbiAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5mb2N1c09uQ2xpY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICB9LFxuXG4gICAgX3dpbmRvd1Jlc2l6ZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIElmIHRoZSB3aW5kb3cgcmVzaXplZCB0aGVuIG91ciBzY3JlZW4gZWxlbWVudCBtaWdodCBoYXZlXG4gICAgICAgIC8vIGFzIHdlbGwuIFVwZGF0ZSB0aGUgdmlld3BvcnQgZGltZW5zaW9ucy5cbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDbGlwKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTY2FsZSgpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgIGlmICh0aGlzLl9yZXNpemVTZXNzaW9uKSB7XG4gICAgICAgICAgICAvLyBSZXF1ZXN0IGNoYW5naW5nIHRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW1vdGUgZGlzcGxheSB0b1xuICAgICAgICAgICAgLy8gdGhlIHNpemUgb2YgdGhlIGxvY2FsIGJyb3dzZXIgdmlld3BvcnQuXG5cbiAgICAgICAgICAgIC8vIEluIG9yZGVyIHRvIG5vdCBzZW5kIG11bHRpcGxlIHJlcXVlc3RzIGJlZm9yZSB0aGUgYnJvd3Nlci1yZXNpemVcbiAgICAgICAgICAgIC8vIGlzIGZpbmlzaGVkIHdlIHdhaXQgMC41IHNlY29uZHMgYmVmb3JlIHNlbmRpbmcgdGhlIHJlcXVlc3QuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplVGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLl9yZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLl9yZXF1ZXN0UmVtb3RlUmVzaXplLmJpbmQodGhpcyksIDUwMCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gVXBkYXRlIHN0YXRlIG9mIGNsaXBwaW5nIGluIERpc3BsYXkgb2JqZWN0LCBhbmQgbWFrZSBzdXJlIHRoZVxuICAgIC8vIGNvbmZpZ3VyZWQgdmlld3BvcnQgbWF0Y2hlcyB0aGUgY3VycmVudCBzY3JlZW4gc2l6ZVxuICAgIF91cGRhdGVDbGlwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJfY2xpcCA9IHRoaXMuX2Rpc3BsYXkuY2xpcFZpZXdwb3J0O1xuICAgICAgICB2YXIgbmV3X2NsaXAgPSB0aGlzLl9jbGlwVmlld3BvcnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NjYWxlVmlld3BvcnQpIHtcbiAgICAgICAgICAgIC8vIERpc2FibGUgdmlld3BvcnQgY2xpcHBpbmcgaWYgd2UgYXJlIHNjYWxpbmdcbiAgICAgICAgICAgIG5ld19jbGlwID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VyX2NsaXAgIT09IG5ld19jbGlwKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmNsaXBWaWV3cG9ydCA9IG5ld19jbGlwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld19jbGlwKSB7XG4gICAgICAgICAgICAvLyBXaGVuIGNsaXBwaW5nIGlzIGVuYWJsZWQsIHRoZSBzY3JlZW4gaXMgbGltaXRlZCB0b1xuICAgICAgICAgICAgLy8gdGhlIHNpemUgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgICAgICAgIGxldCBzaXplID0gdGhpcy5fc2NyZWVuU2l6ZSgpO1xuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS52aWV3cG9ydENoYW5nZVNpemUoc2l6ZS53LCBzaXplLmgpO1xuICAgICAgICAgICAgdGhpcy5fZml4U2Nyb2xsYmFycygpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF91cGRhdGVTY2FsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3NjYWxlVmlld3BvcnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuc2NhbGUgPSAxLjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc2l6ZSA9IHRoaXMuX3NjcmVlblNpemUoKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYXV0b3NjYWxlKHNpemUudywgc2l6ZS5oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9maXhTY3JvbGxiYXJzKCk7XG4gICAgfSxcblxuICAgIC8vIFJlcXVlc3RzIGEgY2hhbmdlIG9mIHJlbW90ZSBkZXNrdG9wIHNpemUuIFRoaXMgbWVzc2FnZSBpcyBhbiBleHRlbnNpb25cbiAgICAvLyBhbmQgbWF5IG9ubHkgYmUgc2VudCBpZiB3ZSBoYXZlIHJlY2VpdmVkIGFuIEV4dGVuZGVkRGVza3RvcFNpemUgbWVzc2FnZVxuICAgIF9yZXF1ZXN0UmVtb3RlUmVzaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZXNpemVUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5fcmVzaXplVGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9yZXNpemVTZXNzaW9uIHx8IHRoaXMuX3ZpZXdPbmx5IHx8XG4gICAgICAgICAgICAhdGhpcy5fc3VwcG9ydHNTZXREZXNrdG9wU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLl9zY3JlZW5TaXplKCk7XG4gICAgICAgIFJGQi5tZXNzYWdlcy5zZXREZXNrdG9wU2l6ZSh0aGlzLl9zb2NrLCBzaXplLncsIHNpemUuaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NjcmVlbl9pZCwgdGhpcy5fc2NyZWVuX2ZsYWdzKTtcblxuICAgICAgICBMb2cuRGVidWcoJ1JlcXVlc3RlZCBuZXcgZGVza3RvcCBzaXplOiAnICtcbiAgICAgICAgICAgICAgICAgICBzaXplLncgKyAneCcgKyBzaXplLmgpO1xuICAgIH0sXG5cbiAgICAvLyBHZXRzIHRoZSB0aGUgc2l6ZSBvZiB0aGUgYXZhaWxhYmxlIHNjcmVlblxuICAgIF9zY3JlZW5TaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7IHc6IHRoaXMuX3NjcmVlbi5vZmZzZXRXaWR0aCxcbiAgICAgICAgICAgICAgICAgaDogdGhpcy5fc2NyZWVuLm9mZnNldEhlaWdodCB9O1xuICAgIH0sXG5cbiAgICBfZml4U2Nyb2xsYmFyczogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUaGlzIGlzIGEgaGFjayBiZWNhdXNlIENocm9tZSBzY3Jld3MgdXAgdGhlIGNhbGN1bGF0aW9uXG4gICAgICAgIC8vIGZvciB3aGVuIHNjcm9sbGJhcnMgYXJlIG5lZWRlZC4gU28gdG8gZml4IGl0IHdlIHRlbXBvcmFyaWx5XG4gICAgICAgIC8vIHRvZ2dsZSB0aGVtIG9mZiBhbmQgb24uXG4gICAgICAgIHZhciBvcmlnID0gdGhpcy5fc2NyZWVuLnN0eWxlLm92ZXJmbG93O1xuICAgICAgICB0aGlzLl9zY3JlZW4uc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgLy8gRm9yY2UgQ2hyb21lIHRvIHJlY2FsY3VsYXRlIHRoZSBsYXlvdXQgYnkgYXNraW5nIGZvclxuICAgICAgICAvLyBhbiBlbGVtZW50J3MgZGltZW5zaW9uc1xuICAgICAgICB0aGlzLl9zY3JlZW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuX3NjcmVlbi5zdHlsZS5vdmVyZmxvdyA9IG9yaWc7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogQ29ubmVjdGlvbiBzdGF0ZXM6XG4gICAgICogICBjb25uZWN0aW5nXG4gICAgICogICBjb25uZWN0ZWRcbiAgICAgKiAgIGRpc2Nvbm5lY3RpbmdcbiAgICAgKiAgIGRpc2Nvbm5lY3RlZCAtIHBlcm1hbmVudCBzdGF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVDb25uZWN0aW9uU3RhdGU6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgb2xkc3RhdGUgPSB0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZTtcblxuICAgICAgICBpZiAoc3RhdGUgPT09IG9sZHN0YXRlKSB7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCJBbHJlYWR5IGluIHN0YXRlICdcIiArIHN0YXRlICsgXCInLCBpZ25vcmluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSAnZGlzY29ubmVjdGVkJyBzdGF0ZSBpcyBwZXJtYW5lbnQgZm9yIGVhY2ggUkZCIG9iamVjdFxuICAgICAgICBpZiAob2xkc3RhdGUgPT09ICdkaXNjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICBMb2cuRXJyb3IoXCJUcmllZCBjaGFuZ2luZyBzdGF0ZSBvZiBhIGRpc2Nvbm5lY3RlZCBSRkIgb2JqZWN0XCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW5zdXJlIHByb3BlciB0cmFuc2l0aW9ucyBiZWZvcmUgZG9pbmcgYW55dGhpbmdcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICBpZiAob2xkc3RhdGUgIT09ICdjb25uZWN0aW5nJykge1xuICAgICAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJCYWQgdHJhbnNpdGlvbiB0byBjb25uZWN0ZWQgc3RhdGUsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByZXZpb3VzIGNvbm5lY3Rpb24gc3RhdGU6IFwiICsgb2xkc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIGlmIChvbGRzdGF0ZSAhPT0gJ2Rpc2Nvbm5lY3RpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkJhZCB0cmFuc2l0aW9uIHRvIGRpc2Nvbm5lY3RlZCBzdGF0ZSwgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJldmlvdXMgY29ubmVjdGlvbiBzdGF0ZTogXCIgKyBvbGRzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RpbmcnOlxuICAgICAgICAgICAgICAgIGlmIChvbGRzdGF0ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiQmFkIHRyYW5zaXRpb24gdG8gY29ubmVjdGluZyBzdGF0ZSwgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJldmlvdXMgY29ubmVjdGlvbiBzdGF0ZTogXCIgKyBvbGRzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RpbmcnOlxuICAgICAgICAgICAgICAgIGlmIChvbGRzdGF0ZSAhPT0gJ2Nvbm5lY3RlZCcgJiYgb2xkc3RhdGUgIT09ICdjb25uZWN0aW5nJykge1xuICAgICAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJCYWQgdHJhbnNpdGlvbiB0byBkaXNjb25uZWN0aW5nIHN0YXRlLCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2aW91cyBjb25uZWN0aW9uIHN0YXRlOiBcIiArIG9sZHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJVbmtub3duIGNvbm5lY3Rpb24gc3RhdGU6IFwiICsgc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXRlIGNoYW5nZSBhY3Rpb25zXG5cbiAgICAgICAgdGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgPSBzdGF0ZTtcblxuICAgICAgICB2YXIgc21zZyA9IFwiTmV3IHN0YXRlICdcIiArIHN0YXRlICsgXCInLCB3YXMgJ1wiICsgb2xkc3RhdGUgKyBcIicuXCI7XG4gICAgICAgIExvZy5EZWJ1ZyhzbXNnKTtcblxuICAgICAgICBpZiAodGhpcy5fZGlzY29ublRpbWVyICYmIHN0YXRlICE9PSAnZGlzY29ubmVjdGluZycpIHtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIkNsZWFyaW5nIGRpc2Nvbm5lY3QgdGltZXJcIik7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZGlzY29ublRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2Nvbm5UaW1lciA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBkb24ndCBnZXQgYSBkb3VibGUgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuX3NvY2sub2ZmKCdjbG9zZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImNvbm5lY3RcIiwgeyBkZXRhaWw6IHt9IH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RpbmcnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2Nvbm5lY3QoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2Nvbm5UaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJEaXNjb25uZWN0aW9uIHRpbWVkIG91dC5cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCBESVNDT05ORUNUX1RJTUVPVVQgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICBldmVudCA9IG5ldyBDdXN0b21FdmVudChcbiAgICAgICAgICAgICAgICAgICAgXCJkaXNjb25uZWN0XCIsIHsgZGV0YWlsOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGVhbjogdGhpcy5fcmZiX2NsZWFuX2Rpc2Nvbm5lY3QgfSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qIFByaW50IGVycm9ycyBhbmQgZGlzY29ubmVjdFxuICAgICAqXG4gICAgICogVGhlIHBhcmFtZXRlciAnZGV0YWlscycgaXMgdXNlZCBmb3IgaW5mb3JtYXRpb24gdGhhdFxuICAgICAqIHNob3VsZCBiZSBsb2dnZWQgYnV0IG5vdCBzZW50IHRvIHRoZSB1c2VyIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBfZmFpbDogZnVuY3Rpb24gKGRldGFpbHMpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiRmFpbGVkIHdoZW4gZGlzY29ubmVjdGluZzogXCIgKyBkZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiRmFpbGVkIHdoaWxlIGNvbm5lY3RlZDogXCIgKyBkZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RpbmcnOlxuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkZhaWxlZCB3aGVuIGNvbm5lY3Rpbmc6IFwiICsgZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIlJGQiBmYWlsdXJlOiBcIiArIGRldGFpbHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JmYl9jbGVhbl9kaXNjb25uZWN0ID0gZmFsc2U7IC8vVGhpcyBpcyBzZW50IHRvIHRoZSBVSVxuXG4gICAgICAgIC8vIFRyYW5zaXRpb24gdG8gZGlzY29ubmVjdGVkIHdpdGhvdXQgd2FpdGluZyBmb3Igc29ja2V0IHRvIGNsb3NlXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnZGlzY29ubmVjdGluZycpO1xuICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoJ2Rpc2Nvbm5lY3RlZCcpO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgX3NldENhcGFiaWxpdHk6IGZ1bmN0aW9uIChjYXAsIHZhbCkge1xuICAgICAgICB0aGlzLl9jYXBhYmlsaXRpZXNbY2FwXSA9IHZhbDtcbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiY2FwYWJpbGl0aWVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRldGFpbDogeyBjYXBhYmlsaXRpZXM6IHRoaXMuX2NhcGFiaWxpdGllcyB9IH0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlX21lc3NhZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclFsZW4oKSA9PT0gMCkge1xuICAgICAgICAgICAgTG9nLldhcm4oXCJoYW5kbGVfbWVzc2FnZSBjYWxsZWQgb24gYW4gZW1wdHkgcmVjZWl2ZSBxdWV1ZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiR290IGRhdGEgd2hpbGUgZGlzY29ubmVjdGVkXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZmx1c2hpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbm9ybWFsX21zZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUWxlbigpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdF9tc2coKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfaGFuZGxlS2V5RXZlbnQ6IGZ1bmN0aW9uIChrZXlzeW0sIGNvZGUsIGRvd24pIHtcbiAgICAgICAgdGhpcy5zZW5kS2V5KGtleXN5bSwgY29kZSwgZG93bik7XG4gICAgfSxcblxuICAgIF9oYW5kbGVNb3VzZUJ1dHRvbjogZnVuY3Rpb24gKHgsIHksIGRvd24sIGJtYXNrKSB7XG4gICAgICAgIGlmIChkb3duKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZV9idXR0b25NYXNrIHw9IGJtYXNrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VfYnV0dG9uTWFzayAmPSB+Ym1hc2s7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kcmFnVmlld3BvcnQpIHtcbiAgICAgICAgICAgIGlmIChkb3duICYmICF0aGlzLl92aWV3cG9ydERyYWdnaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3BvcnREcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3BvcnREcmFnUG9zID0geyd4JzogeCwgJ3knOiB5fTtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3cG9ydEhhc01vdmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBTa2lwIHNlbmRpbmcgbW91c2UgZXZlbnRzXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3cG9ydERyYWdnaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhY3R1YWxseSBwZXJmb3JtZWQgYSBkcmFnIHRoZW4gd2UgYXJlIGRvbmVcbiAgICAgICAgICAgICAgICAvLyBoZXJlIGFuZCBzaG91bGQgbm90IHNlbmQgYW55IG1vdXNlIGV2ZW50c1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl92aWV3cG9ydEhhc01vdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2Ugd2UgdHJlYXQgdGhpcyBhcyBhIG1vdXNlIGNsaWNrIGV2ZW50LlxuICAgICAgICAgICAgICAgIC8vIFNlbmQgdGhlIGJ1dHRvbiBkb3duIGV2ZW50IGhlcmUsIGFzIHRoZSBidXR0b24gdXBcbiAgICAgICAgICAgICAgICAvLyBldmVudCBpcyBzZW50IGF0IHRoZSBlbmQgb2YgdGhpcyBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICBSRkIubWVzc2FnZXMucG9pbnRlckV2ZW50KHRoaXMuX3NvY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmFic1goeCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmFic1koeSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibWFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdmlld09ubHkpIHsgcmV0dXJuOyB9IC8vIFZpZXcgb25seSwgc2tpcCBtb3VzZSBldmVudHNcblxuICAgICAgICBpZiAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgIT09ICdjb25uZWN0ZWQnKSB7IHJldHVybjsgfVxuICAgICAgICBSRkIubWVzc2FnZXMucG9pbnRlckV2ZW50KHRoaXMuX3NvY2ssIHRoaXMuX2Rpc3BsYXkuYWJzWCh4KSwgdGhpcy5fZGlzcGxheS5hYnNZKHkpLCB0aGlzLl9tb3VzZV9idXR0b25NYXNrKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZU1vdXNlTW92ZTogZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdwb3J0RHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHZhciBkZWx0YVggPSB0aGlzLl92aWV3cG9ydERyYWdQb3MueCAtIHg7XG4gICAgICAgICAgICB2YXIgZGVsdGFZID0gdGhpcy5fdmlld3BvcnREcmFnUG9zLnkgLSB5O1xuXG4gICAgICAgICAgICAvLyBUaGUgZ29hbCBpcyB0byB0cmlnZ2VyIG9uIGEgY2VydGFpbiBwaHlzaWNhbCB3aWR0aCwgdGhlXG4gICAgICAgICAgICAvLyBkZXZpY2VQaXhlbFJhdGlvIGJyaW5ncyB1cyBhIGJpdCBjbG9zZXIgYnV0IGlzIG5vdCBvcHRpbWFsLlxuICAgICAgICAgICAgdmFyIGRyYWdUaHJlc2hvbGQgPSAxMCAqICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3ZpZXdwb3J0SGFzTW92ZWQgfHwgKE1hdGguYWJzKGRlbHRhWCkgPiBkcmFnVGhyZXNob2xkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZGVsdGFZKSA+IGRyYWdUaHJlc2hvbGQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3BvcnRIYXNNb3ZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3cG9ydERyYWdQb3MgPSB7J3gnOiB4LCAneSc6IHl9O1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkudmlld3BvcnRDaGFuZ2VQb3MoZGVsdGFYLCBkZWx0YVkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTa2lwIHNlbmRpbmcgbW91c2UgZXZlbnRzXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdmlld09ubHkpIHsgcmV0dXJuOyB9IC8vIFZpZXcgb25seSwgc2tpcCBtb3VzZSBldmVudHNcblxuICAgICAgICBpZiAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgIT09ICdjb25uZWN0ZWQnKSB7IHJldHVybjsgfVxuICAgICAgICBSRkIubWVzc2FnZXMucG9pbnRlckV2ZW50KHRoaXMuX3NvY2ssIHRoaXMuX2Rpc3BsYXkuYWJzWCh4KSwgdGhpcy5fZGlzcGxheS5hYnNZKHkpLCB0aGlzLl9tb3VzZV9idXR0b25NYXNrKTtcbiAgICB9LFxuXG4gICAgLy8gTWVzc2FnZSBIYW5kbGVyc1xuXG4gICAgX25lZ290aWF0ZV9wcm90b2NvbF92ZXJzaW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRbGVuKCkgPCAxMikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJSZWNlaXZlZCBpbmNvbXBsZXRlIHByb3RvY29sIHZlcnNpb24uXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN2ZXJzaW9uID0gdGhpcy5fc29jay5yUXNoaWZ0U3RyKDEyKS5zdWJzdHIoNCwgNyk7XG4gICAgICAgIExvZy5JbmZvKFwiU2VydmVyIFByb3RvY29sVmVyc2lvbjogXCIgKyBzdmVyc2lvbik7XG4gICAgICAgIHZhciBpc19yZXBlYXRlciA9IDA7XG4gICAgICAgIHN3aXRjaCAoc3ZlcnNpb24pIHtcbiAgICAgICAgICAgIGNhc2UgXCIwMDAuMDAwXCI6ICAvLyBVbHRyYVZOQyByZXBlYXRlclxuICAgICAgICAgICAgICAgIGlzX3JlcGVhdGVyID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCIwMDMuMDAzXCI6XG4gICAgICAgICAgICBjYXNlIFwiMDAzLjAwNlwiOiAgLy8gVWx0cmFWTkNcbiAgICAgICAgICAgIGNhc2UgXCIwMDMuODg5XCI6ICAvLyBBcHBsZSBSZW1vdGUgRGVza3RvcFxuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl92ZXJzaW9uID0gMy4zO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjAwMy4wMDdcIjpcbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfdmVyc2lvbiA9IDMuNztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCIwMDMuMDA4XCI6XG4gICAgICAgICAgICBjYXNlIFwiMDA0LjAwMFwiOiAgLy8gSW50ZWwgQU1UIEtWTVxuICAgICAgICAgICAgY2FzZSBcIjAwNC4wMDFcIjogIC8vIFJlYWxWTkMgNC42XG4gICAgICAgICAgICBjYXNlIFwiMDA1LjAwMFwiOiAgLy8gUmVhbFZOQyA1LjNcbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfdmVyc2lvbiA9IDMuODtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJJbnZhbGlkIHNlcnZlciB2ZXJzaW9uIFwiICsgc3ZlcnNpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzX3JlcGVhdGVyKSB7XG4gICAgICAgICAgICB2YXIgcmVwZWF0ZXJJRCA9IFwiSUQ6XCIgKyB0aGlzLl9yZXBlYXRlcklEO1xuICAgICAgICAgICAgd2hpbGUgKHJlcGVhdGVySUQubGVuZ3RoIDwgMjUwKSB7XG4gICAgICAgICAgICAgICAgcmVwZWF0ZXJJRCArPSBcIlxcMFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc29jay5zZW5kX3N0cmluZyhyZXBlYXRlcklEKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JmYl92ZXJzaW9uID4gdGhpcy5fcmZiX21heF92ZXJzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9yZmJfdmVyc2lvbiA9IHRoaXMuX3JmYl9tYXhfdmVyc2lvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdmVyc2lvbiA9IFwiMDBcIiArIHBhcnNlSW50KHRoaXMuX3JmYl92ZXJzaW9uLCAxMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICBcIi4wMFwiICsgKCh0aGlzLl9yZmJfdmVyc2lvbiAqIDEwKSAlIDEwKTtcbiAgICAgICAgdGhpcy5fc29jay5zZW5kX3N0cmluZyhcIlJGQiBcIiArIGN2ZXJzaW9uICsgXCJcXG5cIik7XG4gICAgICAgIExvZy5EZWJ1ZygnU2VudCBQcm90b2NvbFZlcnNpb246ICcgKyBjdmVyc2lvbik7XG5cbiAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnU2VjdXJpdHknO1xuICAgIH0sXG5cbiAgICBfbmVnb3RpYXRlX3NlY3VyaXR5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFBvbHlmaWxsIHNpbmNlIElFIGFuZCBQaGFudG9tSlMgZG9lc24ndCBoYXZlXG4gICAgICAgIC8vIFR5cGVkQXJyYXkuaW5jbHVkZXMoKVxuICAgICAgICBmdW5jdGlvbiBpbmNsdWRlcyhpdGVtLCBhcnJheSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChhcnJheVtpXSA9PT0gaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcmZiX3ZlcnNpb24gPj0gMy43KSB7XG4gICAgICAgICAgICAvLyBTZXJ2ZXIgc2VuZHMgc3VwcG9ydGVkIGxpc3QsIGNsaWVudCBkZWNpZGVzXG4gICAgICAgICAgICB2YXIgbnVtX3R5cGVzID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwic2VjdXJpdHkgdHlwZVwiLCBudW1fdHlwZXMsIDEpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICBpZiAobnVtX3R5cGVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZV9zZWN1cml0eV9mYWlsdXJlKFwibm8gc2VjdXJpdHkgdHlwZXNcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0eXBlcyA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKG51bV90eXBlcyk7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCJTZXJ2ZXIgc2VjdXJpdHkgdHlwZXM6IFwiICsgdHlwZXMpO1xuXG4gICAgICAgICAgICAvLyBMb29rIGZvciBlYWNoIGF1dGggaW4gcHJlZmVycmVkIG9yZGVyXG4gICAgICAgICAgICB0aGlzLl9yZmJfYXV0aF9zY2hlbWUgPSAwO1xuICAgICAgICAgICAgaWYgKGluY2x1ZGVzKDEsIHR5cGVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9IDE7IC8vIE5vbmVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZXMoMjIsIHR5cGVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9IDIyOyAvLyBYVlBcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZXMoMTYsIHR5cGVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9IDE2OyAvLyBUaWdodFxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNsdWRlcygyLCB0eXBlcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfYXV0aF9zY2hlbWUgPSAyOyAvLyBWTkMgQXV0aFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlVuc3VwcG9ydGVkIHNlY3VyaXR5IHR5cGVzICh0eXBlczogXCIgKyB0eXBlcyArIFwiKVwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc29jay5zZW5kKFt0aGlzLl9yZmJfYXV0aF9zY2hlbWVdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNlcnZlciBkZWNpZGVzXG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJzZWN1cml0eSBzY2hlbWVcIiwgNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICB0aGlzLl9yZmJfYXV0aF9zY2hlbWUgPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnQXV0aGVudGljYXRpb24nO1xuICAgICAgICBMb2cuRGVidWcoJ0F1dGhlbnRpY2F0aW5nIHVzaW5nIHNjaGVtZTogJyArIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRfbXNnKCk7IC8vIGp1bXAgdG8gYXV0aGVudGljYXRpb25cbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBHZXQgdGhlIHNlY3VyaXR5IGZhaWx1cmUgcmVhc29uIGlmIHNlbnQgZnJvbSB0aGUgc2VydmVyIGFuZFxuICAgICAqIHNlbmQgdGhlICdzZWN1cml0eWZhaWx1cmUnIGV2ZW50LlxuICAgICAqXG4gICAgICogLSBUaGUgb3B0aW9uYWwgcGFyYW1ldGVyIGNvbnRleHQgY2FuIGJlIHVzZWQgdG8gYWRkIHNvbWUgZXh0cmFcbiAgICAgKiAgIGNvbnRleHQgdG8gdGhlIGxvZyBvdXRwdXQuXG4gICAgICpcbiAgICAgKiAtIFRoZSBvcHRpb25hbCBwYXJhbWV0ZXIgc2VjdXJpdHlfcmVzdWx0X3N0YXR1cyBjYW4gYmUgdXNlZCB0b1xuICAgICAqICAgYWRkIGEgY3VzdG9tIHN0YXR1cyBjb2RlIHRvIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICBfaGFuZGxlX3NlY3VyaXR5X2ZhaWx1cmU6IGZ1bmN0aW9uIChjb250ZXh0LCBzZWN1cml0eV9yZXN1bHRfc3RhdHVzKSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGV4dCA9IFwiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gXCIgb24gXCIgKyBjb250ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzZWN1cml0eV9yZXN1bHRfc3RhdHVzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc2VjdXJpdHlfcmVzdWx0X3N0YXR1cyA9IDE7IC8vIGZhaWxcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInJlYXNvbiBsZW5ndGhcIiwgNCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RybGVuID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcbiAgICAgICAgbGV0IHJlYXNvbiA9IFwiXCI7XG5cbiAgICAgICAgaWYgKHN0cmxlbiA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInJlYXNvblwiLCBzdHJsZW4sIDgpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgcmVhc29uID0gdGhpcy5fc29jay5yUXNoaWZ0U3RyKHN0cmxlbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVhc29uICE9PSBcIlwiKSB7XG5cbiAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBDdXN0b21FdmVudChcbiAgICAgICAgICAgICAgICBcInNlY3VyaXR5ZmFpbHVyZVwiLFxuICAgICAgICAgICAgICAgIHsgZGV0YWlsOiB7IHN0YXR1czogc2VjdXJpdHlfcmVzdWx0X3N0YXR1cywgcmVhc29uOiByZWFzb24gfSB9KTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiU2VjdXJpdHkgbmVnb3RpYXRpb24gZmFpbGVkXCIgKyBjb250ZXh0ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIChyZWFzb246IFwiICsgcmVhc29uICsgXCIpXCIpO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXG4gICAgICAgICAgICAgICAgXCJzZWN1cml0eWZhaWx1cmVcIixcbiAgICAgICAgICAgICAgICB7IGRldGFpbDogeyBzdGF0dXM6IHNlY3VyaXR5X3Jlc3VsdF9zdGF0dXMgfSB9KTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiU2VjdXJpdHkgbmVnb3RpYXRpb24gZmFpbGVkXCIgKyBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBhdXRoZW50aWNhdGlvblxuICAgIF9uZWdvdGlhdGVfeHZwX2F1dGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZmJfY3JlZGVudGlhbHMudXNlcm5hbWUgfHxcbiAgICAgICAgICAgICF0aGlzLl9yZmJfY3JlZGVudGlhbHMucGFzc3dvcmQgfHxcbiAgICAgICAgICAgICF0aGlzLl9yZmJfY3JlZGVudGlhbHMudGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJjcmVkZW50aWFsc3JlcXVpcmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgdHlwZXM6IFtcInVzZXJuYW1lXCIsIFwicGFzc3dvcmRcIiwgXCJ0YXJnZXRcIl0gfSB9KTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeHZwX2F1dGhfc3RyID0gU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLl9yZmJfY3JlZGVudGlhbHMudXNlcm5hbWUubGVuZ3RoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuX3JmYl9jcmVkZW50aWFscy50YXJnZXQubGVuZ3RoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZmJfY3JlZGVudGlhbHMudXNlcm5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2NyZWRlbnRpYWxzLnRhcmdldDtcbiAgICAgICAgdGhpcy5fc29jay5zZW5kX3N0cmluZyh4dnBfYXV0aF9zdHIpO1xuICAgICAgICB0aGlzLl9yZmJfYXV0aF9zY2hlbWUgPSAyO1xuICAgICAgICByZXR1cm4gdGhpcy5fbmVnb3RpYXRlX2F1dGhlbnRpY2F0aW9uKCk7XG4gICAgfSxcblxuICAgIF9uZWdvdGlhdGVfc3RkX3ZuY19hdXRoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcImF1dGggY2hhbGxlbmdlXCIsIDE2KSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICBpZiAoIXRoaXMuX3JmYl9jcmVkZW50aWFscy5wYXNzd29yZCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiY3JlZGVudGlhbHNyZXF1aXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZGV0YWlsOiB7IHR5cGVzOiBbXCJwYXNzd29yZFwiXSB9IH0pO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8oZGlyZWN0eG1hbjEyKTogbWFrZSBnZW5ERVMgbm90IHJlcXVpcmUgYW4gQXJyYXlcbiAgICAgICAgdmFyIGNoYWxsZW5nZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKDE2KSk7XG4gICAgICAgIHZhciByZXNwb25zZSA9IFJGQi5nZW5ERVModGhpcy5fcmZiX2NyZWRlbnRpYWxzLnBhc3N3b3JkLCBjaGFsbGVuZ2UpO1xuICAgICAgICB0aGlzLl9zb2NrLnNlbmQocmVzcG9uc2UpO1xuICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9IFwiU2VjdXJpdHlSZXN1bHRcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIF9uZWdvdGlhdGVfdGlnaHRfdHVubmVsczogZnVuY3Rpb24gKG51bVR1bm5lbHMpIHtcbiAgICAgICAgdmFyIGNsaWVudFN1cHBvcnRlZFR1bm5lbFR5cGVzID0ge1xuICAgICAgICAgICAgMDogeyB2ZW5kb3I6ICdUR0hUJywgc2lnbmF0dXJlOiAnTk9UVU5ORUwnIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHNlcnZlclN1cHBvcnRlZFR1bm5lbFR5cGVzID0ge307XG4gICAgICAgIC8vIHJlY2VpdmUgdHVubmVsIGNhcGFiaWxpdGllc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVR1bm5lbHM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNhcF9jb2RlID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcbiAgICAgICAgICAgIHZhciBjYXBfdmVuZG9yID0gdGhpcy5fc29jay5yUXNoaWZ0U3RyKDQpO1xuICAgICAgICAgICAgdmFyIGNhcF9zaWduYXR1cmUgPSB0aGlzLl9zb2NrLnJRc2hpZnRTdHIoOCk7XG4gICAgICAgICAgICBzZXJ2ZXJTdXBwb3J0ZWRUdW5uZWxUeXBlc1tjYXBfY29kZV0gPSB7IHZlbmRvcjogY2FwX3ZlbmRvciwgc2lnbmF0dXJlOiBjYXBfc2lnbmF0dXJlIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaG9vc2UgdGhlIG5vdHVubmVsIHR5cGVcbiAgICAgICAgaWYgKHNlcnZlclN1cHBvcnRlZFR1bm5lbFR5cGVzWzBdKSB7XG4gICAgICAgICAgICBpZiAoc2VydmVyU3VwcG9ydGVkVHVubmVsVHlwZXNbMF0udmVuZG9yICE9IGNsaWVudFN1cHBvcnRlZFR1bm5lbFR5cGVzWzBdLnZlbmRvciB8fFxuICAgICAgICAgICAgICAgIHNlcnZlclN1cHBvcnRlZFR1bm5lbFR5cGVzWzBdLnNpZ25hdHVyZSAhPSBjbGllbnRTdXBwb3J0ZWRUdW5uZWxUeXBlc1swXS5zaWduYXR1cmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIkNsaWVudCdzIHR1bm5lbCB0eXBlIGhhZCB0aGUgaW5jb3JyZWN0IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZlbmRvciBvciBzaWduYXR1cmVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zb2NrLnNlbmQoWzAsIDAsIDAsIDBdKTsgIC8vIHVzZSBOT1RVTk5FTFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyB3YWl0IHVudGlsIHdlIHJlY2VpdmUgdGhlIHN1YiBhdXRoIGNvdW50IHRvIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlNlcnZlciB3YW50ZWQgdHVubmVscywgYnV0IGRvZXNuJ3Qgc3VwcG9ydCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRoZSBub3R1bm5lbCB0eXBlXCIpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9uZWdvdGlhdGVfdGlnaHRfYXV0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3JmYl90aWdodHZuYykgeyAgLy8gZmlyc3QgcGFzcywgZG8gdGhlIHR1bm5lbCBuZWdvdGlhdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwibnVtIHR1bm5lbHNcIiwgNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICB2YXIgbnVtVHVubmVscyA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG4gICAgICAgICAgICBpZiAobnVtVHVubmVscyA+IDAgJiYgdGhpcy5fc29jay5yUXdhaXQoXCJ0dW5uZWwgY2FwYWJpbGl0aWVzXCIsIDE2ICogbnVtVHVubmVscywgNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgICAgIHRoaXMuX3JmYl90aWdodHZuYyA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChudW1UdW5uZWxzID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25lZ290aWF0ZV90aWdodF90dW5uZWxzKG51bVR1bm5lbHMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgIC8vIHdhaXQgdW50aWwgd2UgcmVjZWl2ZSB0aGUgc3ViIGF1dGggdG8gY29udGludWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNlY29uZCBwYXNzLCBkbyB0aGUgc3ViLWF1dGggbmVnb3RpYXRpb25cbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwic3ViIGF1dGggY291bnRcIiwgNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHZhciBzdWJBdXRoQ291bnQgPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICBpZiAoc3ViQXV0aENvdW50ID09PSAwKSB7ICAvLyBlbXB0eSBzdWItYXV0aCBsaXN0IHJlY2VpdmVkIG1lYW5zICdubyBhdXRoJyBzdWJ0eXBlIHNlbGVjdGVkXG4gICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdTZWN1cml0eVJlc3VsdCc7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInN1YiBhdXRoIGNhcGFiaWxpdGllc1wiLCAxNiAqIHN1YkF1dGhDb3VudCwgNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgdmFyIGNsaWVudFN1cHBvcnRlZFR5cGVzID0ge1xuICAgICAgICAgICAgJ1NURFZOT0FVVEhfXyc6IDEsXG4gICAgICAgICAgICAnU1REVlZOQ0FVVEhfJzogMlxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzZXJ2ZXJTdXBwb3J0ZWRUeXBlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3ViQXV0aENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjYXBOdW0gPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICAgICAgdmFyIGNhcGFiaWxpdGllcyA9IHRoaXMuX3NvY2suclFzaGlmdFN0cigxMik7XG4gICAgICAgICAgICBzZXJ2ZXJTdXBwb3J0ZWRUeXBlcy5wdXNoKGNhcGFiaWxpdGllcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBhdXRoVHlwZSBpbiBjbGllbnRTdXBwb3J0ZWRUeXBlcykge1xuICAgICAgICAgICAgaWYgKHNlcnZlclN1cHBvcnRlZFR5cGVzLmluZGV4T2YoYXV0aFR5cGUpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5zZW5kKFswLCAwLCAwLCBjbGllbnRTdXBwb3J0ZWRUeXBlc1thdXRoVHlwZV1dKTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXV0aFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnU1REVk5PQVVUSF9fJzogIC8vIG5vIGF1dGhcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ1NlY3VyaXR5UmVzdWx0JztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdTVERWVk5DQVVUSF8nOiAvLyBWTkMgYXV0aFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbml0X21zZygpO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJVbnN1cHBvcnRlZCB0aW55IGF1dGggc2NoZW1lIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiKHNjaGVtZTogXCIgKyBhdXRoVHlwZSArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIk5vIHN1cHBvcnRlZCBzdWItYXV0aCB0eXBlcyFcIik7XG4gICAgfSxcblxuICAgIF9uZWdvdGlhdGVfYXV0aGVudGljYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9yZmJfYXV0aF9zY2hlbWUpIHtcbiAgICAgICAgICAgIGNhc2UgMDogIC8vIGNvbm5lY3Rpb24gZmFpbGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZV9zZWN1cml0eV9mYWlsdXJlKFwiYXV0aGVudGljYXRpb24gc2NoZW1lXCIpO1xuXG4gICAgICAgICAgICBjYXNlIDE6ICAvLyBubyBhdXRoXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JmYl92ZXJzaW9uID49IDMuOCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdTZWN1cml0eVJlc3VsdCc7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdDbGllbnRJbml0aWFsaXNhdGlvbic7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRfbXNnKCk7XG5cbiAgICAgICAgICAgIGNhc2UgMjI6ICAvLyBYVlAgYXV0aFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfeHZwX2F1dGgoKTtcblxuICAgICAgICAgICAgY2FzZSAyOiAgLy8gVk5DIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25lZ290aWF0ZV9zdGRfdm5jX2F1dGgoKTtcblxuICAgICAgICAgICAgY2FzZSAxNjogIC8vIFRpZ2h0Vk5DIFNlY3VyaXR5IFR5cGVcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmVnb3RpYXRlX3RpZ2h0X2F1dGgoKTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlVuc3VwcG9ydGVkIGF1dGggc2NoZW1lIChzY2hlbWU6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZmJfYXV0aF9zY2hlbWUgKyBcIilcIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2hhbmRsZV9zZWN1cml0eV9yZXN1bHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KCdWTkMgYXV0aCByZXNwb25zZSAnLCA0KSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICBsZXQgc3RhdHVzID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcblxuICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7IC8vIE9LXG4gICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdDbGllbnRJbml0aWFsaXNhdGlvbic7XG4gICAgICAgICAgICBMb2cuRGVidWcoJ0F1dGhlbnRpY2F0aW9uIE9LJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5pdF9tc2coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZmJfdmVyc2lvbiA+PSAzLjgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3NlY3VyaXR5X2ZhaWx1cmUoXCJzZWN1cml0eSByZXN1bHRcIiwgc3RhdHVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwic2VjdXJpdHlmYWlsdXJlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZGV0YWlsOiB7IHN0YXR1czogc3RhdHVzIH0gfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiU2VjdXJpdHkgaGFuZHNoYWtlIGZhaWxlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfbmVnb3RpYXRlX3NlcnZlcl9pbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInNlcnZlciBpbml0aWFsaXphdGlvblwiLCAyNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgLyogU2NyZWVuIHNpemUgKi9cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG5cbiAgICAgICAgLyogUElYRUxfRk9STUFUICovXG4gICAgICAgIHZhciBicHAgICAgICAgICA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcbiAgICAgICAgdmFyIGRlcHRoICAgICAgID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICB2YXIgYmlnX2VuZGlhbiAgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgIHZhciB0cnVlX2NvbG9yICA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcblxuICAgICAgICB2YXIgcmVkX21heCAgICAgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICB2YXIgZ3JlZW5fbWF4ICAgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICB2YXIgYmx1ZV9tYXggICAgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICB2YXIgcmVkX3NoaWZ0ICAgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgIHZhciBncmVlbl9zaGlmdCA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcbiAgICAgICAgdmFyIGJsdWVfc2hpZnQgID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDMpOyAgLy8gcGFkZGluZ1xuXG4gICAgICAgIC8vIE5CKGRpcmVjdHhtYW4xMik6IHdlIGRvbid0IHdhbnQgdG8gY2FsbCBhbnkgY2FsbGJhY2tzIG9yIHByaW50IG1lc3NhZ2VzIHVudGlsXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICphZnRlciogd2UncmUgcGFzdCB0aGUgcG9pbnQgd2hlcmUgd2UgY291bGQgYmFja3RyYWNrXG5cbiAgICAgICAgLyogQ29ubmVjdGlvbiBuYW1lL3RpdGxlICovXG4gICAgICAgIHZhciBuYW1lX2xlbmd0aCA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdCgnc2VydmVyIGluaXQgbmFtZScsIG5hbWVfbGVuZ3RoLCAyNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX2ZiX25hbWUgPSBkZWNvZGVVVEY4KHRoaXMuX3NvY2suclFzaGlmdFN0cihuYW1lX2xlbmd0aCkpO1xuXG4gICAgICAgIGlmICh0aGlzLl9yZmJfdGlnaHR2bmMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdCgnVGlnaHRWTkMgZXh0ZW5kZWQgc2VydmVyIGluaXQgaGVhZGVyJywgOCwgMjQgKyBuYW1lX2xlbmd0aCkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICAvLyBJbiBUaWdodFZOQyBtb2RlLCBTZXJ2ZXJJbml0IG1lc3NhZ2UgaXMgZXh0ZW5kZWRcbiAgICAgICAgICAgIHZhciBudW1TZXJ2ZXJNZXNzYWdlcyA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgICAgICB2YXIgbnVtQ2xpZW50TWVzc2FnZXMgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICAgICAgdmFyIG51bUVuY29kaW5ncyA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDIpOyAgLy8gcGFkZGluZ1xuXG4gICAgICAgICAgICB2YXIgdG90YWxNZXNzYWdlc0xlbmd0aCA9IChudW1TZXJ2ZXJNZXNzYWdlcyArIG51bUNsaWVudE1lc3NhZ2VzICsgbnVtRW5jb2RpbmdzKSAqIDE2O1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KCdUaWdodFZOQyBleHRlbmRlZCBzZXJ2ZXIgaW5pdCBoZWFkZXInLCB0b3RhbE1lc3NhZ2VzTGVuZ3RoLCAzMiArIG5hbWVfbGVuZ3RoKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgYWN0dWFsbHkgZG8gYW55dGhpbmcgd2l0aCB0aGUgY2FwYWJpbGl0eSBpbmZvcm1hdGlvbiB0aGF0IFRJR0hUIHNlbmRzLFxuICAgICAgICAgICAgLy8gc28gd2UganVzdCBza2lwIHRoZSBhbGwgb2YgdGhpcy5cblxuICAgICAgICAgICAgLy8gVElHSFQgc2VydmVyIG1lc3NhZ2UgY2FwYWJpbGl0aWVzXG4gICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDE2ICogbnVtU2VydmVyTWVzc2FnZXMpO1xuXG4gICAgICAgICAgICAvLyBUSUdIVCBjbGllbnQgbWVzc2FnZSBjYXBhYmlsaXRpZXNcbiAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMTYgKiBudW1DbGllbnRNZXNzYWdlcyk7XG5cbiAgICAgICAgICAgIC8vIFRJR0hUIGVuY29kaW5nIGNhcGFiaWxpdGllc1xuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygxNiAqIG51bUVuY29kaW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOQihkaXJlY3R4bWFuMTIpOiB0aGVzZSBhcmUgZG93biBoZXJlIHNvIHRoYXQgd2UgZG9uJ3QgcnVuIHRoZW0gbXVsdGlwbGUgdGltZXNcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgaWYgd2UgYmFja3RyYWNrXG4gICAgICAgIExvZy5JbmZvKFwiU2NyZWVuOiBcIiArIHdpZHRoICsgXCJ4XCIgKyBoZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgXCIsIGJwcDogXCIgKyBicHAgKyBcIiwgZGVwdGg6IFwiICsgZGVwdGggK1xuICAgICAgICAgICAgICAgICAgXCIsIGJpZ19lbmRpYW46IFwiICsgYmlnX2VuZGlhbiArXG4gICAgICAgICAgICAgICAgICBcIiwgdHJ1ZV9jb2xvcjogXCIgKyB0cnVlX2NvbG9yICtcbiAgICAgICAgICAgICAgICAgIFwiLCByZWRfbWF4OiBcIiArIHJlZF9tYXggK1xuICAgICAgICAgICAgICAgICAgXCIsIGdyZWVuX21heDogXCIgKyBncmVlbl9tYXggK1xuICAgICAgICAgICAgICAgICAgXCIsIGJsdWVfbWF4OiBcIiArIGJsdWVfbWF4ICtcbiAgICAgICAgICAgICAgICAgIFwiLCByZWRfc2hpZnQ6IFwiICsgcmVkX3NoaWZ0ICtcbiAgICAgICAgICAgICAgICAgIFwiLCBncmVlbl9zaGlmdDogXCIgKyBncmVlbl9zaGlmdCArXG4gICAgICAgICAgICAgICAgICBcIiwgYmx1ZV9zaGlmdDogXCIgKyBibHVlX3NoaWZ0KTtcblxuICAgICAgICBpZiAoYmlnX2VuZGlhbiAhPT0gMCkge1xuICAgICAgICAgICAgTG9nLldhcm4oXCJTZXJ2ZXIgbmF0aXZlIGVuZGlhbiBpcyBub3QgbGl0dGxlIGVuZGlhblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWRfc2hpZnQgIT09IDE2KSB7XG4gICAgICAgICAgICBMb2cuV2FybihcIlNlcnZlciBuYXRpdmUgcmVkLXNoaWZ0IGlzIG5vdCAxNlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChibHVlX3NoaWZ0ICE9PSAwKSB7XG4gICAgICAgICAgICBMb2cuV2FybihcIlNlcnZlciBuYXRpdmUgYmx1ZS1zaGlmdCBpcyBub3QgMFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlJ3JlIHBhc3QgdGhlIHBvaW50IHdoZXJlIHdlIGNvdWxkIGJhY2t0cmFjaywgc28gaXQncyBzYWZlIHRvIGNhbGwgdGhpc1xuICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJkZXNrdG9wbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgbmFtZTogdGhpcy5fZmJfbmFtZSB9IH0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gICAgICAgIHRoaXMuX3Jlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBpZiAoIXRoaXMuX3ZpZXdPbmx5KSB7IHRoaXMuX2tleWJvYXJkLmdyYWIoKTsgfVxuICAgICAgICBpZiAoIXRoaXMuX3ZpZXdPbmx5KSB7IHRoaXMuX21vdXNlLmdyYWIoKTsgfVxuXG4gICAgICAgIHRoaXMuX2ZiX2RlcHRoID0gMjQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZiX25hbWUgPT09IFwiSW50ZWwocikgQU1UIEtWTVwiKSB7XG4gICAgICAgICAgICBMb2cuV2FybihcIkludGVsIEFNVCBLVk0gb25seSBzdXBwb3J0cyA4LzE2IGJpdCBkZXB0aHMuIFVzaW5nIGxvdyBjb2xvciBtb2RlLlwiKTtcbiAgICAgICAgICAgIHRoaXMuX2ZiX2RlcHRoID0gODtcbiAgICAgICAgfVxuXG4gICAgICAgIFJGQi5tZXNzYWdlcy5waXhlbEZvcm1hdCh0aGlzLl9zb2NrLCB0aGlzLl9mYl9kZXB0aCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX3NlbmRFbmNvZGluZ3MoKTtcbiAgICAgICAgUkZCLm1lc3NhZ2VzLmZiVXBkYXRlUmVxdWVzdCh0aGlzLl9zb2NrLCBmYWxzZSwgMCwgMCwgdGhpcy5fZmJfd2lkdGgsIHRoaXMuX2ZiX2hlaWdodCk7XG5cbiAgICAgICAgdGhpcy5fdGltaW5nLmZidV9ydF9zdGFydCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgIHRoaXMuX3RpbWluZy5waXhlbHMgPSAwO1xuXG4gICAgICAgIC8vIEN1cnNvciB3aWxsIGJlIHNlcnZlciBzaWRlIHVudGlsIHRoZSBzZXJ2ZXIgZGVjaWRlcyB0byBob25vclxuICAgICAgICAvLyBvdXIgcmVxdWVzdCBhbmQgc2VuZCBvdmVyIHRoZSBjdXJzb3IgaW1hZ2VcbiAgICAgICAgdGhpcy5fZGlzcGxheS5kaXNhYmxlTG9jYWxDdXJzb3IoKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgX3NlbmRFbmNvZGluZ3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVuY3MgPSBbXTtcblxuICAgICAgICAvLyBJbiBwcmVmZXJlbmNlIG9yZGVyXG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MuZW5jb2RpbmdDb3B5UmVjdCk7XG4gICAgICAgIC8vIE9ubHkgc3VwcG9ydGVkIHdpdGggZnVsbCBkZXB0aCBzdXBwb3J0XG4gICAgICAgIGlmICh0aGlzLl9mYl9kZXB0aCA9PSAyNCkge1xuICAgICAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5lbmNvZGluZ1RpZ2h0KTtcbiAgICAgICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MuZW5jb2RpbmdIZXh0aWxlKTtcbiAgICAgICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MuZW5jb2RpbmdSUkUpO1xuICAgICAgICB9XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MuZW5jb2RpbmdSYXcpO1xuXG4gICAgICAgIC8vIFBzdWVkby1lbmNvZGluZyBzZXR0aW5nc1xuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nVGlnaHRQTkcpO1xuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nUXVhbGl0eUxldmVsMCArIDYpO1xuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nQ29tcHJlc3NMZXZlbDAgKyAyKTtcblxuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nRGVza3RvcFNpemUpO1xuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nTGFzdFJlY3QpO1xuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nUUVNVUV4dGVuZGVkS2V5RXZlbnQpO1xuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nRXh0ZW5kZWREZXNrdG9wU2l6ZSk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdYdnApO1xuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nRmVuY2UpO1xuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nQ29udGludW91c1VwZGF0ZXMpO1xuXG4gICAgICAgIGlmIChzdXBwb3J0c0N1cnNvclVSSXMoKSAmJlxuICAgICAgICAgICAgIWlzVG91Y2hEZXZpY2UgJiYgdGhpcy5fZmJfZGVwdGggPT0gMjQpIHtcbiAgICAgICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdDdXJzb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgUkZCLm1lc3NhZ2VzLmNsaWVudEVuY29kaW5ncyh0aGlzLl9zb2NrLCBlbmNzKTtcbiAgICB9LFxuXG4gICAgLyogUkZCIHByb3RvY29sIGluaXRpYWxpemF0aW9uIHN0YXRlczpcbiAgICAgKiAgIFByb3RvY29sVmVyc2lvblxuICAgICAqICAgU2VjdXJpdHlcbiAgICAgKiAgIEF1dGhlbnRpY2F0aW9uXG4gICAgICogICBTZWN1cml0eVJlc3VsdFxuICAgICAqICAgQ2xpZW50SW5pdGlhbGl6YXRpb24gLSBub3QgdHJpZ2dlcmVkIGJ5IHNlcnZlciBtZXNzYWdlXG4gICAgICogICBTZXJ2ZXJJbml0aWFsaXphdGlvblxuICAgICAqL1xuICAgIF9pbml0X21zZzogZnVuY3Rpb24gKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3JmYl9pbml0X3N0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdQcm90b2NvbFZlcnNpb24nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfcHJvdG9jb2xfdmVyc2lvbigpO1xuXG4gICAgICAgICAgICBjYXNlICdTZWN1cml0eSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25lZ290aWF0ZV9zZWN1cml0eSgpO1xuXG4gICAgICAgICAgICBjYXNlICdBdXRoZW50aWNhdGlvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25lZ290aWF0ZV9hdXRoZW50aWNhdGlvbigpO1xuXG4gICAgICAgICAgICBjYXNlICdTZWN1cml0eVJlc3VsdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZV9zZWN1cml0eV9yZXN1bHQoKTtcblxuICAgICAgICAgICAgY2FzZSAnQ2xpZW50SW5pdGlhbGlzYXRpb24nOlxuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suc2VuZChbdGhpcy5fc2hhcmVkID8gMSA6IDBdKTsgLy8gQ2xpZW50SW5pdGlhbGlzYXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdTZXJ2ZXJJbml0aWFsaXNhdGlvbic7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIGNhc2UgJ1NlcnZlckluaXRpYWxpc2F0aW9uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmVnb3RpYXRlX3NlcnZlcl9pbml0KCk7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJVbmtub3duIGluaXQgc3RhdGUgKHN0YXRlOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgKyBcIilcIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2hhbmRsZV9zZXRfY29sb3VyX21hcF9tc2c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTG9nLkRlYnVnKFwiU2V0Q29sb3JNYXBFbnRyaWVzXCIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiVW5leHBlY3RlZCBTZXRDb2xvck1hcEVudHJpZXMgbWVzc2FnZVwiKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZV9zZXJ2ZXJfY3V0X3RleHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTG9nLkRlYnVnKFwiU2VydmVyQ3V0VGV4dFwiKTtcblxuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJTZXJ2ZXJDdXRUZXh0IGhlYWRlclwiLCA3LCAxKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygzKTsgIC8vIFBhZGRpbmdcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlNlcnZlckN1dFRleHRcIiwgbGVuZ3RoLCA4KSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuX3NvY2suclFzaGlmdFN0cihsZW5ndGgpO1xuXG4gICAgICAgIGlmICh0aGlzLl92aWV3T25seSkgeyByZXR1cm4gdHJ1ZTsgfVxuXG4gICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImNsaXBib2FyZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgdGV4dDogdGV4dCB9IH0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlX3NlcnZlcl9mZW5jZV9tc2c6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJTZXJ2ZXJGZW5jZSBoZWFkZXJcIiwgOCwgMSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMyk7IC8vIFBhZGRpbmdcbiAgICAgICAgdmFyIGZsYWdzID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcblxuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJTZXJ2ZXJGZW5jZSBwYXlsb2FkXCIsIGxlbmd0aCwgOSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgaWYgKGxlbmd0aCA+IDY0KSB7XG4gICAgICAgICAgICBMb2cuV2FybihcIkJhZCBwYXlsb2FkIGxlbmd0aCAoXCIgKyBsZW5ndGggKyBcIikgaW4gZmVuY2UgcmVzcG9uc2VcIik7XG4gICAgICAgICAgICBsZW5ndGggPSA2NDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXlsb2FkID0gdGhpcy5fc29jay5yUXNoaWZ0U3RyKGxlbmd0aCk7XG5cbiAgICAgICAgdGhpcy5fc3VwcG9ydHNGZW5jZSA9IHRydWU7XG5cbiAgICAgICAgLypcbiAgICAgICAgICogRmVuY2UgZmxhZ3NcbiAgICAgICAgICpcbiAgICAgICAgICogICgxPDwwKSAgLSBCbG9ja0JlZm9yZVxuICAgICAgICAgKiAgKDE8PDEpICAtIEJsb2NrQWZ0ZXJcbiAgICAgICAgICogICgxPDwyKSAgLSBTeW5jTmV4dFxuICAgICAgICAgKiAgKDE8PDMxKSAtIFJlcXVlc3RcbiAgICAgICAgICovXG5cbiAgICAgICAgaWYgKCEoZmxhZ3MgJiAoMTw8MzEpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJVbmV4cGVjdGVkIGZlbmNlIHJlc3BvbnNlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlsdGVyIG91dCB1bnN1cHBvcnRlZCBmbGFnc1xuICAgICAgICAvLyBGSVhNRTogc3VwcG9ydCBzeW5jTmV4dFxuICAgICAgICBmbGFncyAmPSAoMTw8MCkgfCAoMTw8MSk7XG5cbiAgICAgICAgLy8gQmxvY2tCZWZvcmUgYW5kIEJsb2NrQWZ0ZXIgYXJlIGF1dG9tYXRpY2FsbHkgaGFuZGxlZCBieVxuICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IHdlIHByb2Nlc3MgZWFjaCBpbmNvbWluZyBtZXNzYWdlXG4gICAgICAgIC8vIHN5bmNocm9udW9zbHkuXG4gICAgICAgIFJGQi5tZXNzYWdlcy5jbGllbnRGZW5jZSh0aGlzLl9zb2NrLCBmbGFncywgcGF5bG9hZCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIF9oYW5kbGVfeHZwX21zZzogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJYVlAgdmVyc2lvbiBhbmQgbWVzc2FnZVwiLCAzLCAxKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5fc29jay5yUXNraXA4KCk7ICAvLyBQYWRkaW5nXG4gICAgICAgIHZhciB4dnBfdmVyID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICB2YXIgeHZwX21zZyA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcblxuICAgICAgICBzd2l0Y2ggKHh2cF9tc2cpIHtcbiAgICAgICAgICAgIGNhc2UgMDogIC8vIFhWUF9GQUlMXG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiWFZQIE9wZXJhdGlvbiBGYWlsZWRcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6ICAvLyBYVlBfSU5JVFxuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl94dnBfdmVyID0geHZwX3ZlcjtcbiAgICAgICAgICAgICAgICBMb2cuSW5mbyhcIlhWUCBleHRlbnNpb25zIGVuYWJsZWQgKHZlcnNpb24gXCIgKyB0aGlzLl9yZmJfeHZwX3ZlciArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDYXBhYmlsaXR5KFwicG93ZXJcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJJbGxlZ2FsIHNlcnZlciBYVlAgbWVzc2FnZSAobXNnOiBcIiArIHh2cF9tc2cgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgX25vcm1hbF9tc2c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1zZ190eXBlO1xuXG4gICAgICAgIGlmICh0aGlzLl9GQlUucmVjdHMgPiAwKSB7XG4gICAgICAgICAgICBtc2dfdHlwZSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtc2dfdHlwZSA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAobXNnX3R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMDogIC8vIEZyYW1lYnVmZmVyVXBkYXRlXG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IHRoaXMuX2ZyYW1lYnVmZmVyVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJldCAmJiAhdGhpcy5fZW5hYmxlZENvbnRpbnVvdXNVcGRhdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIFJGQi5tZXNzYWdlcy5mYlVwZGF0ZVJlcXVlc3QodGhpcy5fc29jaywgdHJ1ZSwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mYl93aWR0aCwgdGhpcy5fZmJfaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcblxuICAgICAgICAgICAgY2FzZSAxOiAgLy8gU2V0Q29sb3JNYXBFbnRyaWVzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZV9zZXRfY29sb3VyX21hcF9tc2coKTtcblxuICAgICAgICAgICAgY2FzZSAyOiAgLy8gQmVsbFxuICAgICAgICAgICAgICAgIExvZy5EZWJ1ZyhcIkJlbGxcIik7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiYmVsbFwiLCB7IGRldGFpbDoge30gfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgY2FzZSAzOiAgLy8gU2VydmVyQ3V0VGV4dFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVfc2VydmVyX2N1dF90ZXh0KCk7XG5cbiAgICAgICAgICAgIGNhc2UgMTUwOiAvLyBFbmRPZkNvbnRpbnVvdXNVcGRhdGVzXG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0ID0gISh0aGlzLl9zdXBwb3J0c0NvbnRpbnVvdXNVcGRhdGVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdXBwb3J0c0NvbnRpbnVvdXNVcGRhdGVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkQ29udGludW91c1VwZGF0ZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZENvbnRpbnVvdXNVcGRhdGVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ29udGludW91c1VwZGF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgTG9nLkluZm8oXCJFbmFibGluZyBjb250aW51b3VzIHVwZGF0ZXMuXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXZSBuZWVkIHRvIHNlbmQgYSBmcmFtZWJ1ZmZlcnVwZGF0ZXJlcXVlc3QgaGVyZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhZGQgc3VwcG9ydCBmb3IgdHVybmluZyBvZmYgY29udGludW91cyB1cGRhdGVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBjYXNlIDI0ODogLy8gU2VydmVyRmVuY2VcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3NlcnZlcl9mZW5jZV9tc2coKTtcblxuICAgICAgICAgICAgY2FzZSAyNTA6ICAvLyBYVlBcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3h2cF9tc2coKTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiVW5leHBlY3RlZCBzZXJ2ZXIgbWVzc2FnZSAodHlwZSBcIiArIG1zZ190eXBlICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIExvZy5EZWJ1ZyhcInNvY2suclFzbGljZSgwLCAzMCk6IFwiICsgdGhpcy5fc29jay5yUXNsaWNlKDAsIDMwKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX29uRmx1c2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9mbHVzaGluZyA9IGZhbHNlO1xuICAgICAgICAvLyBSZXN1bWUgcHJvY2Vzc2luZ1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUWxlbigpID4gMCkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlX21lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZnJhbWVidWZmZXJVcGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJldCA9IHRydWU7XG4gICAgICAgIHZhciBub3c7XG5cbiAgICAgICAgaWYgKHRoaXMuX0ZCVS5yZWN0cyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiRkJVIGhlYWRlclwiLCAzLCAxKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwOCgpOyAgLy8gUGFkZGluZ1xuICAgICAgICAgICAgdGhpcy5fRkJVLnJlY3RzID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDA7XG4gICAgICAgICAgICB0aGlzLl90aW1pbmcuY3VyX2ZidSA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGltaW5nLmZidV9ydF9zdGFydCA+IDApIHtcbiAgICAgICAgICAgICAgICBub3cgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIExvZy5JbmZvKFwiRmlyc3QgRkJVIGxhdGVuY3k6IFwiICsgKG5vdyAtIHRoaXMuX3RpbWluZy5mYnVfcnRfc3RhcnQpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBwcmV2aW91cyBmcmFtZSBpcyBmdWxseSByZW5kZXJlZCBmaXJzdFxuICAgICAgICAgICAgLy8gdG8gYXZvaWQgYnVpbGRpbmcgdXAgYW4gZXhjZXNzaXZlIHF1ZXVlXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlzcGxheS5wZW5kaW5nKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbHVzaGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5mbHVzaCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh0aGlzLl9GQlUucmVjdHMgPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgIT09ICdjb25uZWN0ZWQnKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJGQlVcIiwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9GQlUuYnl0ZXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJyZWN0IGhlYWRlclwiLCAxMikpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICAgICAgLyogTmV3IEZyYW1lYnVmZmVyVXBkYXRlICovXG5cbiAgICAgICAgICAgICAgICB2YXIgaGRyID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoMTIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS54ICAgICAgICA9IChoZHJbMF0gPDwgOCkgKyBoZHJbMV07XG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLnkgICAgICAgID0gKGhkclsyXSA8PCA4KSArIGhkclszXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUud2lkdGggICAgPSAoaGRyWzRdIDw8IDgpICsgaGRyWzVdO1xuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5oZWlnaHQgICA9IChoZHJbNl0gPDwgOCkgKyBoZHJbN107XG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLmVuY29kaW5nID0gcGFyc2VJbnQoKGhkcls4XSA8PCAyNCkgKyAoaGRyWzldIDw8IDE2KSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGhkclsxMF0gPDwgOCkgKyBoZHJbMTFdLCAxMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2VuY0hhbmRsZXJzW3RoaXMuX0ZCVS5lbmNvZGluZ10pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIlVuc3VwcG9ydGVkIGVuY29kaW5nIChlbmNvZGluZzogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5lbmNvZGluZyArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdGltaW5nLmxhc3RfZmJ1ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgcmV0ID0gdGhpcy5fZW5jSGFuZGxlcnNbdGhpcy5fRkJVLmVuY29kaW5nXSgpO1xuXG4gICAgICAgICAgICBub3cgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdGhpcy5fdGltaW5nLmN1cl9mYnUgKz0gKG5vdyAtIHRoaXMuX3RpbWluZy5sYXN0X2ZidSk7XG5cbiAgICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLl9GQlUuZW5jb2RpbmcgaW4gdGhpcy5fZW5jU3RhdHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuY1N0YXRzW3RoaXMuX0ZCVS5lbmNvZGluZ10gPSBbMCwgMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2VuY1N0YXRzW3RoaXMuX0ZCVS5lbmNvZGluZ11bMF0rKztcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmNTdGF0c1t0aGlzLl9GQlUuZW5jb2RpbmddWzFdKys7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLnBpeGVscyArPSB0aGlzLl9GQlUud2lkdGggKiB0aGlzLl9GQlUuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fdGltaW5nLnBpeGVscyA+PSAodGhpcy5fZmJfd2lkdGggKiB0aGlzLl9mYl9oZWlnaHQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLl9GQlUud2lkdGggPT09IHRoaXMuX2ZiX3dpZHRoICYmIHRoaXMuX0ZCVS5oZWlnaHQgPT09IHRoaXMuX2ZiX2hlaWdodCkgfHxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLmZidV9ydF9zdGFydCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLmZ1bGxfZmJ1X3RvdGFsICs9IHRoaXMuX3RpbWluZy5jdXJfZmJ1O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcuZnVsbF9mYnVfY250Kys7XG4gICAgICAgICAgICAgICAgICAgIExvZy5JbmZvKFwiVGltaW5nIG9mIGZ1bGwgRkJVLCBjdXJyOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcuY3VyX2ZidSArIFwiLCB0b3RhbDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLmZ1bGxfZmJ1X3RvdGFsICsgXCIsIGNudDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLmZ1bGxfZmJ1X2NudCArIFwiLCBhdmc6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLl90aW1pbmcuZnVsbF9mYnVfdG90YWwgLyB0aGlzLl90aW1pbmcuZnVsbF9mYnVfY250KSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RpbWluZy5mYnVfcnRfc3RhcnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmYnVfcnRfZGlmZiA9IG5vdyAtIHRoaXMuX3RpbWluZy5mYnVfcnRfc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5mYnVfcnRfdG90YWwgKz0gZmJ1X3J0X2RpZmY7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5mYnVfcnRfY250Kys7XG4gICAgICAgICAgICAgICAgICAgIExvZy5JbmZvKFwiZnVsbCBGQlUgcm91bmQtdHJpcCwgY3VyOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYnVfcnRfZGlmZiArIFwiLCB0b3RhbDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLmZidV9ydF90b3RhbCArIFwiLCBjbnQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5mYnVfcnRfY250ICsgXCIsIGF2ZzogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuX3RpbWluZy5mYnVfcnRfdG90YWwgLyB0aGlzLl90aW1pbmcuZmJ1X3J0X2NudCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcuZmJ1X3J0X3N0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghcmV0KSB7IHJldHVybiByZXQ7IH0gIC8vIG5lZWQgbW9yZSBkYXRhXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kaXNwbGF5LmZsaXAoKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTsgIC8vIFdlIGZpbmlzaGVkIHRoaXMgRkJVXG4gICAgfSxcblxuICAgIF91cGRhdGVDb250aW51b3VzVXBkYXRlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZENvbnRpbnVvdXNVcGRhdGVzKSB7IHJldHVybjsgfVxuXG4gICAgICAgIFJGQi5tZXNzYWdlcy5lbmFibGVDb250aW51b3VzVXBkYXRlcyh0aGlzLl9zb2NrLCB0cnVlLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmJfd2lkdGgsIHRoaXMuX2ZiX2hlaWdodCk7XG4gICAgfSxcblxuICAgIF9yZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5fZmJfd2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZmJfaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuX2Rlc3RCdWZmID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fZmJfd2lkdGggKiB0aGlzLl9mYl9oZWlnaHQgKiA0KTtcblxuICAgICAgICB0aGlzLl9kaXNwbGF5LnJlc2l6ZSh0aGlzLl9mYl93aWR0aCwgdGhpcy5fZmJfaGVpZ2h0KTtcblxuICAgICAgICAvLyBBZGp1c3QgdGhlIHZpc2libGUgdmlld3BvcnQgYmFzZWQgb24gdGhlIG5ldyBkaW1lbnNpb25zXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsaXAoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2NhbGUoKTtcblxuICAgICAgICB0aGlzLl90aW1pbmcuZmJ1X3J0X3N0YXJ0ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29udGludW91c1VwZGF0ZXMoKTtcbiAgICB9LFxuXG4gICAgX3h2cE9wOiBmdW5jdGlvbiAodmVyLCBvcCkge1xuICAgICAgICBpZiAodGhpcy5fcmZiX3h2cF92ZXIgPCB2ZXIpIHsgcmV0dXJuOyB9XG4gICAgICAgIExvZy5JbmZvKFwiU2VuZGluZyBYVlAgb3BlcmF0aW9uIFwiICsgb3AgKyBcIiAodmVyc2lvbiBcIiArIHZlciArIFwiKVwiKTtcbiAgICAgICAgUkZCLm1lc3NhZ2VzLnh2cE9wKHRoaXMuX3NvY2ssIHZlciwgb3ApO1xuICAgIH0sXG59O1xuXG5PYmplY3QuYXNzaWduKFJGQi5wcm90b3R5cGUsIEV2ZW50VGFyZ2V0TWl4aW4pO1xuXG4vLyBDbGFzcyBNZXRob2RzXG5SRkIubWVzc2FnZXMgPSB7XG4gICAga2V5RXZlbnQ6IGZ1bmN0aW9uIChzb2NrLCBrZXlzeW0sIGRvd24pIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDQ7ICAvLyBtc2ctdHlwZVxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gZG93bjtcblxuICAgICAgICBidWZmW29mZnNldCArIDJdID0gMDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IDA7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9IChrZXlzeW0gPj4gMjQpO1xuICAgICAgICBidWZmW29mZnNldCArIDVdID0gKGtleXN5bSA+PiAxNik7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNl0gPSAoa2V5c3ltID4+IDgpO1xuICAgICAgICBidWZmW29mZnNldCArIDddID0ga2V5c3ltO1xuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDg7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgUUVNVUV4dGVuZGVkS2V5RXZlbnQ6IGZ1bmN0aW9uIChzb2NrLCBrZXlzeW0sIGRvd24sIGtleWNvZGUpIHtcbiAgICAgICAgZnVuY3Rpb24gZ2V0UkZCa2V5Y29kZSh4dF9zY2FuY29kZSkge1xuICAgICAgICAgICAgdmFyIHVwcGVyQnl0ZSA9IChrZXljb2RlID4+IDgpO1xuICAgICAgICAgICAgdmFyIGxvd2VyQnl0ZSA9IChrZXljb2RlICYgMHgwMGZmKTtcbiAgICAgICAgICAgIGlmICh1cHBlckJ5dGUgPT09IDB4ZTAgJiYgbG93ZXJCeXRlIDwgMHg3Zikge1xuICAgICAgICAgICAgICAgIGxvd2VyQnl0ZSA9IGxvd2VyQnl0ZSB8IDB4ODA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvd2VyQnl0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB4dF9zY2FuY29kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidWZmID0gc29jay5fc1E7XG4gICAgICAgIHZhciBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSAyNTU7IC8vIG1zZy10eXBlXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSAwOyAvLyBzdWIgbXNnLXR5cGVcblxuICAgICAgICBidWZmW29mZnNldCArIDJdID0gKGRvd24gPj4gOCk7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSBkb3duO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSAoa2V5c3ltID4+IDI0KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IChrZXlzeW0gPj4gMTYpO1xuICAgICAgICBidWZmW29mZnNldCArIDZdID0gKGtleXN5bSA+PiA4KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IGtleXN5bTtcblxuICAgICAgICB2YXIgUkZCa2V5Y29kZSA9IGdldFJGQmtleWNvZGUoa2V5Y29kZSk7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA4XSA9IChSRkJrZXljb2RlID4+IDI0KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA5XSA9IChSRkJrZXljb2RlID4+IDE2KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxMF0gPSAoUkZCa2V5Y29kZSA+PiA4KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxMV0gPSBSRkJrZXljb2RlO1xuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDEyO1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIHBvaW50ZXJFdmVudDogZnVuY3Rpb24gKHNvY2ssIHgsIHksIG1hc2spIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDU7IC8vIG1zZy10eXBlXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IG1hc2s7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IHggPj4gODtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IHg7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9IHkgPj4gODtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IHk7XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gNjtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICAvLyBUT0RPKGRpcmVjdHhtYW4xMik6IG1ha2UgdGhpcyB1bmljb2RlIGNvbXBhdGlibGU/XG4gICAgY2xpZW50Q3V0VGV4dDogZnVuY3Rpb24gKHNvY2ssIHRleHQpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDY7IC8vIG1zZy10eXBlXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IDA7IC8vIHBhZGRpbmdcbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IDA7IC8vIHBhZGRpbmdcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IDA7IC8vIHBhZGRpbmdcblxuICAgICAgICB2YXIgbiA9IHRleHQubGVuZ3RoO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSBuID4+IDI0O1xuICAgICAgICBidWZmW29mZnNldCArIDVdID0gbiA+PiAxNjtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA2XSA9IG4gPj4gODtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IG47XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOCArIGldID0gIHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDggKyBuO1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIHNldERlc2t0b3BTaXplOiBmdW5jdGlvbiAoc29jaywgd2lkdGgsIGhlaWdodCwgaWQsIGZsYWdzKSB7XG4gICAgICAgIHZhciBidWZmID0gc29jay5fc1E7XG4gICAgICAgIHZhciBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSAyNTE7ICAgICAgICAgICAgICAvLyBtc2ctdHlwZVxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gMDsgICAgICAgICAgICAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSB3aWR0aCA+PiA4OyAgIC8vIHdpZHRoXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSB3aWR0aDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9IGhlaWdodCA+PiA4OyAgLy8gaGVpZ2h0XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNV0gPSBoZWlnaHQ7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA2XSA9IDE7ICAgICAgICAgICAgLy8gbnVtYmVyLW9mLXNjcmVlbnNcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IDA7ICAgICAgICAgICAgLy8gcGFkZGluZ1xuXG4gICAgICAgIC8vIHNjcmVlbiBhcnJheVxuICAgICAgICBidWZmW29mZnNldCArIDhdID0gaWQgPj4gMjQ7ICAgICAvLyBpZFxuICAgICAgICBidWZmW29mZnNldCArIDldID0gaWQgPj4gMTY7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTBdID0gaWQgPj4gODtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxMV0gPSBpZDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxMl0gPSAwOyAgICAgICAgICAgLy8geC1wb3NpdGlvblxuICAgICAgICBidWZmW29mZnNldCArIDEzXSA9IDA7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTRdID0gMDsgICAgICAgICAgIC8vIHktcG9zaXRpb25cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxNV0gPSAwO1xuICAgICAgICBidWZmW29mZnNldCArIDE2XSA9IHdpZHRoID4+IDg7ICAvLyB3aWR0aFxuICAgICAgICBidWZmW29mZnNldCArIDE3XSA9IHdpZHRoO1xuICAgICAgICBidWZmW29mZnNldCArIDE4XSA9IGhlaWdodCA+PiA4OyAvLyBoZWlnaHRcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxOV0gPSBoZWlnaHQ7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMjBdID0gZmxhZ3MgPj4gMjQ7IC8vIGZsYWdzXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMjFdID0gZmxhZ3MgPj4gMTY7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMjJdID0gZmxhZ3MgPj4gODtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAyM10gPSBmbGFncztcblxuICAgICAgICBzb2NrLl9zUWxlbiArPSAyNDtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICBjbGllbnRGZW5jZTogZnVuY3Rpb24gKHNvY2ssIGZsYWdzLCBwYXlsb2FkKSB7XG4gICAgICAgIHZhciBidWZmID0gc29jay5fc1E7XG4gICAgICAgIHZhciBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSAyNDg7IC8vIG1zZy10eXBlXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IDA7IC8vIHBhZGRpbmdcbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IDA7IC8vIHBhZGRpbmdcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IDA7IC8vIHBhZGRpbmdcblxuICAgICAgICBidWZmW29mZnNldCArIDRdID0gZmxhZ3MgPj4gMjQ7IC8vIGZsYWdzXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNV0gPSBmbGFncyA+PiAxNjtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA2XSA9IGZsYWdzID4+IDg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgN10gPSBmbGFncztcblxuICAgICAgICB2YXIgbiA9IHBheWxvYWQubGVuZ3RoO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOF0gPSBuOyAvLyBsZW5ndGhcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgYnVmZltvZmZzZXQgKyA5ICsgaV0gPSBwYXlsb2FkLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cblxuICAgICAgICBzb2NrLl9zUWxlbiArPSA5ICsgbjtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICBlbmFibGVDb250aW51b3VzVXBkYXRlczogZnVuY3Rpb24gKHNvY2ssIGVuYWJsZSwgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gMTUwOyAgICAgICAgICAgICAvLyBtc2ctdHlwZVxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gZW5hYmxlOyAgICAgIC8vIGVuYWJsZS1mbGFnXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IHggPj4gODsgICAgICAvLyB4XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSB4O1xuICAgICAgICBidWZmW29mZnNldCArIDRdID0geSA+PiA4OyAgICAgIC8vIHlcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IHk7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNl0gPSB3aWR0aCA+PiA4OyAgLy8gd2lkdGhcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IHdpZHRoO1xuICAgICAgICBidWZmW29mZnNldCArIDhdID0gaGVpZ2h0ID4+IDg7IC8vIGhlaWdodFxuICAgICAgICBidWZmW29mZnNldCArIDldID0gaGVpZ2h0O1xuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDEwO1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIHBpeGVsRm9ybWF0OiBmdW5jdGlvbiAoc29jaywgZGVwdGgsIHRydWVfY29sb3IpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIHZhciBicHAsIGJpdHM7XG5cbiAgICAgICAgaWYgKGRlcHRoID4gMTYpIHtcbiAgICAgICAgICAgIGJwcCA9IDMyO1xuICAgICAgICB9IGVsc2UgaWYgKGRlcHRoID4gOCkge1xuICAgICAgICAgICAgYnBwID0gMTY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBicHAgPSA4O1xuICAgICAgICB9XG5cbiAgICAgICAgYml0cyA9IE1hdGguZmxvb3IoZGVwdGgvMyk7XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gMDsgIC8vIG1zZy10eXBlXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IDA7IC8vIHBhZGRpbmdcbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IDA7IC8vIHBhZGRpbmdcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IDA7IC8vIHBhZGRpbmdcblxuICAgICAgICBidWZmW29mZnNldCArIDRdID0gYnBwOyAgICAgICAgICAgICAgICAgLy8gYml0cy1wZXItcGl4ZWxcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IGRlcHRoOyAgICAgICAgICAgICAgIC8vIGRlcHRoXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNl0gPSAwOyAgICAgICAgICAgICAgICAgICAvLyBsaXR0bGUtZW5kaWFuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgN10gPSB0cnVlX2NvbG9yID8gMSA6IDA7ICAvLyB0cnVlLWNvbG9yXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA4XSA9IDA7ICAgIC8vIHJlZC1tYXhcbiAgICAgICAgYnVmZltvZmZzZXQgKyA5XSA9ICgxIDw8IGJpdHMpIC0gMTsgIC8vIHJlZC1tYXhcblxuICAgICAgICBidWZmW29mZnNldCArIDEwXSA9IDA7ICAgLy8gZ3JlZW4tbWF4XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTFdID0gKDEgPDwgYml0cykgLSAxOyAvLyBncmVlbi1tYXhcblxuICAgICAgICBidWZmW29mZnNldCArIDEyXSA9IDA7ICAgLy8gYmx1ZS1tYXhcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxM10gPSAoMSA8PCBiaXRzKSAtIDE7IC8vIGJsdWUtbWF4XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxNF0gPSBiaXRzICogMjsgLy8gcmVkLXNoaWZ0XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTVdID0gYml0cyAqIDE7IC8vIGdyZWVuLXNoaWZ0XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTZdID0gYml0cyAqIDA7IC8vIGJsdWUtc2hpZnRcblxuICAgICAgICBidWZmW29mZnNldCArIDE3XSA9IDA7ICAgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDE4XSA9IDA7ICAgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDE5XSA9IDA7ICAgLy8gcGFkZGluZ1xuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDIwO1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIGNsaWVudEVuY29kaW5nczogZnVuY3Rpb24gKHNvY2ssIGVuY29kaW5ncykge1xuICAgICAgICB2YXIgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gMjsgLy8gbXNnLXR5cGVcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IDA7IC8vIHBhZGRpbmdcblxuICAgICAgICBidWZmW29mZnNldCArIDJdID0gZW5jb2RpbmdzLmxlbmd0aCA+PiA4O1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0gZW5jb2RpbmdzLmxlbmd0aDtcblxuICAgICAgICB2YXIgaSwgaiA9IG9mZnNldCArIDQ7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBlbmNvZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbmMgPSBlbmNvZGluZ3NbaV07XG4gICAgICAgICAgICBidWZmW2pdID0gZW5jID4+IDI0O1xuICAgICAgICAgICAgYnVmZltqICsgMV0gPSBlbmMgPj4gMTY7XG4gICAgICAgICAgICBidWZmW2ogKyAyXSA9IGVuYyA+PiA4O1xuICAgICAgICAgICAgYnVmZltqICsgM10gPSBlbmM7XG5cbiAgICAgICAgICAgIGogKz0gNDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IGogLSBvZmZzZXQ7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgZmJVcGRhdGVSZXF1ZXN0OiBmdW5jdGlvbiAoc29jaywgaW5jcmVtZW50YWwsIHgsIHksIHcsIGgpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGlmICh0eXBlb2YoeCkgPT09IFwidW5kZWZpbmVkXCIpIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHR5cGVvZih5KSA9PT0gXCJ1bmRlZmluZWRcIikgeyB5ID0gMDsgfVxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDM7ICAvLyBtc2ctdHlwZVxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gaW5jcmVtZW50YWwgPyAxIDogMDtcblxuICAgICAgICBidWZmW29mZnNldCArIDJdID0gKHggPj4gOCkgJiAweEZGO1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0geCAmIDB4RkY7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9ICh5ID4+IDgpICYgMHhGRjtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IHkgJiAweEZGO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNl0gPSAodyA+PiA4KSAmIDB4RkY7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgN10gPSB3ICYgMHhGRjtcblxuICAgICAgICBidWZmW29mZnNldCArIDhdID0gKGggPj4gOCkgJiAweEZGO1xuICAgICAgICBidWZmW29mZnNldCArIDldID0gaCAmIDB4RkY7XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gMTA7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgeHZwT3A6IGZ1bmN0aW9uIChzb2NrLCB2ZXIsIG9wKSB7XG4gICAgICAgIHZhciBidWZmID0gc29jay5fc1E7XG4gICAgICAgIHZhciBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSAyNTA7IC8vIG1zZy10eXBlXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSAwOyAvLyBwYWRkaW5nXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IHZlcjtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IG9wO1xuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDQ7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxufTtcblxuUkZCLmdlbkRFUyA9IGZ1bmN0aW9uIChwYXNzd29yZCwgY2hhbGxlbmdlKSB7XG4gICAgdmFyIHBhc3N3ZCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFzc3dvcmQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGFzc3dkLnB1c2gocGFzc3dvcmQuY2hhckNvZGVBdChpKSk7XG4gICAgfVxuICAgIHJldHVybiAobmV3IERFUyhwYXNzd2QpKS5lbmNyeXB0KGNoYWxsZW5nZSk7XG59O1xuXG5SRkIuZW5jb2RpbmdIYW5kbGVycyA9IHtcbiAgICBSQVc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX0ZCVS5saW5lcyA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fRkJVLmxpbmVzID0gdGhpcy5fRkJVLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwaXhlbFNpemUgPSB0aGlzLl9mYl9kZXB0aCA9PSA4ID8gMSA6IDQ7XG4gICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IHRoaXMuX0ZCVS53aWR0aCAqIHBpeGVsU2l6ZTsgIC8vIGF0IGxlYXN0IGEgbGluZVxuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJSQVdcIiwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgdmFyIGN1cl95ID0gdGhpcy5fRkJVLnkgKyAodGhpcy5fRkJVLmhlaWdodCAtIHRoaXMuX0ZCVS5saW5lcyk7XG4gICAgICAgIHZhciBjdXJyX2hlaWdodCA9IE1hdGgubWluKHRoaXMuX0ZCVS5saW5lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcih0aGlzLl9zb2NrLnJRbGVuKCkgLyAodGhpcy5fRkJVLndpZHRoICogcGl4ZWxTaXplKSkpO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX3NvY2suZ2V0X3JRKCk7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3NvY2suZ2V0X3JRaSgpO1xuICAgICAgICBpZiAodGhpcy5fZmJfZGVwdGggPT0gOCkge1xuICAgICAgICAgICAgdmFyIHBpeGVscyA9IHRoaXMuX0ZCVS53aWR0aCAqIGN1cnJfaGVpZ2h0XG4gICAgICAgICAgICB2YXIgbmV3ZGF0YSA9IG5ldyBVaW50OEFycmF5KHBpeGVscyAqIDQpO1xuICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwO2kgPCBwaXhlbHM7aSsrKSB7XG4gICAgICAgICAgICAgICAgbmV3ZGF0YVtpICogNCArIDBdID0gKChkYXRhW2luZGV4ICsgaV0gPj4gMCkgJiAweDMpICogMjU1IC8gMztcbiAgICAgICAgICAgICAgICBuZXdkYXRhW2kgKiA0ICsgMV0gPSAoKGRhdGFbaW5kZXggKyBpXSA+PiAyKSAmIDB4MykgKiAyNTUgLyAzO1xuICAgICAgICAgICAgICAgIG5ld2RhdGFbaSAqIDQgKyAyXSA9ICgoZGF0YVtpbmRleCArIGldID4+IDQpICYgMHgzKSAqIDI1NSAvIDM7XG4gICAgICAgICAgICAgICAgbmV3ZGF0YVtpICogNCArIDRdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEgPSBuZXdkYXRhO1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Rpc3BsYXkuYmxpdEltYWdlKHRoaXMuX0ZCVS54LCBjdXJfeSwgdGhpcy5fRkJVLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyX2hlaWdodCwgZGF0YSwgaW5kZXgpO1xuICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKHRoaXMuX0ZCVS53aWR0aCAqIGN1cnJfaGVpZ2h0ICogcGl4ZWxTaXplKTtcbiAgICAgICAgdGhpcy5fRkJVLmxpbmVzIC09IGN1cnJfaGVpZ2h0O1xuXG4gICAgICAgIGlmICh0aGlzLl9GQlUubGluZXMgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSB0aGlzLl9GQlUud2lkdGggKiBwaXhlbFNpemU7ICAvLyBBdCBsZWFzdCBhbm90aGVyIGxpbmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5yZWN0cy0tO1xuICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBDT1BZUkVDVDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSA0O1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJDT1BZUkVDVFwiLCA0KSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5fZGlzcGxheS5jb3B5SW1hZ2UodGhpcy5fc29jay5yUXNoaWZ0MTYoKSwgdGhpcy5fc29jay5yUXNoaWZ0MTYoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLngsIHRoaXMuX0ZCVS55LCB0aGlzLl9GQlUud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuX0ZCVS5yZWN0cy0tO1xuICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAwO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgUlJFOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb2xvcjtcbiAgICAgICAgaWYgKHRoaXMuX0ZCVS5zdWJyZWN0cyA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gNCArIDQ7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJSUkVcIiwgNCArIDQpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgdGhpcy5fRkJVLnN1YnJlY3RzID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcbiAgICAgICAgICAgIGNvbG9yID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoNCk7ICAvLyBCYWNrZ3JvdW5kXG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmZpbGxSZWN0KHRoaXMuX0ZCVS54LCB0aGlzLl9GQlUueSwgdGhpcy5fRkJVLndpZHRoLCB0aGlzLl9GQlUuaGVpZ2h0LCBjb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodGhpcy5fRkJVLnN1YnJlY3RzID4gMCAmJiB0aGlzLl9zb2NrLnJRbGVuKCkgPj0gKDQgKyA4KSkge1xuICAgICAgICAgICAgY29sb3IgPSB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyg0KTtcbiAgICAgICAgICAgIHZhciB4ID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgICAgIHZhciB5ID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuZmlsbFJlY3QodGhpcy5fRkJVLnggKyB4LCB0aGlzLl9GQlUueSArIHksIHdpZHRoLCBoZWlnaHQsIGNvbG9yKTtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5zdWJyZWN0cy0tO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX0ZCVS5zdWJyZWN0cyA+IDApIHtcbiAgICAgICAgICAgIHZhciBjaHVuayA9IE1hdGgubWluKHRoaXMuX3JyZV9jaHVua19zeiwgdGhpcy5fRkJVLnN1YnJlY3RzKTtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9ICg0ICsgOCkgKiBjaHVuaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5yZWN0cy0tO1xuICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBIRVhUSUxFOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByUSA9IHRoaXMuX3NvY2suZ2V0X3JRKCk7XG4gICAgICAgIHZhciByUWkgPSB0aGlzLl9zb2NrLmdldF9yUWkoKTtcblxuICAgICAgICBpZiAodGhpcy5fRkJVLnRpbGVzID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9GQlUudGlsZXNfeCA9IE1hdGguY2VpbCh0aGlzLl9GQlUud2lkdGggLyAxNik7XG4gICAgICAgICAgICB0aGlzLl9GQlUudGlsZXNfeSA9IE1hdGguY2VpbCh0aGlzLl9GQlUuaGVpZ2h0IC8gMTYpO1xuICAgICAgICAgICAgdGhpcy5fRkJVLnRvdGFsX3RpbGVzID0gdGhpcy5fRkJVLnRpbGVzX3ggKiB0aGlzLl9GQlUudGlsZXNfeTtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS50aWxlcyA9IHRoaXMuX0ZCVS50b3RhbF90aWxlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh0aGlzLl9GQlUudGlsZXMgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiSEVYVElMRSBzdWJlbmNvZGluZ1wiLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgdmFyIHN1YmVuY29kaW5nID0gclFbclFpXTsgIC8vIFBlZWtcbiAgICAgICAgICAgIGlmIChzdWJlbmNvZGluZyA+IDMwKSB7ICAvLyBSYXdcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiSWxsZWdhbCBoZXh0aWxlIHN1YmVuY29kaW5nIChzdWJlbmNvZGluZzogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViZW5jb2RpbmcgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc3VicmVjdHMgPSAwO1xuICAgICAgICAgICAgdmFyIGN1cnJfdGlsZSA9IHRoaXMuX0ZCVS50b3RhbF90aWxlcyAtIHRoaXMuX0ZCVS50aWxlcztcbiAgICAgICAgICAgIHZhciB0aWxlX3ggPSBjdXJyX3RpbGUgJSB0aGlzLl9GQlUudGlsZXNfeDtcbiAgICAgICAgICAgIHZhciB0aWxlX3kgPSBNYXRoLmZsb29yKGN1cnJfdGlsZSAvIHRoaXMuX0ZCVS50aWxlc194KTtcbiAgICAgICAgICAgIHZhciB4ID0gdGhpcy5fRkJVLnggKyB0aWxlX3ggKiAxNjtcbiAgICAgICAgICAgIHZhciB5ID0gdGhpcy5fRkJVLnkgKyB0aWxlX3kgKiAxNjtcbiAgICAgICAgICAgIHZhciB3ID0gTWF0aC5taW4oMTYsICh0aGlzLl9GQlUueCArIHRoaXMuX0ZCVS53aWR0aCkgLSB4KTtcbiAgICAgICAgICAgIHZhciBoID0gTWF0aC5taW4oMTYsICh0aGlzLl9GQlUueSArIHRoaXMuX0ZCVS5oZWlnaHQpIC0geSk7XG5cbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgaG93IG11Y2ggd2UgYXJlIGV4cGVjdGluZ1xuICAgICAgICAgICAgaWYgKHN1YmVuY29kaW5nICYgMHgwMSkgeyAgLy8gUmF3XG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzICs9IHcgKiBoICogNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1YmVuY29kaW5nICYgMHgwMikgeyAgLy8gQmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgKz0gNDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN1YmVuY29kaW5nICYgMHgwNCkgeyAgLy8gRm9yZWdyb3VuZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgKz0gNDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN1YmVuY29kaW5nICYgMHgwOCkgeyAgLy8gQW55U3VicmVjdHNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzKys7ICAvLyBTaW5jZSB3ZSBhcmVuJ3Qgc2hpZnRpbmcgaXQgb2ZmXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcImhleHRpbGUgc3VicmVjdHMgaGVhZGVyXCIsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICAgICAgICAgIHN1YnJlY3RzID0gclFbclFpICsgdGhpcy5fRkJVLmJ5dGVzIC0gMV07ICAvLyBQZWVrXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJlbmNvZGluZyAmIDB4MTApIHsgIC8vIFN1YnJlY3RzQ29sb3VyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyArPSBzdWJyZWN0cyAqICg0ICsgMik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgKz0gc3VicmVjdHMgKiAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJoZXh0aWxlXCIsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgICAgIC8vIFdlIGtub3cgdGhlIGVuY29kaW5nIGFuZCBoYXZlIGEgd2hvbGUgdGlsZVxuICAgICAgICAgICAgdGhpcy5fRkJVLnN1YmVuY29kaW5nID0gclFbclFpXTtcbiAgICAgICAgICAgIHJRaSsrO1xuICAgICAgICAgICAgaWYgKHRoaXMuX0ZCVS5zdWJlbmNvZGluZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9GQlUubGFzdHN1YmVuY29kaW5nICYgMHgwMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZWlyZDogaWdub3JlIGJsYW5rcyBhcmUgUkFXXG4gICAgICAgICAgICAgICAgICAgIExvZy5EZWJ1ZyhcIiAgICAgSWdub3JpbmcgYmxhbmsgYWZ0ZXIgUkFXXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuZmlsbFJlY3QoeCwgeSwgdywgaCwgdGhpcy5fRkJVLmJhY2tncm91bmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fRkJVLnN1YmVuY29kaW5nICYgMHgwMSkgeyAgLy8gUmF3XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5ibGl0SW1hZ2UoeCwgeSwgdywgaCwgclEsIHJRaSk7XG4gICAgICAgICAgICAgICAgclFpICs9IHRoaXMuX0ZCVS5ieXRlcyAtIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9GQlUuc3ViZW5jb2RpbmcgJiAweDAyKSB7ICAvLyBCYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5iYWNrZ3JvdW5kID0gW3JRW3JRaV0sIHJRW3JRaSArIDFdLCByUVtyUWkgKyAyXSwgclFbclFpICsgM11dO1xuICAgICAgICAgICAgICAgICAgICByUWkgKz0gNDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX0ZCVS5zdWJlbmNvZGluZyAmIDB4MDQpIHsgIC8vIEZvcmVncm91bmRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLmZvcmVncm91bmQgPSBbclFbclFpXSwgclFbclFpICsgMV0sIHJRW3JRaSArIDJdLCByUVtyUWkgKyAzXV07XG4gICAgICAgICAgICAgICAgICAgIHJRaSArPSA0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuc3RhcnRUaWxlKHgsIHksIHcsIGgsIHRoaXMuX0ZCVS5iYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fRkJVLnN1YmVuY29kaW5nICYgMHgwOCkgeyAgLy8gQW55U3VicmVjdHNcbiAgICAgICAgICAgICAgICAgICAgc3VicmVjdHMgPSByUVtyUWldO1xuICAgICAgICAgICAgICAgICAgICByUWkrKztcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHN1YnJlY3RzOyBzKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9GQlUuc3ViZW5jb2RpbmcgJiAweDEwKSB7ICAvLyBTdWJyZWN0c0NvbG91cmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBbclFbclFpXSwgclFbclFpICsgMV0sIHJRW3JRaSArIDJdLCByUVtyUWkgKyAzXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclFpICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yID0gdGhpcy5fRkJVLmZvcmVncm91bmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeHkgPSByUVtyUWldO1xuICAgICAgICAgICAgICAgICAgICAgICAgclFpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ggPSAoeHkgPj4gNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3kgPSAoeHkgJiAweDBmKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdoID0gclFbclFpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJRaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN3ID0gKHdoID4+IDQpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaCA9ICh3aCAmIDB4MGYpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5zdWJUaWxlKHN4LCBzeSwgc3csIHNoLCBjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5maW5pc2hUaWxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zb2NrLnNldF9yUWkoclFpKTtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5sYXN0c3ViZW5jb2RpbmcgPSB0aGlzLl9GQlUuc3ViZW5jb2Rpbmc7XG4gICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAwO1xuICAgICAgICAgICAgdGhpcy5fRkJVLnRpbGVzLS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fRkJVLnRpbGVzID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9GQlUucmVjdHMtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBUSUdIVDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAxOyAgLy8gY29tcHJlc3Npb24tY29udHJvbCBieXRlXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlRJR0hUIGNvbXByZXNzaW9uLWNvbnRyb2xcIiwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICB2YXIgY2hlY2tzdW0gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzdW0gKz0gZGF0YVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoc3VtID4gNjU1MzYpIHN1bSAtPSA2NTUzNjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdW07XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlc2V0U3RyZWFtcyA9IDA7XG4gICAgICAgIHZhciBzdHJlYW1JZCA9IC0xO1xuICAgICAgICB2YXIgZGVjb21wcmVzcyA9IGZ1bmN0aW9uIChkYXRhLCBleHBlY3RlZCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoKHJlc2V0U3RyZWFtcyA+PiBpKSAmIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLnpsaWJzW2ldLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIExvZy5JbmZvKFwiUmVzZXQgemxpYiBzdHJlYW0gXCIgKyBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vdmFyIHVuY29tcHJlc3NlZCA9IHRoaXMuX0ZCVS56bGlic1tzdHJlYW1JZF0udW5jb21wcmVzcyhkYXRhLCAwKTtcbiAgICAgICAgICAgIHZhciB1bmNvbXByZXNzZWQgPSB0aGlzLl9GQlUuemxpYnNbc3RyZWFtSWRdLmluZmxhdGUoZGF0YSwgdHJ1ZSwgZXhwZWN0ZWQpO1xuICAgICAgICAgICAgLyppZiAodW5jb21wcmVzc2VkLnN0YXR1cyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkludmFsaWQgZGF0YSBpbiB6bGliIHN0cmVhbVwiKTtcbiAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAvL3JldHVybiB1bmNvbXByZXNzZWQuZGF0YTtcbiAgICAgICAgICAgIHJldHVybiB1bmNvbXByZXNzZWQ7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICB2YXIgaW5kZXhlZFRvUkdCWDJDb2xvciA9IGZ1bmN0aW9uIChkYXRhLCBwYWxldHRlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IGluZGV4ZWQgKHBhbGV0dGUgYmFzZWQpIGltYWdlIGRhdGEgdG8gUkdCXG4gICAgICAgICAgICAvLyBUT0RPOiByZWR1Y2UgbnVtYmVyIG9mIGNhbGN1bGF0aW9ucyBpbnNpZGUgbG9vcFxuICAgICAgICAgICAgdmFyIGRlc3QgPSB0aGlzLl9kZXN0QnVmZjtcbiAgICAgICAgICAgIHZhciB3ID0gTWF0aC5mbG9vcigod2lkdGggKyA3KSAvIDgpO1xuICAgICAgICAgICAgdmFyIHcxID0gTWF0aC5mbG9vcih3aWR0aCAvIDgpO1xuXG4gICAgICAgICAgICAvKmZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYiwgeCwgZHAsIHNwO1xuICAgICAgICAgICAgICAgIHZhciB5b2Zmc2V0ID0geSAqIHdpZHRoO1xuICAgICAgICAgICAgICAgIHZhciB5Yml0b2Zmc2V0ID0geSAqIHc7XG4gICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQsIHRhcmdldGJ5dGU7XG4gICAgICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHcxOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgeG9mZnNldCA9IHlvZmZzZXQgKyB4ICogODtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Ynl0ZSA9IGRhdGFbeWJpdG9mZnNldCArIHhdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGIgPSA3OyBiID49IDA7IGItLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHAgPSAoeG9mZnNldCArIDcgLSBiKSAqIDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcCA9ICh0YXJnZXRieXRlID4+IGIgJiAxKSAqIDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0W2RwXSA9IHBhbGV0dGVbc3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFtkcCArIDFdID0gcGFsZXR0ZVtzcCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFtkcCArIDJdID0gcGFsZXR0ZVtzcCArIDJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgeG9mZnNldCA9IHlvZmZzZXQgKyB4ICogODtcbiAgICAgICAgICAgICAgICB0YXJnZXRieXRlID0gZGF0YVt5Yml0b2Zmc2V0ICsgeF07XG4gICAgICAgICAgICAgICAgZm9yIChiID0gNzsgYiA+PSA4IC0gd2lkdGggJSA4OyBiLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgZHAgPSAoeG9mZnNldCArIDcgLSBiKSAqIDM7XG4gICAgICAgICAgICAgICAgICAgIHNwID0gKHRhcmdldGJ5dGUgPj4gYiAmIDEpICogMztcbiAgICAgICAgICAgICAgICAgICAgZGVzdFtkcF0gPSBwYWxldHRlW3NwXTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdFtkcCArIDFdID0gcGFsZXR0ZVtzcCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBkZXN0W2RwICsgMl0gPSBwYWxldHRlW3NwICsgMl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYiwgeCwgZHAsIHNwO1xuICAgICAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCB3MTsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoYiA9IDc7IGIgPj0gMDsgYi0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcCA9ICh5ICogd2lkdGggKyB4ICogOCArIDcgLSBiKSAqIDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcCA9IChkYXRhW3kgKiB3ICsgeF0gPj4gYiAmIDEpICogMztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RbZHBdID0gcGFsZXR0ZVtzcF07XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0W2RwICsgMV0gPSBwYWxldHRlW3NwICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0W2RwICsgMl0gPSBwYWxldHRlW3NwICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0W2RwICsgM10gPSAyNTU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGIgPSA3OyBiID49IDggLSB3aWR0aCAlIDg7IGItLSkge1xuICAgICAgICAgICAgICAgICAgICBkcCA9ICh5ICogd2lkdGggKyB4ICogOCArIDcgLSBiKSAqIDQ7XG4gICAgICAgICAgICAgICAgICAgIHNwID0gKGRhdGFbeSAqIHcgKyB4XSA+PiBiICYgMSkgKiAzO1xuICAgICAgICAgICAgICAgICAgICBkZXN0W2RwXSA9IHBhbGV0dGVbc3BdO1xuICAgICAgICAgICAgICAgICAgICBkZXN0W2RwICsgMV0gPSBwYWxldHRlW3NwICsgMV07XG4gICAgICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAyXSA9IHBhbGV0dGVbc3AgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdFtkcCArIDNdID0gMjU1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlc3Q7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICB2YXIgaW5kZXhlZFRvUkdCWCA9IGZ1bmN0aW9uIChkYXRhLCBwYWxldHRlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IGluZGV4ZWQgKHBhbGV0dGUgYmFzZWQpIGltYWdlIGRhdGEgdG8gUkdCXG4gICAgICAgICAgICB2YXIgZGVzdCA9IHRoaXMuX2Rlc3RCdWZmO1xuICAgICAgICAgICAgdmFyIHRvdGFsID0gd2lkdGggKiBoZWlnaHQgKiA0O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWw7IGkgKz0gNCwgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNwID0gZGF0YVtqXSAqIDM7XG4gICAgICAgICAgICAgICAgZGVzdFtpXSA9IHBhbGV0dGVbc3BdO1xuICAgICAgICAgICAgICAgIGRlc3RbaSArIDFdID0gcGFsZXR0ZVtzcCArIDFdO1xuICAgICAgICAgICAgICAgIGRlc3RbaSArIDJdID0gcGFsZXR0ZVtzcCArIDJdO1xuICAgICAgICAgICAgICAgIGRlc3RbaSArIDNdID0gMjU1O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGVzdDtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHZhciByUWkgPSB0aGlzLl9zb2NrLmdldF9yUWkoKTtcbiAgICAgICAgdmFyIHJRID0gdGhpcy5fc29jay5yUXdob2xlKCk7XG4gICAgICAgIHZhciBjbW9kZSwgZGF0YTtcbiAgICAgICAgdmFyIGNsX2hlYWRlciwgY2xfZGF0YTtcblxuICAgICAgICB2YXIgaGFuZGxlUGFsZXR0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBudW1Db2xvcnMgPSByUVtyUWkgKyAyXSArIDE7XG4gICAgICAgICAgICB2YXIgcGFsZXR0ZVNpemUgPSBudW1Db2xvcnMgKiAzO1xuICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzICs9IHBhbGV0dGVTaXplO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiVElHSFQgcGFsZXR0ZSBcIiArIGNtb2RlLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICB2YXIgYnBwID0gKG51bUNvbG9ycyA8PSAyKSA/IDEgOiA4O1xuICAgICAgICAgICAgdmFyIHJvd1NpemUgPSBNYXRoLmZsb29yKCh0aGlzLl9GQlUud2lkdGggKiBicHAgKyA3KSAvIDgpO1xuICAgICAgICAgICAgdmFyIHJhdyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHJvd1NpemUgKiB0aGlzLl9GQlUuaGVpZ2h0IDwgMTIpIHtcbiAgICAgICAgICAgICAgICByYXcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNsX2hlYWRlciA9IDA7XG4gICAgICAgICAgICAgICAgY2xfZGF0YSA9IHJvd1NpemUgKiB0aGlzLl9GQlUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIC8vY2xlbmd0aCA9IFswLCByb3dTaXplICogdGhpcy5fRkJVLmhlaWdodF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGJlZ2luIGlubGluZSBnZXRUaWdodENMZW5ndGggKHJldHVybmluZyB0d28taXRlbSBhcnJheXMgaXMgYmFkIGZvciBwZXJmb3JtYW5jZSB3aXRoIEdDKVxuICAgICAgICAgICAgICAgIHZhciBjbF9vZmZzZXQgPSByUWkgKyAzICsgcGFsZXR0ZVNpemU7XG4gICAgICAgICAgICAgICAgY2xfaGVhZGVyID0gMTtcbiAgICAgICAgICAgICAgICBjbF9kYXRhID0gMDtcbiAgICAgICAgICAgICAgICBjbF9kYXRhICs9IHJRW2NsX29mZnNldF0gJiAweDdmO1xuICAgICAgICAgICAgICAgIGlmIChyUVtjbF9vZmZzZXRdICYgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICBjbF9oZWFkZXIrKztcbiAgICAgICAgICAgICAgICAgICAgY2xfZGF0YSArPSAoclFbY2xfb2Zmc2V0ICsgMV0gJiAweDdmKSA8PCA3O1xuICAgICAgICAgICAgICAgICAgICBpZiAoclFbY2xfb2Zmc2V0ICsgMV0gJiAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbF9oZWFkZXIrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsX2RhdGEgKz0gclFbY2xfb2Zmc2V0ICsgMl0gPDwgMTQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZW5kIGlubGluZSBnZXRUaWdodENMZW5ndGhcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzICs9IGNsX2hlYWRlciArIGNsX2RhdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJUSUdIVCBcIiArIGNtb2RlLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICAvLyBTaGlmdCBjdGwsIGZpbHRlciBpZCwgbnVtIGNvbG9ycywgcGFsZXR0ZSBlbnRyaWVzLCBhbmQgY2xlbmd0aCBvZmZcbiAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMyk7XG4gICAgICAgICAgICAvL3ZhciBwYWxldHRlID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMocGFsZXR0ZVNpemUpO1xuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNoaWZ0VG8odGhpcy5fcGFsZXR0ZUJ1ZmYsIHBhbGV0dGVTaXplKTtcbiAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoY2xfaGVhZGVyKTtcblxuICAgICAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyhjbF9kYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRlY29tcHJlc3ModGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoY2xfZGF0YSksIHJvd1NpemUgKiB0aGlzLl9GQlUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ29udmVydCBpbmRleGVkIChwYWxldHRlIGJhc2VkKSBpbWFnZSBkYXRhIHRvIFJHQlxuICAgICAgICAgICAgdmFyIHJnYng7XG4gICAgICAgICAgICBpZiAobnVtQ29sb3JzID09IDIpIHtcbiAgICAgICAgICAgICAgICByZ2J4ID0gaW5kZXhlZFRvUkdCWDJDb2xvcihkYXRhLCB0aGlzLl9wYWxldHRlQnVmZiwgdGhpcy5fRkJVLndpZHRoLCB0aGlzLl9GQlUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmJsaXRSZ2J4SW1hZ2UodGhpcy5fRkJVLngsIHRoaXMuX0ZCVS55LCB0aGlzLl9GQlUud2lkdGgsIHRoaXMuX0ZCVS5oZWlnaHQsIHJnYngsIDAsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmdieCA9IGluZGV4ZWRUb1JHQlgoZGF0YSwgdGhpcy5fcGFsZXR0ZUJ1ZmYsIHRoaXMuX0ZCVS53aWR0aCwgdGhpcy5fRkJVLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5ibGl0UmdieEltYWdlKHRoaXMuX0ZCVS54LCB0aGlzLl9GQlUueSwgdGhpcy5fRkJVLndpZHRoLCB0aGlzLl9GQlUuaGVpZ2h0LCByZ2J4LCAwLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICB2YXIgaGFuZGxlQ29weSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByYXcgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciB1bmNvbXByZXNzZWRTaXplID0gdGhpcy5fRkJVLndpZHRoICogdGhpcy5fRkJVLmhlaWdodCAqIDM7XG4gICAgICAgICAgICBpZiAodW5jb21wcmVzc2VkU2l6ZSA8IDEyKSB7XG4gICAgICAgICAgICAgICAgcmF3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjbF9oZWFkZXIgPSAwO1xuICAgICAgICAgICAgICAgIGNsX2RhdGEgPSB1bmNvbXByZXNzZWRTaXplO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBiZWdpbiBpbmxpbmUgZ2V0VGlnaHRDTGVuZ3RoIChyZXR1cm5pbmcgdHdvLWl0ZW0gYXJyYXlzIGlzIGZvciBwZWZvcm1hbmNlIHdpdGggR0MpXG4gICAgICAgICAgICAgICAgdmFyIGNsX29mZnNldCA9IHJRaSArIDE7XG4gICAgICAgICAgICAgICAgY2xfaGVhZGVyID0gMTtcbiAgICAgICAgICAgICAgICBjbF9kYXRhID0gMDtcbiAgICAgICAgICAgICAgICBjbF9kYXRhICs9IHJRW2NsX29mZnNldF0gJiAweDdmO1xuICAgICAgICAgICAgICAgIGlmIChyUVtjbF9vZmZzZXRdICYgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICBjbF9oZWFkZXIrKztcbiAgICAgICAgICAgICAgICAgICAgY2xfZGF0YSArPSAoclFbY2xfb2Zmc2V0ICsgMV0gJiAweDdmKSA8PCA3O1xuICAgICAgICAgICAgICAgICAgICBpZiAoclFbY2xfb2Zmc2V0ICsgMV0gJiAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbF9oZWFkZXIrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsX2RhdGEgKz0gclFbY2xfb2Zmc2V0ICsgMl0gPDwgMTQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZW5kIGlubGluZSBnZXRUaWdodENMZW5ndGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDEgKyBjbF9oZWFkZXIgKyBjbF9kYXRhO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiVElHSFQgXCIgKyBjbW9kZSwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgICAgLy8gU2hpZnQgY3RsLCBjbGVuZ3RoIG9mZlxuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoMSArIGNsX2hlYWRlcik7XG5cbiAgICAgICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoY2xfZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBkZWNvbXByZXNzKHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKGNsX2RhdGEpLCB1bmNvbXByZXNzZWRTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5ibGl0UmdiSW1hZ2UodGhpcy5fRkJVLngsIHRoaXMuX0ZCVS55LCB0aGlzLl9GQlUud2lkdGgsIHRoaXMuX0ZCVS5oZWlnaHQsIGRhdGEsIDAsIGZhbHNlKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICB2YXIgY3RsID0gdGhpcy5fc29jay5yUXBlZWs4KCk7XG5cbiAgICAgICAgLy8gS2VlcCB0aWdodCByZXNldCBiaXRzXG4gICAgICAgIHJlc2V0U3RyZWFtcyA9IGN0bCAmIDB4RjtcblxuICAgICAgICAvLyBGaWd1cmUgb3V0IGZpbHRlclxuICAgICAgICBjdGwgPSBjdGwgPj4gNDtcbiAgICAgICAgc3RyZWFtSWQgPSBjdGwgJiAweDM7XG5cbiAgICAgICAgaWYgKGN0bCA9PT0gMHgwOCkgICAgICAgY21vZGUgPSBcImZpbGxcIjtcbiAgICAgICAgZWxzZSBpZiAoY3RsID09PSAweDA5KSAgY21vZGUgPSBcImpwZWdcIjtcbiAgICAgICAgZWxzZSBpZiAoY3RsID09PSAweDBBKSAgY21vZGUgPSBcInBuZ1wiO1xuICAgICAgICBlbHNlIGlmIChjdGwgJiAweDA0KSAgICBjbW9kZSA9IFwiZmlsdGVyXCI7XG4gICAgICAgIGVsc2UgaWYgKGN0bCA8IDB4MDQpICAgIGNtb2RlID0gXCJjb3B5XCI7XG4gICAgICAgIGVsc2UgcmV0dXJuIHRoaXMuX2ZhaWwoXCJJbGxlZ2FsIHRpZ2h0IGNvbXByZXNzaW9uIHJlY2VpdmVkIChjdGw6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGwgKyBcIilcIik7XG5cbiAgICAgICAgc3dpdGNoIChjbW9kZSkge1xuICAgICAgICAgICAgLy8gZmlsbCB1c2UgZGVwdGggYmVjYXVzZSBUUElYRUxzIGRyb3AgdGhlIHBhZGRpbmcgYnl0ZVxuICAgICAgICAgICAgY2FzZSBcImZpbGxcIjogIC8vIFRQSVhFTFxuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyArPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImpwZWdcIjogIC8vIG1heCBjbGVuZ3RoXG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzICs9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicG5nXCI6ICAvLyBtYXggY2xlbmd0aFxuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyArPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZpbHRlclwiOiAgLy8gZmlsdGVyIGlkICsgbnVtIGNvbG9ycyBpZiBwYWxldHRlXG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzICs9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY29weVwiOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiVElHSFQgXCIgKyBjbW9kZSwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgRkJVLmJ5dGVzXG4gICAgICAgIHN3aXRjaCAoY21vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJmaWxsXCI6XG4gICAgICAgICAgICAgICAgLy8gc2tpcCBjdGwgYnl0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuZmlsbFJlY3QodGhpcy5fRkJVLngsIHRoaXMuX0ZCVS55LCB0aGlzLl9GQlUud2lkdGgsIHRoaXMuX0ZCVS5oZWlnaHQsIFtyUVtyUWkgKyAzXSwgclFbclFpICsgMl0sIHJRW3JRaSArIDFdXSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoNCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicG5nXCI6XG4gICAgICAgICAgICBjYXNlIFwianBlZ1wiOlxuICAgICAgICAgICAgICAgIC8vIGJlZ2luIGlubGluZSBnZXRUaWdodENMZW5ndGggKHJldHVybmluZyB0d28taXRlbSBhcnJheXMgaXMgZm9yIHBlZm9ybWFuY2Ugd2l0aCBHQylcbiAgICAgICAgICAgICAgICB2YXIgY2xfb2Zmc2V0ID0gclFpICsgMTtcbiAgICAgICAgICAgICAgICBjbF9oZWFkZXIgPSAxO1xuICAgICAgICAgICAgICAgIGNsX2RhdGEgPSAwO1xuICAgICAgICAgICAgICAgIGNsX2RhdGEgKz0gclFbY2xfb2Zmc2V0XSAmIDB4N2Y7XG4gICAgICAgICAgICAgICAgaWYgKHJRW2NsX29mZnNldF0gJiAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsX2hlYWRlcisrO1xuICAgICAgICAgICAgICAgICAgICBjbF9kYXRhICs9IChyUVtjbF9vZmZzZXQgKyAxXSAmIDB4N2YpIDw8IDc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyUVtjbF9vZmZzZXQgKyAxXSAmIDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsX2hlYWRlcisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xfZGF0YSArPSByUVtjbF9vZmZzZXQgKyAyXSA8PCAxNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlbmQgaW5saW5lIGdldFRpZ2h0Q0xlbmd0aFxuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDEgKyBjbF9oZWFkZXIgKyBjbF9kYXRhOyAgLy8gY3RsICsgY2xlbmd0aCBzaXplICsganBlZy1kYXRhXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiVElHSFQgXCIgKyBjbW9kZSwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgZXZlcnl0aGluZywgcmVuZGVyIGl0XG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygxICsgY2xfaGVhZGVyKTsgIC8vIHNoaWZ0IG9mZiBjbHQgKyBjb21wYWN0IGxlbmd0aFxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyhjbF9kYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmltYWdlUmVjdCh0aGlzLl9GQlUueCwgdGhpcy5fRkJVLnksIFwiaW1hZ2UvXCIgKyBjbW9kZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZmlsdGVyXCI6XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlcklkID0gclFbclFpICsgMV07XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcklkID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFuZGxlUGFsZXR0ZSgpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbHRlciAwLCBDb3B5IGNvdWxkIGJlIHZhbGlkIGhlcmUsIGJ1dCBzZXJ2ZXJzIGRvbid0IHNlbmQgaXQgYXMgYW4gZXhwbGljaXQgZmlsdGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbHRlciAyLCBHcmFkaWVudCBpcyB2YWxpZCBidXQgbm90IHVzZSBpZiBqcGVnIGlzIGVuYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIlVuc3VwcG9ydGVkIHRpZ2h0IHN1YmVuY29kaW5nIHJlY2VpdmVkIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIihmaWx0ZXI6IFwiICsgZmlsdGVySWQgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvcHlcIjpcbiAgICAgICAgICAgICAgICBpZiAoIWhhbmRsZUNvcHkoKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMDtcbiAgICAgICAgdGhpcy5fRkJVLnJlY3RzLS07XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIGxhc3RfcmVjdDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9GQlUucmVjdHMgPSAwO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgRXh0ZW5kZWREZXNrdG9wU2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAxO1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJFeHRlbmRlZERlc2t0b3BTaXplXCIsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgdmFyIGZpcnN0VXBkYXRlID0gIXRoaXMuX3N1cHBvcnRzU2V0RGVza3RvcFNpemU7XG4gICAgICAgIHRoaXMuX3N1cHBvcnRzU2V0RGVza3RvcFNpemUgPSB0cnVlO1xuXG4gICAgICAgIC8vIE5vcm1hbGx5IHdlIG9ubHkgYXBwbHkgdGhlIGN1cnJlbnQgcmVzaXplIG1vZGUgYWZ0ZXIgYVxuICAgICAgICAvLyB3aW5kb3cgcmVzaXplIGV2ZW50LiBIb3dldmVyIHRoZXJlIGlzIG5vIHN1Y2ggdHJpZ2dlciBvbiB0aGVcbiAgICAgICAgLy8gaW5pdGlhbCBjb25uZWN0LiBBbmQgd2UgZG9uJ3Qga25vdyBpZiB0aGUgc2VydmVyIHN1cHBvcnRzXG4gICAgICAgIC8vIHJlc2l6aW5nIHVudGlsIHdlJ3ZlIGdvdHRlbiBoZXJlLlxuICAgICAgICBpZiAoZmlyc3RVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RSZW1vdGVSZXNpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBudW1iZXJfb2Zfc2NyZWVucyA9IHRoaXMuX3NvY2suclFwZWVrOCgpO1xuXG4gICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDQgKyAobnVtYmVyX29mX3NjcmVlbnMgKiAxNik7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIkV4dGVuZGVkRGVza3RvcFNpemVcIiwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDEpOyAgLy8gbnVtYmVyLW9mLXNjcmVlbnNcbiAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygzKTsgIC8vIHBhZGRpbmdcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlcl9vZl9zY3JlZW5zOyBpICs9IDEpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdGhlIGlkIGFuZCBmbGFncyBvZiB0aGUgZmlyc3Qgc2NyZWVuXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NjcmVlbl9pZCA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKDQpOyAgICAvLyBpZFxuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMik7ICAgICAgICAgICAgICAgICAgICAgICAvLyB4LXBvc2l0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygyKTsgICAgICAgICAgICAgICAgICAgICAgIC8vIHktcG9zaXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDIpOyAgICAgICAgICAgICAgICAgICAgICAgLy8gd2lkdGhcbiAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDIpOyAgICAgICAgICAgICAgICAgICAgICAgLy8gaGVpZ2h0XG4gICAgICAgICAgICAgICAgdGhpcy5fc2NyZWVuX2ZsYWdzID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoNCk7IC8vIGZsYWdzXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgICogVGhlIHgtcG9zaXRpb24gaW5kaWNhdGVzIHRoZSByZWFzb24gZm9yIHRoZSBjaGFuZ2U6XG4gICAgICAgICAqXG4gICAgICAgICAqICAwIC0gc2VydmVyIHJlc2l6ZWQgb24gaXRzIG93blxuICAgICAgICAgKiAgMSAtIHRoaXMgY2xpZW50IHJlcXVlc3RlZCB0aGUgcmVzaXplXG4gICAgICAgICAqICAyIC0gYW5vdGhlciBjbGllbnQgcmVxdWVzdGVkIHRoZSByZXNpemVcbiAgICAgICAgICovXG5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBoYW5kbGUgZXJyb3JzIHdoZW4gd2UgcmVxdWVzdGVkIHRoZSByZXNpemUuXG4gICAgICAgIGlmICh0aGlzLl9GQlUueCA9PT0gMSAmJiB0aGlzLl9GQlUueSAhPT0gMCkge1xuICAgICAgICAgICAgdmFyIG1zZyA9IFwiXCI7XG4gICAgICAgICAgICAvLyBUaGUgeS1wb3NpdGlvbiBpbmRpY2F0ZXMgdGhlIHN0YXR1cyBjb2RlIGZyb20gdGhlIHNlcnZlclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9GQlUueSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIG1zZyA9IFwiUmVzaXplIGlzIGFkbWluaXN0cmF0aXZlbHkgcHJvaGliaXRlZFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIG1zZyA9IFwiT3V0IG9mIHJlc291cmNlc1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIG1zZyA9IFwiSW52YWxpZCBzY3JlZW4gbGF5b3V0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG1zZyA9IFwiVW5rbm93biByZWFzb25cIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIExvZy5XYXJuKFwiU2VydmVyIGRpZCBub3QgYWNjZXB0IHRoZSByZXNpemUgcmVxdWVzdDogXCJcbiAgICAgICAgICAgICAgICAgICAgICsgbXNnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZSh0aGlzLl9GQlUud2lkdGgsIHRoaXMuX0ZCVS5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMDtcbiAgICAgICAgdGhpcy5fRkJVLnJlY3RzIC09IDE7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBEZXNrdG9wU2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9yZXNpemUodGhpcy5fRkJVLndpZHRoLCB0aGlzLl9GQlUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMDtcbiAgICAgICAgdGhpcy5fRkJVLnJlY3RzIC09IDE7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBDdXJzb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTG9nLkRlYnVnKFwiPj4gc2V0X2N1cnNvclwiKTtcbiAgICAgICAgdmFyIHggPSB0aGlzLl9GQlUueDsgIC8vIGhvdHNwb3QteFxuICAgICAgICB2YXIgeSA9IHRoaXMuX0ZCVS55OyAgLy8gaG90c3BvdC15XG4gICAgICAgIHZhciB3ID0gdGhpcy5fRkJVLndpZHRoO1xuICAgICAgICB2YXIgaCA9IHRoaXMuX0ZCVS5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIHBpeGVsc2xlbmd0aCA9IHcgKiBoICogNDtcbiAgICAgICAgdmFyIG1hc2tsZW5ndGggPSBNYXRoLmZsb29yKCh3ICsgNykgLyA4KSAqIGg7XG5cbiAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gcGl4ZWxzbGVuZ3RoICsgbWFza2xlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiY3Vyc29yIGVuY29kaW5nXCIsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgdGhpcy5fZGlzcGxheS5jaGFuZ2VDdXJzb3IodGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMocGl4ZWxzbGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMobWFza2xlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgsIHksIHcsIGgpO1xuXG4gICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDA7XG4gICAgICAgIHRoaXMuX0ZCVS5yZWN0cy0tO1xuXG4gICAgICAgIExvZy5EZWJ1ZyhcIjw8IHNldF9jdXJzb3JcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBRRU1VRXh0ZW5kZWRLZXlFdmVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9GQlUucmVjdHMtLTtcblxuICAgICAgICAvLyBPbGQgU2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCBjcmVhdGluZyBrZXlib2FyZCBldmVudHNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBrZXlib2FyZEV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJrZXlib2FyZEV2ZW50XCIpO1xuICAgICAgICAgICAgaWYgKGtleWJvYXJkRXZlbnQuY29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcWVtdUV4dEtleUV2ZW50U3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIChzZWUgTElDRU5TRS50eHQpXG4gKlxuICogU2VlIFJFQURNRS5tZCBmb3IgdXNhZ2UgYW5kIGludGVncmF0aW9uIGluc3RydWN0aW9ucy5cbiAqL1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi9sb2dnaW5nLmpzJztcblxuLy8gVG91Y2ggZGV0ZWN0aW9uXG5leHBvcnQgdmFyIGlzVG91Y2hEZXZpY2UgPSAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVxdXJpZWQgZm9yIENocm9tZSBkZWJ1Z2dlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3VtZW50Lm9udG91Y2hzdGFydCAhPT0gdW5kZWZpbmVkKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZWQgZm9yIE1TIFN1cmZhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIG9uRmlyc3RUb3VjaCgpIHtcbiAgICBpc1RvdWNoRGV2aWNlID0gdHJ1ZTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uRmlyc3RUb3VjaCwgZmFsc2UpO1xufSwgZmFsc2UpO1xuXG52YXIgX2N1cnNvcl91cmlzX3N1cHBvcnRlZCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0c0N1cnNvclVSSXMgKCkge1xuICAgIGlmIChfY3Vyc29yX3VyaXNfc3VwcG9ydGVkID09PSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICB0YXJnZXQuc3R5bGUuY3Vyc29yID0gJ3VybChcImRhdGE6aW1hZ2UveC1pY29uO2Jhc2U2NCxBQUFDQUFFQUNBZ0FBQUlBQWdBNEFRQUFGZ0FBQUNnQUFBQUlBQUFBRUFBQUFBRUFJQUFBQUFBQUVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBRC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vQUFBQUFBQUFBQUFBQUFBQUFBQUFBQT09XCIpIDIgMiwgZGVmYXVsdCc7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQuc3R5bGUuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgTG9nLkluZm8oXCJEYXRhIFVSSSBzY2hlbWUgY3Vyc29yIHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgICAgICBfY3Vyc29yX3VyaXNfc3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTG9nLldhcm4oXCJEYXRhIFVSSSBzY2hlbWUgY3Vyc29yIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgX2N1cnNvcl91cmlzX3N1cHBvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChleGMpIHtcbiAgICAgICAgICAgIExvZy5FcnJvcihcIkRhdGEgVVJJIHNjaGVtZSBjdXJzb3IgdGVzdCBleGNlcHRpb246IFwiICsgZXhjKTtcbiAgICAgICAgICAgIF9jdXJzb3JfdXJpc19zdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfY3Vyc29yX3VyaXNfc3VwcG9ydGVkO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWFjKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IgJiYgISEoL21hYy9pKS5leGVjKG5hdmlnYXRvci5wbGF0Zm9ybSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0lFKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IgJiYgISEoL3RyaWRlbnQvaSkuZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRWRnZSgpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yICYmICEhKC9lZGdlL2kpLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1dpbmRvd3MoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvciAmJiAhISgvd2luL2kpLmV4ZWMobmF2aWdhdG9yLnBsYXRmb3JtKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSU9TKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IgJiZcbiAgICAgICAgICAgKCEhKC9pcGFkL2kpLmV4ZWMobmF2aWdhdG9yLnBsYXRmb3JtKSB8fFxuICAgICAgICAgICAgISEoL2lwaG9uZS9pKS5leGVjKG5hdmlnYXRvci5wbGF0Zm9ybSkgfHxcbiAgICAgICAgICAgICEhKC9pcG9kL2kpLmV4ZWMobmF2aWdhdG9yLnBsYXRmb3JtKSk7XG59XG5cbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIChzZWUgTElDRU5TRS50eHQpXG4gKlxuICogU2VlIFJFQURNRS5tZCBmb3IgdXNhZ2UgYW5kIGludGVncmF0aW9uIGluc3RydWN0aW9ucy5cbiAqL1xuXG4vKlxuICogQ3Jvc3MtYnJvd3NlciBldmVudCBhbmQgcG9zaXRpb24gcm91dGluZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9pbnRlckV2ZW50IChlKSB7XG4gICAgcmV0dXJuIGUuY2hhbmdlZFRvdWNoZXMgPyBlLmNoYW5nZWRUb3VjaGVzWzBdIDogZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wRXZlbnQgKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbn07XG5cbi8vIEVtdWxhdGUgRWxlbWVudC5zZXRDYXB0dXJlKCkgd2hlbiBub3Qgc3VwcG9ydGVkXG52YXIgX2NhcHR1cmVSZWN1cnNpb24gPSBmYWxzZTtcbnZhciBfY2FwdHVyZUVsZW0gPSBudWxsO1xuZnVuY3Rpb24gX2NhcHR1cmVQcm94eShlKSB7XG4gICAgLy8gUmVjdXJzaW9uIHByb3RlY3Rpb24gYXMgd2UnbGwgc2VlIG91ciBvd24gZXZlbnRcbiAgICBpZiAoX2NhcHR1cmVSZWN1cnNpb24pIHJldHVybjtcblxuICAgIC8vIENsb25lIHRoZSBldmVudCBhcyB3ZSBjYW5ub3QgZGlzcGF0Y2ggYW4gYWxyZWFkeSBkaXNwYXRjaGVkIGV2ZW50XG4gICAgdmFyIG5ld0V2ID0gbmV3IGUuY29uc3RydWN0b3IoZS50eXBlLCBlKTtcblxuICAgIF9jYXB0dXJlUmVjdXJzaW9uID0gdHJ1ZTtcbiAgICBfY2FwdHVyZUVsZW0uZGlzcGF0Y2hFdmVudChuZXdFdik7XG4gICAgX2NhcHR1cmVSZWN1cnNpb24gPSBmYWxzZTtcblxuICAgIC8vIEF2b2lkIGRvdWJsZSBldmVudHNcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgLy8gUmVzcGVjdCB0aGUgd2lzaGVzIG9mIHRoZSByZWRpcmVjdGVkIGV2ZW50IGhhbmRsZXJzXG4gICAgaWYgKG5ld0V2LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8vIEltcGxpY2l0bHkgcmVsZWFzZSB0aGUgY2FwdHVyZSBvbiBidXR0b24gcmVsZWFzZVxuICAgIGlmIChlLnR5cGUgPT09IFwibW91c2V1cFwiKSB7XG4gICAgICAgIHJlbGVhc2VDYXB0dXJlKCk7XG4gICAgfVxufTtcblxuLy8gRm9sbG93IGN1cnNvciBzdHlsZSBvZiB0YXJnZXQgZWxlbWVudFxuZnVuY3Rpb24gX2NhcHR1cmVFbGVtQ2hhbmdlZCgpIHtcbiAgICB2YXIgY2FwdHVyZUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vVk5DX21vdXNlX2NhcHR1cmVfZWxlbVwiKTtcbiAgICBjYXB0dXJlRWxlbS5zdHlsZS5jdXJzb3IgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShfY2FwdHVyZUVsZW0pLmN1cnNvcjtcbn07XG52YXIgX2NhcHR1cmVPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKF9jYXB0dXJlRWxlbUNoYW5nZWQpO1xuXG52YXIgX2NhcHR1cmVJbmRleCA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDYXB0dXJlIChlbGVtKSB7XG4gICAgaWYgKGVsZW0uc2V0Q2FwdHVyZSkge1xuXG4gICAgICAgIGVsZW0uc2V0Q2FwdHVyZSgpO1xuXG4gICAgICAgIC8vIElFIHJlbGVhc2VzIGNhcHR1cmUgb24gJ2NsaWNrJyBldmVudHMgd2hpY2ggbWlnaHQgbm90IHRyaWdnZXJcbiAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgcmVsZWFzZUNhcHR1cmUpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVsZWFzZSBhbnkgZXhpc3RpbmcgY2FwdHVyZSBpbiBjYXNlIHRoaXMgbWV0aG9kIGlzXG4gICAgICAgIC8vIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB3aXRob3V0IGNvb3JkaW5hdGlvblxuICAgICAgICByZWxlYXNlQ2FwdHVyZSgpO1xuXG4gICAgICAgIHZhciBjYXB0dXJlRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9WTkNfbW91c2VfY2FwdHVyZV9lbGVtXCIpO1xuXG4gICAgICAgIGlmIChjYXB0dXJlRWxlbSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY2FwdHVyZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgY2FwdHVyZUVsZW0uaWQgPSBcIm5vVk5DX21vdXNlX2NhcHR1cmVfZWxlbVwiO1xuICAgICAgICAgICAgY2FwdHVyZUVsZW0uc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgICAgICAgICAgY2FwdHVyZUVsZW0uc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgY2FwdHVyZUVsZW0uc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS56SW5kZXggPSAxMDAwMDtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FwdHVyZUVsZW0pO1xuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRvIG1ha2Ugc3VyZSBjYWxsZXJzIGRvbid0IGdldCBjb25mdXNlZCBieSBoYXZpbmdcbiAgICAgICAgICAgIC8vIG91ciBibG9ja2luZyBlbGVtZW50IGFzIHRoZSB0YXJnZXRcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgX2NhcHR1cmVQcm94eSk7XG5cbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF9jYXB0dXJlUHJveHkpO1xuICAgICAgICAgICAgY2FwdHVyZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF9jYXB0dXJlUHJveHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NhcHR1cmVFbGVtID0gZWxlbTtcbiAgICAgICAgX2NhcHR1cmVJbmRleCsrO1xuXG4gICAgICAgIC8vIFRyYWNrIGN1cnNvciBhbmQgZ2V0IGluaXRpYWwgY3Vyc29yXG4gICAgICAgIF9jYXB0dXJlT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtLCB7YXR0cmlidXRlczp0cnVlfSk7XG4gICAgICAgIF9jYXB0dXJlRWxlbUNoYW5nZWQoKTtcblxuICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblxuICAgICAgICAvLyBXZSBsaXN0ZW4gdG8gZXZlbnRzIG9uIHdpbmRvdyBpbiBvcmRlciB0byBrZWVwIHRyYWNraW5nIGlmIGl0XG4gICAgICAgIC8vIGhhcHBlbnMgdG8gbGVhdmUgdGhlIHZpZXdwb3J0XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfY2FwdHVyZVByb3h5KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfY2FwdHVyZVByb3h5KTtcbiAgICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVsZWFzZUNhcHR1cmUgKCkge1xuICAgIGlmIChkb2N1bWVudC5yZWxlYXNlQ2FwdHVyZSkge1xuXG4gICAgICAgIGRvY3VtZW50LnJlbGVhc2VDYXB0dXJlKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIV9jYXB0dXJlRWxlbSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlcmUgbWlnaHQgYmUgZXZlbnRzIGFscmVhZHkgcXVldWVkLCBzbyB3ZSBuZWVkIHRvIHdhaXQgZm9yXG4gICAgICAgIC8vIHRoZW0gdG8gZmx1c2guIEUuZy4gY29udGV4dG1lbnUgaW4gTWljcm9zb2Z0IEVkZ2VcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgY2xlYXIgaXQgaWYgaXQncyB0aGUgZXhwZWN0ZWQgZ3JhYiAoaS5lLiBubyBvbmVcbiAgICAgICAgICAgIC8vIGVsc2UgaGFzIGluaXRpYXRlZCBhIG5ldyBncmFiKVxuICAgICAgICAgICAgaWYgKF9jYXB0dXJlSW5kZXggPT09IGV4cGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgX2NhcHR1cmVFbGVtID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCwgX2NhcHR1cmVJbmRleCk7XG5cbiAgICAgICAgX2NhcHR1cmVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG5cbiAgICAgICAgdmFyIGNhcHR1cmVFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub1ZOQ19tb3VzZV9jYXB0dXJlX2VsZW1cIik7XG4gICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX2NhcHR1cmVQcm94eSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX2NhcHR1cmVQcm94eSk7XG4gICAgfVxufTtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IDIwMTcgUGllcnJlIE9zc21hbiBmb3IgQ2VuZGlvIEFCXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIChzZWUgTElDRU5TRS50eHQpXG4gKlxuICogU2VlIFJFQURNRS5tZCBmb3IgdXNhZ2UgYW5kIGludGVncmF0aW9uIGluc3RydWN0aW9ucy5cbiAqL1xuXG52YXIgRXZlbnRUYXJnZXRNaXhpbiA9IHtcbiAgICBfbGlzdGVuZXJzOiBudWxsLFxuXG4gICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5fbGlzdGVuZXJzLmhhcyh0eXBlKSkge1xuICAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnNldCh0eXBlLCBuZXcgU2V0KCkpO1xuICAgICAgfVxuICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldCh0eXBlKS5hZGQoY2FsbGJhY2spO1xuICAgfSxcblxuICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmICghdGhpcy5fbGlzdGVuZXJzIHx8ICF0aGlzLl9saXN0ZW5lcnMuaGFzKHR5cGUpKSB7XG4gICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9saXN0ZW5lcnMuZ2V0KHR5cGUpLmRlbGV0ZShjYWxsYmFjayk7XG4gICB9LFxuXG4gICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMgfHwgIXRoaXMuX2xpc3RlbmVycy5oYXMoZXZlbnQudHlwZSkpIHtcbiAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldChldmVudC50eXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICB9LCB0aGlzKTtcbiAgICAgIHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBFdmVudFRhcmdldE1peGluO1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTIgSm9lbCBNYXJ0aW5cbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICovXG5cbi8qXG4gKiBMb2dnaW5nL2RlYnVnIHJvdXRpbmVzXG4gKi9cblxudmFyIF9sb2dfbGV2ZWwgPSAnd2Fybic7XG5cbnZhciBEZWJ1ZyA9IGZ1bmN0aW9uIChtc2cpIHt9O1xudmFyIEluZm8gPSBmdW5jdGlvbiAobXNnKSB7fTtcbnZhciBXYXJuID0gZnVuY3Rpb24gKG1zZykge307XG52YXIgRXJyb3IgPSBmdW5jdGlvbiAobXNnKSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRfbG9nZ2luZyAobGV2ZWwpIHtcbiAgICBpZiAodHlwZW9mIGxldmVsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBsZXZlbCA9IF9sb2dfbGV2ZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgX2xvZ19sZXZlbCA9IGxldmVsO1xuICAgIH1cblxuICAgIERlYnVnID0gSW5mbyA9IFdhcm4gPSBFcnJvciA9IGZ1bmN0aW9uIChtc2cpIHt9O1xuICAgIGlmICh0eXBlb2Ygd2luZG93LmNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgICAgICAgY2FzZSAnZGVidWcnOlxuICAgICAgICAgICAgICAgIERlYnVnID0gY29uc29sZS5kZWJ1Zy5iaW5kKHdpbmRvdy5jb25zb2xlKTtcbiAgICAgICAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICAgICAgICAgIEluZm8gID0gY29uc29sZS5pbmZvLmJpbmQod2luZG93LmNvbnNvbGUpO1xuICAgICAgICAgICAgY2FzZSAnd2Fybic6XG4gICAgICAgICAgICAgICAgV2FybiAgPSBjb25zb2xlLndhcm4uYmluZCh3aW5kb3cuY29uc29sZSk7XG4gICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgICAgRXJyb3IgPSBjb25zb2xlLmVycm9yLmJpbmQod2luZG93LmNvbnNvbGUpO1xuICAgICAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgbG9nZ2luZyB0eXBlICdcIiArIGxldmVsICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRfbG9nZ2luZyAoKSB7XG4gICAgcmV0dXJuIF9sb2dfbGV2ZWw7XG59O1xuZXhwb3J0IHsgRGVidWcsIEluZm8sIFdhcm4sIEVycm9yIH07XG5cbi8vIEluaXRpYWxpemUgbG9nZ2luZyBsZXZlbFxuaW5pdF9sb2dnaW5nKCk7XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAyMDE3IFBpZXJyZSBPc3NtYW4gZm9yIG5vVk5DXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIG9yIGFueSBsYXRlciB2ZXJzaW9uIChzZWUgTElDRU5TRS50eHQpXG4gKi9cblxuLyogUG9seWZpbGxzIHRvIHByb3ZpZGUgbmV3IEFQSXMgaW4gb2xkIGJyb3dzZXJzICovXG5cbi8qIE9iamVjdC5hc3NpZ24oKSAodGFrZW4gZnJvbSBNRE4pICovXG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIE11c3QgYmUgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LCBcImFzc2lnblwiLCB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCB2YXJBcmdzKSB7IC8vIC5sZW5ndGggb2YgZnVuY3Rpb24gaXMgMlxuICAgICAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsKSB7IC8vIFR5cGVFcnJvciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7IC8vIFNraXAgb3ZlciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0U291cmNlLCBuZXh0S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0bztcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xufVxuXG4vKiBDdXN0b21FdmVudCBjb25zdHJ1Y3RvciAodGFrZW4gZnJvbSBNRE4pICovXG4oZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEN1c3RvbUV2ZW50ICggZXZlbnQsIHBhcmFtcyApIHtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IHVuZGVmaW5lZCB9O1xuICAgICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoICdDdXN0b21FdmVudCcgKTtcbiAgICAgICAgZXZ0LmluaXRDdXN0b21FdmVudCggZXZlbnQsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSwgcGFyYW1zLmRldGFpbCApO1xuICAgICAgICByZXR1cm4gZXZ0O1xuICAgIH1cblxuICAgIEN1c3RvbUV2ZW50LnByb3RvdHlwZSA9IHdpbmRvdy5FdmVudC5wcm90b3R5cGU7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHdpbmRvdy5DdXN0b21FdmVudCA9IEN1c3RvbUV2ZW50O1xuICAgIH1cbn0pKCk7XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxMiBKb2VsIE1hcnRpblxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxuLypcbiAqIERlY29kZSBmcm9tIFVURi04XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVVVEY4ICh1dGY4c3RyaW5nKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUodXRmOHN0cmluZykpO1xufTtcbiIsIi8qXG4gKiBXZWJzb2NrOiBoaWdoLXBlcmZvcm1hbmNlIGJpbmFyeSBXZWJTb2NrZXRzXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTIgSm9lbCBNYXJ0aW5cbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBXZWJzb2NrIGlzIHNpbWlsYXIgdG8gdGhlIHN0YW5kYXJkIFdlYlNvY2tldCBvYmplY3QgYnV0IHdpdGggZXh0cmFcbiAqIGJ1ZmZlciBoYW5kbGluZy5cbiAqXG4gKiBXZWJzb2NrIGhhcyBidWlsdC1pbiByZWNlaXZlIHF1ZXVlIGJ1ZmZlcmluZzsgdGhlIG1lc3NhZ2UgZXZlbnRcbiAqIGRvZXMgbm90IGNvbnRhaW4gYWN0dWFsIGRhdGEgYnV0IGlzIHNpbXBseSBhIG5vdGlmaWNhdGlvbiB0aGF0XG4gKiB0aGVyZSBpcyBuZXcgZGF0YSBhdmFpbGFibGUuIFNldmVyYWwgclEqIG1ldGhvZHMgYXJlIGF2YWlsYWJsZSB0b1xuICogcmVhZCBiaW5hcnkgZGF0YSBvZmYgb2YgdGhlIHJlY2VpdmUgcXVldWUuXG4gKi9cblxuaW1wb3J0ICogYXMgTG9nIGZyb20gJy4vdXRpbC9sb2dnaW5nLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV2Vic29jaygpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHRoaXMuX3dlYnNvY2tldCA9IG51bGw7ICAvLyBXZWJTb2NrZXQgb2JqZWN0XG5cbiAgICB0aGlzLl9yUWkgPSAwOyAgICAgICAgICAgLy8gUmVjZWl2ZSBxdWV1ZSBpbmRleFxuICAgIHRoaXMuX3JRbGVuID0gMDsgICAgICAgICAvLyBOZXh0IHdyaXRlIHBvc2l0aW9uIGluIHRoZSByZWNlaXZlIHF1ZXVlXG4gICAgdGhpcy5fclFidWZmZXJTaXplID0gMTAyNCAqIDEwMjQgKiA0OyAvLyBSZWNlaXZlIHF1ZXVlIGJ1ZmZlciBzaXplICg0IE1pQilcbiAgICB0aGlzLl9yUW1heCA9IHRoaXMuX3JRYnVmZmVyU2l6ZSAvIDg7XG4gICAgLy8gY2FsbGVkIGluIGluaXQ6IHRoaXMuX3JRID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fclFidWZmZXJTaXplKTtcbiAgICB0aGlzLl9yUSA9IG51bGw7IC8vIFJlY2VpdmUgcXVldWVcblxuICAgIHRoaXMuX3NRYnVmZmVyU2l6ZSA9IDEwMjQgKiAxMDsgIC8vIDEwIEtpQlxuICAgIC8vIGNhbGxlZCBpbiBpbml0OiB0aGlzLl9zUSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3NRYnVmZmVyU2l6ZSk7XG4gICAgdGhpcy5fc1FsZW4gPSAwO1xuICAgIHRoaXMuX3NRID0gbnVsbDsgIC8vIFNlbmQgcXVldWVcblxuICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMgPSB7XG4gICAgICAgICdtZXNzYWdlJzogZnVuY3Rpb24gKCkge30sXG4gICAgICAgICdvcGVuJzogZnVuY3Rpb24gKCkge30sXG4gICAgICAgICdjbG9zZSc6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICAnZXJyb3InOiBmdW5jdGlvbiAoKSB7fVxuICAgIH07XG59O1xuXG4vLyB0aGlzIGhhcyBwZXJmb3JtYW5jZSBpc3N1ZXMgaW4gc29tZSB2ZXJzaW9ucyBDaHJvbWl1bSwgYW5kXG4vLyBkb2Vzbid0IGdhaW4gYSB0cmVtZW5kb3VzIGFtb3VudCBvZiBwZXJmb3JtYW5jZSBpbmNyZWFzZSBpbiBGaXJlZm94XG4vLyBhdCB0aGUgbW9tZW50LiAgSXQgbWF5IGJlIHZhbHVhYmxlIHRvIHR1cm4gaXQgb24gaW4gdGhlIGZ1dHVyZS5cbnZhciBFTkFCTEVfQ09QWVdJVEhJTiA9IGZhbHNlO1xuXG52YXIgTUFYX1JRX0dST1dfU0laRSA9IDQwICogMTAyNCAqIDEwMjQ7ICAvLyA0MCBNaUJcblxudmFyIHR5cGVkQXJyYXlUb1N0cmluZyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGhpcyBpcyBvbmx5IGZvciBQaGFudG9tSlMsIHdoaWNoIGRvZXNuJ3QgbGlrZSBhcHBseS1pbmdcbiAgICAvLyB3aXRoIFR5cGVkIEFycmF5c1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShbMSwgMiwgM10pO1xuICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGFycik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBhKTsgfTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgICAgICAgICAgIG51bGwsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEpKTtcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuXG5XZWJzb2NrLnByb3RvdHlwZSA9IHtcbiAgICAvLyBHZXR0ZXJzIGFuZCBTZXR0ZXJzXG4gICAgZ2V0X3NROiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zUTtcbiAgICB9LFxuXG4gICAgZ2V0X3JROiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yUTtcbiAgICB9LFxuXG4gICAgZ2V0X3JRaTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fclFpO1xuICAgIH0sXG5cbiAgICBzZXRfclFpOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHRoaXMuX3JRaSA9IHZhbDtcbiAgICB9LFxuXG4gICAgLy8gUmVjZWl2ZSBRdWV1ZVxuICAgIHJRbGVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yUWxlbiAtIHRoaXMuX3JRaTtcbiAgICB9LFxuXG4gICAgclFwZWVrODogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fclFbdGhpcy5fclFpXTtcbiAgICB9LFxuXG4gICAgclFzaGlmdDg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JRW3RoaXMuX3JRaSsrXTtcbiAgICB9LFxuXG4gICAgclFza2lwODogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9yUWkrKztcbiAgICB9LFxuXG4gICAgclFza2lwQnl0ZXM6IGZ1bmN0aW9uIChudW0pIHtcbiAgICAgICAgdGhpcy5fclFpICs9IG51bTtcbiAgICB9LFxuXG4gICAgLy8gVE9ETyhkaXJlY3R4bWFuMTIpOiB0ZXN0IHBlcmZvcm1hbmNlIHdpdGggdGhlc2UgdnMgYSBEYXRhVmlld1xuICAgIHJRc2hpZnQxNjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3JRW3RoaXMuX3JRaSsrXSA8PCA4KSArXG4gICAgICAgICAgICAgICB0aGlzLl9yUVt0aGlzLl9yUWkrK107XG4gICAgfSxcblxuICAgIHJRc2hpZnQzMjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3JRW3RoaXMuX3JRaSsrXSA8PCAyNCkgK1xuICAgICAgICAgICAgICAgKHRoaXMuX3JRW3RoaXMuX3JRaSsrXSA8PCAxNikgK1xuICAgICAgICAgICAgICAgKHRoaXMuX3JRW3RoaXMuX3JRaSsrXSA8PCA4KSArXG4gICAgICAgICAgICAgICB0aGlzLl9yUVt0aGlzLl9yUWkrK107XG4gICAgfSxcblxuICAgIHJRc2hpZnRTdHI6IGZ1bmN0aW9uIChsZW4pIHtcbiAgICAgICAgaWYgKHR5cGVvZihsZW4pID09PSAndW5kZWZpbmVkJykgeyBsZW4gPSB0aGlzLnJRbGVuKCk7IH1cbiAgICAgICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3JRLmJ1ZmZlciwgdGhpcy5fclFpLCBsZW4pO1xuICAgICAgICB0aGlzLl9yUWkgKz0gbGVuO1xuICAgICAgICByZXR1cm4gdHlwZWRBcnJheVRvU3RyaW5nKGFycik7XG4gICAgfSxcblxuICAgIHJRc2hpZnRCeXRlczogZnVuY3Rpb24gKGxlbikge1xuICAgICAgICBpZiAodHlwZW9mKGxlbikgPT09ICd1bmRlZmluZWQnKSB7IGxlbiA9IHRoaXMuclFsZW4oKTsgfVxuICAgICAgICB0aGlzLl9yUWkgKz0gbGVuO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5fclEuYnVmZmVyLCB0aGlzLl9yUWkgLSBsZW4sIGxlbik7XG4gICAgfSxcblxuICAgIHJRc2hpZnRUbzogZnVuY3Rpb24gKHRhcmdldCwgbGVuKSB7XG4gICAgICAgIGlmIChsZW4gPT09IHVuZGVmaW5lZCkgeyBsZW4gPSB0aGlzLnJRbGVuKCk7IH1cbiAgICAgICAgLy8gVE9ETzogbWFrZSB0aGlzIGp1c3QgdXNlIHNldCB3aXRoIHZpZXdzIHdoZW4gdXNpbmcgYSBBcnJheUJ1ZmZlciB0byBzdG9yZSB0aGUgclFcbiAgICAgICAgdGFyZ2V0LnNldChuZXcgVWludDhBcnJheSh0aGlzLl9yUS5idWZmZXIsIHRoaXMuX3JRaSwgbGVuKSk7XG4gICAgICAgIHRoaXMuX3JRaSArPSBsZW47XG4gICAgfSxcblxuICAgIHJRd2hvbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMuX3JRLmJ1ZmZlciwgMCwgdGhpcy5fclFsZW4pO1xuICAgIH0sXG5cbiAgICByUXNsaWNlOiBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAoZW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5fclEuYnVmZmVyLCB0aGlzLl9yUWkgKyBzdGFydCwgZW5kIC0gc3RhcnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMuX3JRLmJ1ZmZlciwgdGhpcy5fclFpICsgc3RhcnQsIHRoaXMuX3JRbGVuIC0gdGhpcy5fclFpIC0gc3RhcnQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBtdXN0IHdhaXQgZm9yICdudW0nIGJ5dGVzIChkZWZhdWx0IHRvIEZCVS5ieXRlcylcbiAgICAvLyB0byBiZSBhdmFpbGFibGUgaW4gdGhlIHJlY2VpdmUgcXVldWUuIFJldHVybiB0cnVlIGlmIHdlIG5lZWQgdG9cbiAgICAvLyB3YWl0IChhbmQgcG9zc2libHkgcHJpbnQgYSBkZWJ1ZyBtZXNzYWdlKSwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgIHJRd2FpdDogZnVuY3Rpb24gKG1zZywgbnVtLCBnb2JhY2spIHtcbiAgICAgICAgdmFyIHJRbGVuID0gdGhpcy5fclFsZW4gLSB0aGlzLl9yUWk7IC8vIFNraXAgclFsZW4oKSBmdW5jdGlvbiBjYWxsXG4gICAgICAgIGlmIChyUWxlbiA8IG51bSkge1xuICAgICAgICAgICAgaWYgKGdvYmFjaykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yUWkgPCBnb2JhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiclF3YWl0IGNhbm5vdCBiYWNrdXAgXCIgKyBnb2JhY2sgKyBcIiBieXRlc1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fclFpIC09IGdvYmFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyB0cnVlIG1lYW5zIG5lZWQgbW9yZSBkYXRhXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBTZW5kIFF1ZXVlXG5cbiAgICBmbHVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fc1FsZW4gPiAwICYmIHRoaXMuX3dlYnNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgICAgdGhpcy5fd2Vic29ja2V0LnNlbmQodGhpcy5fZW5jb2RlX21lc3NhZ2UoKSk7XG4gICAgICAgICAgICB0aGlzLl9zUWxlbiA9IDA7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc2VuZDogZnVuY3Rpb24gKGFycikge1xuICAgICAgICB0aGlzLl9zUS5zZXQoYXJyLCB0aGlzLl9zUWxlbik7XG4gICAgICAgIHRoaXMuX3NRbGVuICs9IGFyci5sZW5ndGg7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9LFxuXG4gICAgc2VuZF9zdHJpbmc6IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdGhpcy5zZW5kKHN0ci5zcGxpdCgnJykubWFwKGZ1bmN0aW9uIChjaHIpIHtcbiAgICAgICAgICAgIHJldHVybiBjaHIuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgfSkpO1xuICAgIH0sXG5cbiAgICAvLyBFdmVudCBIYW5kbGVyc1xuICAgIG9mZjogZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzW2V2dF0gPSBmdW5jdGlvbiAoKSB7fTtcbiAgICB9LFxuXG4gICAgb246IGZ1bmN0aW9uIChldnQsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVyc1tldnRdID0gaGFuZGxlcjtcbiAgICB9LFxuXG4gICAgX2FsbG9jYXRlX2J1ZmZlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fclEgPSBuZXcgVWludDhBcnJheSh0aGlzLl9yUWJ1ZmZlclNpemUpO1xuICAgICAgICB0aGlzLl9zUSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3NRYnVmZmVyU2l6ZSk7XG4gICAgfSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYWxsb2NhdGVfYnVmZmVycygpO1xuICAgICAgICB0aGlzLl9yUWkgPSAwO1xuICAgICAgICB0aGlzLl93ZWJzb2NrZXQgPSBudWxsO1xuICAgIH0sXG5cbiAgICBvcGVuOiBmdW5jdGlvbiAodXJpLCBwcm90b2NvbHMpIHtcbiAgICAgICAgdmFyIHdzX3NjaGVtYSA9IHVyaS5tYXRjaCgvXihbYS16XSspOlxcL1xcLy8pWzFdO1xuICAgICAgICB0aGlzLmluaXQoKTtcblxuICAgICAgICB0aGlzLl93ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHVyaSwgcHJvdG9jb2xzKTtcbiAgICAgICAgdGhpcy5fd2Vic29ja2V0LmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xuXG4gICAgICAgIHRoaXMuX3dlYnNvY2tldC5vbm1lc3NhZ2UgPSB0aGlzLl9yZWN2X21lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fd2Vic29ja2V0Lm9ub3BlbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBMb2cuRGVidWcoJz4+IFdlYlNvY2sub25vcGVuJyk7XG4gICAgICAgICAgICBpZiAodGhpcy5fd2Vic29ja2V0LnByb3RvY29sKSB7XG4gICAgICAgICAgICAgICAgTG9nLkluZm8oXCJTZXJ2ZXIgY2hvb3NlIHN1Yi1wcm90b2NvbDogXCIgKyB0aGlzLl93ZWJzb2NrZXQucHJvdG9jb2wpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzLm9wZW4oKTtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIjw8IFdlYlNvY2sub25vcGVuXCIpO1xuICAgICAgICB9KS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl93ZWJzb2NrZXQub25jbG9zZSA9IChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiPj4gV2ViU29jay5vbmNsb3NlXCIpO1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVycy5jbG9zZShlKTtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIjw8IFdlYlNvY2sub25jbG9zZVwiKTtcbiAgICAgICAgfSkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fd2Vic29ja2V0Lm9uZXJyb3IgPSAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIj4+IFdlYlNvY2sub25lcnJvcjogXCIgKyBlKTtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMuZXJyb3IoZSk7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCI8PCBXZWJTb2NrLm9uZXJyb3I6IFwiICsgZSk7XG4gICAgICAgIH0pLmJpbmQodGhpcyk7XG4gICAgfSxcblxuICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl93ZWJzb2NrZXQpIHtcbiAgICAgICAgICAgIGlmICgodGhpcy5fd2Vic29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB8fFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5fd2Vic29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSkge1xuICAgICAgICAgICAgICAgIExvZy5JbmZvKFwiQ2xvc2luZyBXZWJTb2NrZXQgY29ubmVjdGlvblwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWJzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fd2Vic29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7IHJldHVybjsgfTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlIG1ldGhvZHNcbiAgICBfZW5jb2RlX21lc3NhZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gUHV0IGluIGEgYmluYXJ5IGFycmF5YnVmZmVyXG4gICAgICAgIC8vIGFjY29yZGluZyB0byB0aGUgc3BlYywgeW91IGNhbiBzZW5kIEFycmF5QnVmZmVyVmlld3Mgd2l0aCB0aGUgc2VuZCBtZXRob2RcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMuX3NRLmJ1ZmZlciwgMCwgdGhpcy5fc1FsZW4pO1xuICAgIH0sXG5cbiAgICBfZXhwYW5kX2NvbXBhY3RfclE6IGZ1bmN0aW9uIChtaW5fZml0KSB7XG4gICAgICAgIHZhciByZXNpemVOZWVkZWQgPSBtaW5fZml0IHx8IHRoaXMuX3JRbGVuIC0gdGhpcy5fclFpID4gdGhpcy5fclFidWZmZXJTaXplIC8gMjtcbiAgICAgICAgaWYgKHJlc2l6ZU5lZWRlZCkge1xuICAgICAgICAgICAgaWYgKCFtaW5fZml0KSB7XG4gICAgICAgICAgICAgICAgLy8ganVzdCBkb3VibGUgdGhlIHNpemUgaWYgd2UgbmVlZCB0byBkbyBjb21wYWN0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5fclFidWZmZXJTaXplICo9IDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgbWFrZSBzdXJlIHdlIHNhdGlzeSByUWxlbiAtIHJRaSArIG1pbl9maXQgPCByUWJ1ZmZlclNpemUgLyA4XG4gICAgICAgICAgICAgICAgdGhpcy5fclFidWZmZXJTaXplID0gKHRoaXMuX3JRbGVuIC0gdGhpcy5fclFpICsgbWluX2ZpdCkgKiA4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byBncm93IHVuYm91bmRlZGx5XG4gICAgICAgIGlmICh0aGlzLl9yUWJ1ZmZlclNpemUgPiBNQVhfUlFfR1JPV19TSVpFKSB7XG4gICAgICAgICAgICB0aGlzLl9yUWJ1ZmZlclNpemUgPSBNQVhfUlFfR1JPV19TSVpFO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JRYnVmZmVyU2l6ZSAtIHRoaXMuX3JRbGVuIC0gdGhpcy5fclFpIDwgbWluX2ZpdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJSZWNlaXZlIFF1ZXVlIGJ1ZmZlciBleGNlZWRlZCBcIiArIE1BWF9SUV9HUk9XX1NJWkUgKyBcIiBieXRlcywgYW5kIHRoZSBuZXcgbWVzc2FnZSBjb3VsZCBub3QgZml0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc2l6ZU5lZWRlZCkge1xuICAgICAgICAgICAgdmFyIG9sZF9yUWJ1ZmZlciA9IHRoaXMuX3JRLmJ1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMuX3JRbWF4ID0gdGhpcy5fclFidWZmZXJTaXplIC8gODtcbiAgICAgICAgICAgIHRoaXMuX3JRID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fclFidWZmZXJTaXplKTtcbiAgICAgICAgICAgIHRoaXMuX3JRLnNldChuZXcgVWludDhBcnJheShvbGRfclFidWZmZXIsIHRoaXMuX3JRaSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKEVOQUJMRV9DT1BZV0lUSElOKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fclEuY29weVdpdGhpbigwLCB0aGlzLl9yUWkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yUS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5fclEuYnVmZmVyLCB0aGlzLl9yUWkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JRbGVuID0gdGhpcy5fclFsZW4gLSB0aGlzLl9yUWk7XG4gICAgICAgIHRoaXMuX3JRaSA9IDA7XG4gICAgfSxcblxuICAgIF9kZWNvZGVfbWVzc2FnZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgLy8gcHVzaCBhcnJheWJ1ZmZlciB2YWx1ZXMgb250byB0aGUgZW5kXG4gICAgICAgIHZhciB1OCA9IG5ldyBVaW50OEFycmF5KGRhdGEpO1xuICAgICAgICBpZiAodTgubGVuZ3RoID4gdGhpcy5fclFidWZmZXJTaXplIC0gdGhpcy5fclFsZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2V4cGFuZF9jb21wYWN0X3JRKHU4Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fclEuc2V0KHU4LCB0aGlzLl9yUWxlbik7XG4gICAgICAgIHRoaXMuX3JRbGVuICs9IHU4Lmxlbmd0aDtcbiAgICB9LFxuXG4gICAgX3JlY3ZfbWVzc2FnZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5fZGVjb2RlX21lc3NhZ2UoZS5kYXRhKTtcbiAgICAgICAgaWYgKHRoaXMuclFsZW4oKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMubWVzc2FnZSgpO1xuICAgICAgICAgICAgLy8gQ29tcGFjdCB0aGUgcmVjZWl2ZSBxdWV1ZVxuICAgICAgICAgICAgaWYgKHRoaXMuX3JRbGVuID09IHRoaXMuX3JRaSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JRbGVuID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLl9yUWkgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9yUWxlbiA+IHRoaXMuX3JRbWF4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kX2NvbXBhY3RfclEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIklnbm9yaW5nIGVtcHR5IG1lc3NhZ2VcIik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiLy8gcmVkdWNlIGJ1ZmZlciBzaXplLCBhdm9pZGluZyBtZW0gY29weVxuZXhwb3J0IGZ1bmN0aW9uIHNocmlua0J1ZiAoYnVmLCBzaXplKSB7XG4gIGlmIChidWYubGVuZ3RoID09PSBzaXplKSB7IHJldHVybiBidWY7IH1cbiAgaWYgKGJ1Zi5zdWJhcnJheSkgeyByZXR1cm4gYnVmLnN1YmFycmF5KDAsIHNpemUpOyB9XG4gIGJ1Zi5sZW5ndGggPSBzaXplO1xuICByZXR1cm4gYnVmO1xufTtcblxuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlTZXQgKGRlc3QsIHNyYywgc3JjX29mZnMsIGxlbiwgZGVzdF9vZmZzKSB7XG4gIGlmIChzcmMuc3ViYXJyYXkgJiYgZGVzdC5zdWJhcnJheSkge1xuICAgIGRlc3Quc2V0KHNyYy5zdWJhcnJheShzcmNfb2Zmcywgc3JjX29mZnMgKyBsZW4pLCBkZXN0X29mZnMpO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBGYWxsYmFjayB0byBvcmRpbmFyeSBhcnJheVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgZGVzdFtkZXN0X29mZnMgKyBpXSA9IHNyY1tzcmNfb2ZmcyArIGldO1xuICB9XG59XG5cbi8vIEpvaW4gYXJyYXkgb2YgY2h1bmtzIHRvIHNpbmdsZSBhcnJheS5cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuQ2h1bmtzIChjaHVua3MpIHtcbiAgdmFyIGksIGwsIGxlbiwgcG9zLCBjaHVuaywgcmVzdWx0O1xuXG4gIC8vIGNhbGN1bGF0ZSBkYXRhIGxlbmd0aFxuICBsZW4gPSAwO1xuICBmb3IgKGkgPSAwLCBsID0gY2h1bmtzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGxlbiArPSBjaHVua3NbaV0ubGVuZ3RoO1xuICB9XG5cbiAgLy8gam9pbiBjaHVua3NcbiAgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgcG9zID0gMDtcbiAgZm9yIChpID0gMCwgbCA9IGNodW5rcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjaHVuayA9IGNodW5rc1tpXTtcbiAgICByZXN1bHQuc2V0KGNodW5rLCBwb3MpO1xuICAgIHBvcyArPSBjaHVuay5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgdmFyIEJ1ZjggID0gVWludDhBcnJheTtcbmV4cG9ydCB2YXIgQnVmMTYgPSBVaW50MTZBcnJheTtcbmV4cG9ydCB2YXIgQnVmMzIgPSBJbnQzMkFycmF5O1xuIiwiLy8gTm90ZTogYWRsZXIzMiB0YWtlcyAxMiUgZm9yIGxldmVsIDAgYW5kIDIlIGZvciBsZXZlbCA2LlxuLy8gSXQgZG9lc24ndCB3b3J0aCB0byBtYWtlIGFkZGl0aW9uYWwgb3B0aW1pemF0aW9uYSBhcyBpbiBvcmlnaW5hbC5cbi8vIFNtYWxsIHNpemUgaXMgcHJlZmVyYWJsZS5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRsZXIzMihhZGxlciwgYnVmLCBsZW4sIHBvcykge1xuICB2YXIgczEgPSAoYWRsZXIgJiAweGZmZmYpIHwwLFxuICAgICAgczIgPSAoKGFkbGVyID4+PiAxNikgJiAweGZmZmYpIHwwLFxuICAgICAgbiA9IDA7XG5cbiAgd2hpbGUgKGxlbiAhPT0gMCkge1xuICAgIC8vIFNldCBsaW1pdCB+IHR3aWNlIGxlc3MgdGhhbiA1NTUyLCB0byBrZWVwXG4gICAgLy8gczIgaW4gMzEtYml0cywgYmVjYXVzZSB3ZSBmb3JjZSBzaWduZWQgaW50cy5cbiAgICAvLyBpbiBvdGhlciBjYXNlICU9IHdpbGwgZmFpbC5cbiAgICBuID0gbGVuID4gMjAwMCA/IDIwMDAgOiBsZW47XG4gICAgbGVuIC09IG47XG5cbiAgICBkbyB7XG4gICAgICBzMSA9IChzMSArIGJ1Zltwb3MrK10pIHwwO1xuICAgICAgczIgPSAoczIgKyBzMSkgfDA7XG4gICAgfSB3aGlsZSAoLS1uKTtcblxuICAgIHMxICU9IDY1NTIxO1xuICAgIHMyICU9IDY1NTIxO1xuICB9XG5cbiAgcmV0dXJuIChzMSB8IChzMiA8PCAxNikpIHwwO1xufVxuIiwiLy8gTm90ZTogd2UgY2FuJ3QgZ2V0IHNpZ25pZmljYW50IHNwZWVkIGJvb3N0IGhlcmUuXG4vLyBTbyB3cml0ZSBjb2RlIHRvIG1pbmltaXplIHNpemUgLSBubyBwcmVnZW5lcmF0ZWQgdGFibGVzXG4vLyBhbmQgYXJyYXkgdG9vbHMgZGVwZW5kZW5jaWVzLlxuXG5cbi8vIFVzZSBvcmRpbmFyeSBhcnJheSwgc2luY2UgdW50eXBlZCBtYWtlcyBubyBib29zdCBoZXJlXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlVGFibGUoKSB7XG4gIHZhciBjLCB0YWJsZSA9IFtdO1xuXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgMjU2OyBuKyspIHtcbiAgICBjID0gbjtcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IDg7IGsrKykge1xuICAgICAgYyA9ICgoYyAmIDEpID8gKDB4RURCODgzMjAgXiAoYyA+Pj4gMSkpIDogKGMgPj4+IDEpKTtcbiAgICB9XG4gICAgdGFibGVbbl0gPSBjO1xuICB9XG5cbiAgcmV0dXJuIHRhYmxlO1xufVxuXG4vLyBDcmVhdGUgdGFibGUgb24gbG9hZC4gSnVzdCAyNTUgc2lnbmVkIGxvbmdzLiBOb3QgYSBwcm9ibGVtLlxudmFyIGNyY1RhYmxlID0gbWFrZVRhYmxlKCk7XG5cblxuZnVuY3Rpb24gY3JjMzIoY3JjLCBidWYsIGxlbiwgcG9zKSB7XG4gIHZhciB0ID0gY3JjVGFibGUsXG4gICAgICBlbmQgPSBwb3MgKyBsZW47XG5cbiAgY3JjIF49IC0xO1xuXG4gIGZvciAodmFyIGkgPSBwb3M7IGkgPCBlbmQ7IGkrKykge1xuICAgIGNyYyA9IChjcmMgPj4+IDgpIF4gdFsoY3JjIF4gYnVmW2ldKSAmIDB4RkZdO1xuICB9XG5cbiAgcmV0dXJuIChjcmMgXiAoLTEpKTsgLy8gPj4+IDA7XG59XG4iLCIvLyBTZWUgc3RhdGUgZGVmcyBmcm9tIGluZmxhdGUuanNcbnZhciBCQUQgPSAzMDsgICAgICAgLyogZ290IGEgZGF0YSBlcnJvciAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xudmFyIFRZUEUgPSAxMjsgICAgICAvKiBpOiB3YWl0aW5nIGZvciB0eXBlIGJpdHMsIGluY2x1ZGluZyBsYXN0LWZsYWcgYml0ICovXG5cbi8qXG4gICBEZWNvZGUgbGl0ZXJhbCwgbGVuZ3RoLCBhbmQgZGlzdGFuY2UgY29kZXMgYW5kIHdyaXRlIG91dCB0aGUgcmVzdWx0aW5nXG4gICBsaXRlcmFsIGFuZCBtYXRjaCBieXRlcyB1bnRpbCBlaXRoZXIgbm90IGVub3VnaCBpbnB1dCBvciBvdXRwdXQgaXNcbiAgIGF2YWlsYWJsZSwgYW4gZW5kLW9mLWJsb2NrIGlzIGVuY291bnRlcmVkLCBvciBhIGRhdGEgZXJyb3IgaXMgZW5jb3VudGVyZWQuXG4gICBXaGVuIGxhcmdlIGVub3VnaCBpbnB1dCBhbmQgb3V0cHV0IGJ1ZmZlcnMgYXJlIHN1cHBsaWVkIHRvIGluZmxhdGUoKSwgZm9yXG4gICBleGFtcGxlLCBhIDE2SyBpbnB1dCBidWZmZXIgYW5kIGEgNjRLIG91dHB1dCBidWZmZXIsIG1vcmUgdGhhbiA5NSUgb2YgdGhlXG4gICBpbmZsYXRlIGV4ZWN1dGlvbiB0aW1lIGlzIHNwZW50IGluIHRoaXMgcm91dGluZS5cblxuICAgRW50cnkgYXNzdW1wdGlvbnM6XG5cbiAgICAgICAgc3RhdGUubW9kZSA9PT0gTEVOXG4gICAgICAgIHN0cm0uYXZhaWxfaW4gPj0gNlxuICAgICAgICBzdHJtLmF2YWlsX291dCA+PSAyNThcbiAgICAgICAgc3RhcnQgPj0gc3RybS5hdmFpbF9vdXRcbiAgICAgICAgc3RhdGUuYml0cyA8IDhcblxuICAgT24gcmV0dXJuLCBzdGF0ZS5tb2RlIGlzIG9uZSBvZjpcblxuICAgICAgICBMRU4gLS0gcmFuIG91dCBvZiBlbm91Z2ggb3V0cHV0IHNwYWNlIG9yIGVub3VnaCBhdmFpbGFibGUgaW5wdXRcbiAgICAgICAgVFlQRSAtLSByZWFjaGVkIGVuZCBvZiBibG9jayBjb2RlLCBpbmZsYXRlKCkgdG8gaW50ZXJwcmV0IG5leHQgYmxvY2tcbiAgICAgICAgQkFEIC0tIGVycm9yIGluIGJsb2NrIGRhdGFcblxuICAgTm90ZXM6XG5cbiAgICAtIFRoZSBtYXhpbXVtIGlucHV0IGJpdHMgdXNlZCBieSBhIGxlbmd0aC9kaXN0YW5jZSBwYWlyIGlzIDE1IGJpdHMgZm9yIHRoZVxuICAgICAgbGVuZ3RoIGNvZGUsIDUgYml0cyBmb3IgdGhlIGxlbmd0aCBleHRyYSwgMTUgYml0cyBmb3IgdGhlIGRpc3RhbmNlIGNvZGUsXG4gICAgICBhbmQgMTMgYml0cyBmb3IgdGhlIGRpc3RhbmNlIGV4dHJhLiAgVGhpcyB0b3RhbHMgNDggYml0cywgb3Igc2l4IGJ5dGVzLlxuICAgICAgVGhlcmVmb3JlIGlmIHN0cm0uYXZhaWxfaW4gPj0gNiwgdGhlbiB0aGVyZSBpcyBlbm91Z2ggaW5wdXQgdG8gYXZvaWRcbiAgICAgIGNoZWNraW5nIGZvciBhdmFpbGFibGUgaW5wdXQgd2hpbGUgZGVjb2RpbmcuXG5cbiAgICAtIFRoZSBtYXhpbXVtIGJ5dGVzIHRoYXQgYSBzaW5nbGUgbGVuZ3RoL2Rpc3RhbmNlIHBhaXIgY2FuIG91dHB1dCBpcyAyNThcbiAgICAgIGJ5dGVzLCB3aGljaCBpcyB0aGUgbWF4aW11bSBsZW5ndGggdGhhdCBjYW4gYmUgY29kZWQuICBpbmZsYXRlX2Zhc3QoKVxuICAgICAgcmVxdWlyZXMgc3RybS5hdmFpbF9vdXQgPj0gMjU4IGZvciBlYWNoIGxvb3AgdG8gYXZvaWQgY2hlY2tpbmcgZm9yXG4gICAgICBvdXRwdXQgc3BhY2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluZmxhdGVfZmFzdChzdHJtLCBzdGFydCkge1xuICB2YXIgc3RhdGU7XG4gIHZhciBfaW47ICAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmlucHV0ICovXG4gIHZhciBsYXN0OyAgICAgICAgICAgICAgICAgICAvKiBoYXZlIGVub3VnaCBpbnB1dCB3aGlsZSBpbiA8IGxhc3QgKi9cbiAgdmFyIF9vdXQ7ICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0ub3V0cHV0ICovXG4gIHZhciBiZWc7ICAgICAgICAgICAgICAgICAgICAvKiBpbmZsYXRlKCkncyBpbml0aWFsIHN0cm0ub3V0cHV0ICovXG4gIHZhciBlbmQ7ICAgICAgICAgICAgICAgICAgICAvKiB3aGlsZSBvdXQgPCBlbmQsIGVub3VnaCBzcGFjZSBhdmFpbGFibGUgKi9cbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gIHZhciBkbWF4OyAgICAgICAgICAgICAgICAgICAvKiBtYXhpbXVtIGRpc3RhbmNlIGZyb20gemxpYiBoZWFkZXIgKi9cbi8vI2VuZGlmXG4gIHZhciB3c2l6ZTsgICAgICAgICAgICAgICAgICAvKiB3aW5kb3cgc2l6ZSBvciB6ZXJvIGlmIG5vdCB1c2luZyB3aW5kb3cgKi9cbiAgdmFyIHdoYXZlOyAgICAgICAgICAgICAgICAgIC8qIHZhbGlkIGJ5dGVzIGluIHRoZSB3aW5kb3cgKi9cbiAgdmFyIHduZXh0OyAgICAgICAgICAgICAgICAgIC8qIHdpbmRvdyB3cml0ZSBpbmRleCAqL1xuICAvLyBVc2UgYHNfd2luZG93YCBpbnN0ZWFkIGB3aW5kb3dgLCBhdm9pZCBjb25mbGljdCB3aXRoIGluc3RydW1lbnRhdGlvbiB0b29sc1xuICB2YXIgc193aW5kb3c7ICAgICAgICAgICAgICAgLyogYWxsb2NhdGVkIHNsaWRpbmcgd2luZG93LCBpZiB3c2l6ZSAhPSAwICovXG4gIHZhciBob2xkOyAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmhvbGQgKi9cbiAgdmFyIGJpdHM7ICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uYml0cyAqL1xuICB2YXIgbGNvZGU7ICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5sZW5jb2RlICovXG4gIHZhciBkY29kZTsgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmRpc3Rjb2RlICovXG4gIHZhciBsbWFzazsgICAgICAgICAgICAgICAgICAvKiBtYXNrIGZvciBmaXJzdCBsZXZlbCBvZiBsZW5ndGggY29kZXMgKi9cbiAgdmFyIGRtYXNrOyAgICAgICAgICAgICAgICAgIC8qIG1hc2sgZm9yIGZpcnN0IGxldmVsIG9mIGRpc3RhbmNlIGNvZGVzICovXG4gIHZhciBoZXJlOyAgICAgICAgICAgICAgICAgICAvKiByZXRyaWV2ZWQgdGFibGUgZW50cnkgKi9cbiAgdmFyIG9wOyAgICAgICAgICAgICAgICAgICAgIC8qIGNvZGUgYml0cywgb3BlcmF0aW9uLCBleHRyYSBiaXRzLCBvciAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogIHdpbmRvdyBwb3NpdGlvbiwgd2luZG93IGJ5dGVzIHRvIGNvcHkgKi9cbiAgdmFyIGxlbjsgICAgICAgICAgICAgICAgICAgIC8qIG1hdGNoIGxlbmd0aCwgdW51c2VkIGJ5dGVzICovXG4gIHZhciBkaXN0OyAgICAgICAgICAgICAgICAgICAvKiBtYXRjaCBkaXN0YW5jZSAqL1xuICB2YXIgZnJvbTsgICAgICAgICAgICAgICAgICAgLyogd2hlcmUgdG8gY29weSBtYXRjaCBmcm9tICovXG4gIHZhciBmcm9tX3NvdXJjZTtcblxuXG4gIHZhciBpbnB1dCwgb3V0cHV0OyAvLyBKUyBzcGVjaWZpYywgYmVjYXVzZSB3ZSBoYXZlIG5vIHBvaW50ZXJzXG5cbiAgLyogY29weSBzdGF0ZSB0byBsb2NhbCB2YXJpYWJsZXMgKi9cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICAvL2hlcmUgPSBzdGF0ZS5oZXJlO1xuICBfaW4gPSBzdHJtLm5leHRfaW47XG4gIGlucHV0ID0gc3RybS5pbnB1dDtcbiAgbGFzdCA9IF9pbiArIChzdHJtLmF2YWlsX2luIC0gNSk7XG4gIF9vdXQgPSBzdHJtLm5leHRfb3V0O1xuICBvdXRwdXQgPSBzdHJtLm91dHB1dDtcbiAgYmVnID0gX291dCAtIChzdGFydCAtIHN0cm0uYXZhaWxfb3V0KTtcbiAgZW5kID0gX291dCArIChzdHJtLmF2YWlsX291dCAtIDI1Nyk7XG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICBkbWF4ID0gc3RhdGUuZG1heDtcbi8vI2VuZGlmXG4gIHdzaXplID0gc3RhdGUud3NpemU7XG4gIHdoYXZlID0gc3RhdGUud2hhdmU7XG4gIHduZXh0ID0gc3RhdGUud25leHQ7XG4gIHNfd2luZG93ID0gc3RhdGUud2luZG93O1xuICBob2xkID0gc3RhdGUuaG9sZDtcbiAgYml0cyA9IHN0YXRlLmJpdHM7XG4gIGxjb2RlID0gc3RhdGUubGVuY29kZTtcbiAgZGNvZGUgPSBzdGF0ZS5kaXN0Y29kZTtcbiAgbG1hc2sgPSAoMSA8PCBzdGF0ZS5sZW5iaXRzKSAtIDE7XG4gIGRtYXNrID0gKDEgPDwgc3RhdGUuZGlzdGJpdHMpIC0gMTtcblxuXG4gIC8qIGRlY29kZSBsaXRlcmFscyBhbmQgbGVuZ3RoL2Rpc3RhbmNlcyB1bnRpbCBlbmQtb2YtYmxvY2sgb3Igbm90IGVub3VnaFxuICAgICBpbnB1dCBkYXRhIG9yIG91dHB1dCBzcGFjZSAqL1xuXG4gIHRvcDpcbiAgZG8ge1xuICAgIGlmIChiaXRzIDwgMTUpIHtcbiAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICBiaXRzICs9IDg7XG4gICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgYml0cyArPSA4O1xuICAgIH1cblxuICAgIGhlcmUgPSBsY29kZVtob2xkICYgbG1hc2tdO1xuXG4gICAgZG9sZW46XG4gICAgZm9yICg7OykgeyAvLyBHb3RvIGVtdWxhdGlvblxuICAgICAgb3AgPSBoZXJlID4+PiAyNC8qaGVyZS5iaXRzKi87XG4gICAgICBob2xkID4+Pj0gb3A7XG4gICAgICBiaXRzIC09IG9wO1xuICAgICAgb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZi8qaGVyZS5vcCovO1xuICAgICAgaWYgKG9wID09PSAwKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBsaXRlcmFsICovXG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBoZXJlLnZhbCA+PSAweDIwICYmIGhlcmUudmFsIDwgMHg3ZiA/XG4gICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAnJWMnXFxuXCIgOlxuICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgMHglMDJ4XFxuXCIsIGhlcmUudmFsKSk7XG4gICAgICAgIG91dHB1dFtfb3V0KytdID0gaGVyZSAmIDB4ZmZmZi8qaGVyZS52YWwqLztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG9wICYgMTYpIHsgICAgICAgICAgICAgICAgICAgICAvKiBsZW5ndGggYmFzZSAqL1xuICAgICAgICBsZW4gPSBoZXJlICYgMHhmZmZmLypoZXJlLnZhbCovO1xuICAgICAgICBvcCAmPSAxNTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgZXh0cmEgYml0cyAqL1xuICAgICAgICBpZiAob3ApIHtcbiAgICAgICAgICBpZiAoYml0cyA8IG9wKSB7XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZW4gKz0gaG9sZCAmICgoMSA8PCBvcCkgLSAxKTtcbiAgICAgICAgICBob2xkID4+Pj0gb3A7XG4gICAgICAgICAgYml0cyAtPSBvcDtcbiAgICAgICAgfVxuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGxlbmd0aCAldVxcblwiLCBsZW4pKTtcbiAgICAgICAgaWYgKGJpdHMgPCAxNSkge1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIGhlcmUgPSBkY29kZVtob2xkICYgZG1hc2tdO1xuXG4gICAgICAgIGRvZGlzdDpcbiAgICAgICAgZm9yICg7OykgeyAvLyBnb3RvIGVtdWxhdGlvblxuICAgICAgICAgIG9wID0gaGVyZSA+Pj4gMjQvKmhlcmUuYml0cyovO1xuICAgICAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgICAgICBiaXRzIC09IG9wO1xuICAgICAgICAgIG9wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmYvKmhlcmUub3AqLztcblxuICAgICAgICAgIGlmIChvcCAmIDE2KSB7ICAgICAgICAgICAgICAgICAgICAgIC8qIGRpc3RhbmNlIGJhc2UgKi9cbiAgICAgICAgICAgIGRpc3QgPSBoZXJlICYgMHhmZmZmLypoZXJlLnZhbCovO1xuICAgICAgICAgICAgb3AgJj0gMTU7ICAgICAgICAgICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgZXh0cmEgYml0cyAqL1xuICAgICAgICAgICAgaWYgKGJpdHMgPCBvcCkge1xuICAgICAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAgIGlmIChiaXRzIDwgb3ApIHtcbiAgICAgICAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzdCArPSBob2xkICYgKCgxIDw8IG9wKSAtIDEpO1xuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgICAgICAgICAgIGlmIChkaXN0ID4gZG1heCkge1xuICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICAgIGJyZWFrIHRvcDtcbiAgICAgICAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAgICAgICBob2xkID4+Pj0gb3A7XG4gICAgICAgICAgICBiaXRzIC09IG9wO1xuICAgICAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBkaXN0YW5jZSAldVxcblwiLCBkaXN0KSk7XG4gICAgICAgICAgICBvcCA9IF9vdXQgLSBiZWc7ICAgICAgICAgICAgICAgIC8qIG1heCBkaXN0YW5jZSBpbiBvdXRwdXQgKi9cbiAgICAgICAgICAgIGlmIChkaXN0ID4gb3ApIHsgICAgICAgICAgICAgICAgLyogc2VlIGlmIGNvcHkgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgb3AgPSBkaXN0IC0gb3A7ICAgICAgICAgICAgICAgLyogZGlzdGFuY2UgYmFjayBpbiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgaWYgKG9wID4gd2hhdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc2FuZSkge1xuICAgICAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIHRvcDtcbiAgICAgICAgICAgICAgICB9XG5cbi8vICghKSBUaGlzIGJsb2NrIGlzIGRpc2FibGVkIGluIHpsaWIgZGVmYWlsdHMsXG4vLyBkb24ndCBlbmFibGUgaXQgZm9yIGJpbmFyeSBjb21wYXRpYmlsaXR5XG4vLyNpZmRlZiBJTkZMQVRFX0FMTE9XX0lOVkFMSURfRElTVEFOQ0VfVE9PRkFSX0FSUlJcbi8vICAgICAgICAgICAgICAgIGlmIChsZW4gPD0gb3AgLSB3aGF2ZSkge1xuLy8gICAgICAgICAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSAwO1xuLy8gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLWxlbik7XG4vLyAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHRvcDtcbi8vICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgICAgIGxlbiAtPSBvcCAtIHdoYXZlO1xuLy8gICAgICAgICAgICAgICAgZG8ge1xuLy8gICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IDA7XG4vLyAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wID4gd2hhdmUpO1xuLy8gICAgICAgICAgICAgICAgaWYgKG9wID09PSAwKSB7XG4vLyAgICAgICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDtcbi8vICAgICAgICAgICAgICAgICAgZG8ge1xuLy8gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4vLyAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tbGVuKTtcbi8vICAgICAgICAgICAgICAgICAgY29udGludWUgdG9wO1xuLy8gICAgICAgICAgICAgICAgfVxuLy8jZW5kaWZcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBmcm9tID0gMDsgLy8gd2luZG93IGluZGV4XG4gICAgICAgICAgICAgIGZyb21fc291cmNlID0gc193aW5kb3c7XG4gICAgICAgICAgICAgIGlmICh3bmV4dCA9PT0gMCkgeyAgICAgICAgICAgLyogdmVyeSBjb21tb24gY2FzZSAqL1xuICAgICAgICAgICAgICAgIGZyb20gKz0gd3NpemUgLSBvcDtcbiAgICAgICAgICAgICAgICBpZiAob3AgPCBsZW4pIHsgICAgICAgICAvKiBzb21lIGZyb20gd2luZG93ICovXG4gICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgLyogcmVzdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKHduZXh0IDwgb3ApIHsgICAgICAvKiB3cmFwIGFyb3VuZCB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICBmcm9tICs9IHdzaXplICsgd25leHQgLSBvcDtcbiAgICAgICAgICAgICAgICBvcCAtPSB3bmV4dDtcbiAgICAgICAgICAgICAgICBpZiAob3AgPCBsZW4pIHsgICAgICAgICAvKiBzb21lIGZyb20gZW5kIG9mIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgIGZyb20gPSAwO1xuICAgICAgICAgICAgICAgICAgaWYgKHduZXh0IDwgbGVuKSB7ICAvKiBzb21lIGZyb20gc3RhcnQgb2Ygd2luZG93ICovXG4gICAgICAgICAgICAgICAgICAgIG9wID0gd25leHQ7XG4gICAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgICAgICAvKiByZXN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgICAgICAgIGZyb21fc291cmNlID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgLyogY29udGlndW91cyBpbiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICBmcm9tICs9IHduZXh0IC0gb3A7XG4gICAgICAgICAgICAgICAgaWYgKG9wIDwgbGVuKSB7ICAgICAgICAgLyogc29tZSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgIC8qIHJlc3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgICAgIGZyb21fc291cmNlID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB3aGlsZSAobGVuID4gMikge1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGxlbiAtPSAzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChsZW4pIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDEpIHtcbiAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAgICAgICAgIC8qIGNvcHkgZGlyZWN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgIGRvIHsgICAgICAgICAgICAgICAgICAgICAgICAvKiBtaW5pbXVtIGxlbmd0aCBpcyB0aHJlZSAqL1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGxlbiAtPSAzO1xuICAgICAgICAgICAgICB9IHdoaWxlIChsZW4gPiAyKTtcbiAgICAgICAgICAgICAgaWYgKGxlbikge1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDEpIHtcbiAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKChvcCAmIDY0KSA9PT0gMCkgeyAgICAgICAgICAvKiAybmQgbGV2ZWwgZGlzdGFuY2UgY29kZSAqL1xuICAgICAgICAgICAgaGVyZSA9IGRjb2RlWyhoZXJlICYgMHhmZmZmKS8qaGVyZS52YWwqLyArIChob2xkICYgKCgxIDw8IG9wKSAtIDEpKV07XG4gICAgICAgICAgICBjb250aW51ZSBkb2Rpc3Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSBjb2RlJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhayB0b3A7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7IC8vIG5lZWQgdG8gZW11bGF0ZSBnb3RvIHZpYSBcImNvbnRpbnVlXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoKG9wICYgNjQpID09PSAwKSB7ICAgICAgICAgICAgICAvKiAybmQgbGV2ZWwgbGVuZ3RoIGNvZGUgKi9cbiAgICAgICAgaGVyZSA9IGxjb2RlWyhoZXJlICYgMHhmZmZmKS8qaGVyZS52YWwqLyArIChob2xkICYgKCgxIDw8IG9wKSAtIDEpKV07XG4gICAgICAgIGNvbnRpbnVlIGRvbGVuO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAob3AgJiAzMikgeyAgICAgICAgICAgICAgICAgICAgIC8qIGVuZC1vZi1ibG9jayAqL1xuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGVuZCBvZiBibG9ja1xcblwiKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgICBicmVhayB0b3A7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgfVxuXG4gICAgICBicmVhazsgLy8gbmVlZCB0byBlbXVsYXRlIGdvdG8gdmlhIFwiY29udGludWVcIlxuICAgIH1cbiAgfSB3aGlsZSAoX2luIDwgbGFzdCAmJiBfb3V0IDwgZW5kKTtcblxuICAvKiByZXR1cm4gdW51c2VkIGJ5dGVzIChvbiBlbnRyeSwgYml0cyA8IDgsIHNvIGluIHdvbid0IGdvIHRvbyBmYXIgYmFjaykgKi9cbiAgbGVuID0gYml0cyA+PiAzO1xuICBfaW4gLT0gbGVuO1xuICBiaXRzIC09IGxlbiA8PCAzO1xuICBob2xkICY9ICgxIDw8IGJpdHMpIC0gMTtcblxuICAvKiB1cGRhdGUgc3RhdGUgYW5kIHJldHVybiAqL1xuICBzdHJtLm5leHRfaW4gPSBfaW47XG4gIHN0cm0ubmV4dF9vdXQgPSBfb3V0O1xuICBzdHJtLmF2YWlsX2luID0gKF9pbiA8IGxhc3QgPyA1ICsgKGxhc3QgLSBfaW4pIDogNSAtIChfaW4gLSBsYXN0KSk7XG4gIHN0cm0uYXZhaWxfb3V0ID0gKF9vdXQgPCBlbmQgPyAyNTcgKyAoZW5kIC0gX291dCkgOiAyNTcgLSAoX291dCAtIGVuZCkpO1xuICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgc3RhdGUuYml0cyA9IGJpdHM7XG4gIHJldHVybjtcbn07XG4iLCJpbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiLi4vdXRpbHMvY29tbW9uLmpzXCI7XG5pbXBvcnQgYWRsZXIzMiBmcm9tIFwiLi9hZGxlcjMyLmpzXCI7XG5pbXBvcnQgY3JjMzIgZnJvbSBcIi4vY3JjMzIuanNcIjtcbmltcG9ydCBpbmZsYXRlX2Zhc3QgZnJvbSBcIi4vaW5mZmFzdC5qc1wiO1xuaW1wb3J0IGluZmxhdGVfdGFibGUgZnJvbSBcIi4vaW5mdHJlZXMuanNcIjtcblxudmFyIENPREVTID0gMDtcbnZhciBMRU5TID0gMTtcbnZhciBESVNUUyA9IDI7XG5cbi8qIFB1YmxpYyBjb25zdGFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbi8qIEFsbG93ZWQgZmx1c2ggdmFsdWVzOyBzZWUgZGVmbGF0ZSgpIGFuZCBpbmZsYXRlKCkgYmVsb3cgZm9yIGRldGFpbHMgKi9cbi8vdmFyIFpfTk9fRkxVU0ggICAgICA9IDA7XG4vL3ZhciBaX1BBUlRJQUxfRkxVU0ggPSAxO1xuLy92YXIgWl9TWU5DX0ZMVVNIICAgID0gMjtcbi8vdmFyIFpfRlVMTF9GTFVTSCAgICA9IDM7XG52YXIgWl9GSU5JU0ggICAgICAgID0gNDtcbnZhciBaX0JMT0NLICAgICAgICAgPSA1O1xudmFyIFpfVFJFRVMgICAgICAgICA9IDY7XG5cblxuLyogUmV0dXJuIGNvZGVzIGZvciB0aGUgY29tcHJlc3Npb24vZGVjb21wcmVzc2lvbiBmdW5jdGlvbnMuIE5lZ2F0aXZlIHZhbHVlc1xuICogYXJlIGVycm9ycywgcG9zaXRpdmUgdmFsdWVzIGFyZSB1c2VkIGZvciBzcGVjaWFsIGJ1dCBub3JtYWwgZXZlbnRzLlxuICovXG52YXIgWl9PSyAgICAgICAgICAgID0gMDtcbnZhciBaX1NUUkVBTV9FTkQgICAgPSAxO1xudmFyIFpfTkVFRF9ESUNUICAgICA9IDI7XG4vL3ZhciBaX0VSUk5PICAgICAgICAgPSAtMTtcbnZhciBaX1NUUkVBTV9FUlJPUiAgPSAtMjtcbnZhciBaX0RBVEFfRVJST1IgICAgPSAtMztcbnZhciBaX01FTV9FUlJPUiAgICAgPSAtNDtcbnZhciBaX0JVRl9FUlJPUiAgICAgPSAtNTtcbi8vdmFyIFpfVkVSU0lPTl9FUlJPUiA9IC02O1xuXG4vKiBUaGUgZGVmbGF0ZSBjb21wcmVzc2lvbiBtZXRob2QgKi9cbnZhciBaX0RFRkxBVEVEICA9IDg7XG5cblxuLyogU1RBVEVTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxudmFyICAgIEhFQUQgPSAxOyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBtYWdpYyBoZWFkZXIgKi9cbnZhciAgICBGTEFHUyA9IDI7ICAgICAgLyogaTogd2FpdGluZyBmb3IgbWV0aG9kIGFuZCBmbGFncyAoZ3ppcCkgKi9cbnZhciAgICBUSU1FID0gMzsgICAgICAgLyogaTogd2FpdGluZyBmb3IgbW9kaWZpY2F0aW9uIHRpbWUgKGd6aXApICovXG52YXIgICAgT1MgPSA0OyAgICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGV4dHJhIGZsYWdzIGFuZCBvcGVyYXRpbmcgc3lzdGVtIChnemlwKSAqL1xudmFyICAgIEVYTEVOID0gNTsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBleHRyYSBsZW5ndGggKGd6aXApICovXG52YXIgICAgRVhUUkEgPSA2OyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGV4dHJhIGJ5dGVzIChnemlwKSAqL1xudmFyICAgIE5BTUUgPSA3OyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBlbmQgb2YgZmlsZSBuYW1lIChnemlwKSAqL1xudmFyICAgIENPTU1FTlQgPSA4OyAgICAvKiBpOiB3YWl0aW5nIGZvciBlbmQgb2YgY29tbWVudCAoZ3ppcCkgKi9cbnZhciAgICBIQ1JDID0gOTsgICAgICAgLyogaTogd2FpdGluZyBmb3IgaGVhZGVyIGNyYyAoZ3ppcCkgKi9cbnZhciAgICBESUNUSUQgPSAxMDsgICAgLyogaTogd2FpdGluZyBmb3IgZGljdGlvbmFyeSBjaGVjayB2YWx1ZSAqL1xudmFyICAgIERJQ1QgPSAxMTsgICAgICAvKiB3YWl0aW5nIGZvciBpbmZsYXRlU2V0RGljdGlvbmFyeSgpIGNhbGwgKi9cbnZhciAgICAgICAgVFlQRSA9IDEyOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIHR5cGUgYml0cywgaW5jbHVkaW5nIGxhc3QtZmxhZyBiaXQgKi9cbnZhciAgICAgICAgVFlQRURPID0gMTM7ICAgIC8qIGk6IHNhbWUsIGJ1dCBza2lwIGNoZWNrIHRvIGV4aXQgaW5mbGF0ZSBvbiBuZXcgYmxvY2sgKi9cbnZhciAgICAgICAgU1RPUkVEID0gMTQ7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIHN0b3JlZCBzaXplIChsZW5ndGggYW5kIGNvbXBsZW1lbnQpICovXG52YXIgICAgICAgIENPUFlfID0gMTU7ICAgICAvKiBpL286IHNhbWUgYXMgQ09QWSBiZWxvdywgYnV0IG9ubHkgZmlyc3QgdGltZSBpbiAqL1xudmFyICAgICAgICBDT1BZID0gMTY7ICAgICAgLyogaS9vOiB3YWl0aW5nIGZvciBpbnB1dCBvciBvdXRwdXQgdG8gY29weSBzdG9yZWQgYmxvY2sgKi9cbnZhciAgICAgICAgVEFCTEUgPSAxNzsgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGR5bmFtaWMgYmxvY2sgdGFibGUgbGVuZ3RocyAqL1xudmFyICAgICAgICBMRU5MRU5TID0gMTg7ICAgLyogaTogd2FpdGluZyBmb3IgY29kZSBsZW5ndGggY29kZSBsZW5ndGhzICovXG52YXIgICAgICAgIENPREVMRU5TID0gMTk7ICAvKiBpOiB3YWl0aW5nIGZvciBsZW5ndGgvbGl0IGFuZCBkaXN0YW5jZSBjb2RlIGxlbmd0aHMgKi9cbnZhciAgICAgICAgICAgIExFTl8gPSAyMDsgICAgICAvKiBpOiBzYW1lIGFzIExFTiBiZWxvdywgYnV0IG9ubHkgZmlyc3QgdGltZSBpbiAqL1xudmFyICAgICAgICAgICAgTEVOID0gMjE7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGxlbmd0aC9saXQvZW9iIGNvZGUgKi9cbnZhciAgICAgICAgICAgIExFTkVYVCA9IDIyOyAgICAvKiBpOiB3YWl0aW5nIGZvciBsZW5ndGggZXh0cmEgYml0cyAqL1xudmFyICAgICAgICAgICAgRElTVCA9IDIzOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGRpc3RhbmNlIGNvZGUgKi9cbnZhciAgICAgICAgICAgIERJU1RFWFQgPSAyNDsgICAvKiBpOiB3YWl0aW5nIGZvciBkaXN0YW5jZSBleHRyYSBiaXRzICovXG52YXIgICAgICAgICAgICBNQVRDSCA9IDI1OyAgICAgLyogbzogd2FpdGluZyBmb3Igb3V0cHV0IHNwYWNlIHRvIGNvcHkgc3RyaW5nICovXG52YXIgICAgICAgICAgICBMSVQgPSAyNjsgICAgICAgLyogbzogd2FpdGluZyBmb3Igb3V0cHV0IHNwYWNlIHRvIHdyaXRlIGxpdGVyYWwgKi9cbnZhciAgICBDSEVDSyA9IDI3OyAgICAgLyogaTogd2FpdGluZyBmb3IgMzItYml0IGNoZWNrIHZhbHVlICovXG52YXIgICAgTEVOR1RIID0gMjg7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIDMyLWJpdCBsZW5ndGggKGd6aXApICovXG52YXIgICAgRE9ORSA9IDI5OyAgICAgIC8qIGZpbmlzaGVkIGNoZWNrLCBkb25lIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG52YXIgICAgQkFEID0gMzA7ICAgICAgIC8qIGdvdCBhIGRhdGEgZXJyb3IgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbnZhciAgICBNRU0gPSAzMTsgICAgICAgLyogZ290IGFuIGluZmxhdGUoKSBtZW1vcnkgZXJyb3IgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbnZhciAgICBTWU5DID0gMzI7ICAgICAgLyogbG9va2luZyBmb3Igc3luY2hyb25pemF0aW9uIGJ5dGVzIHRvIHJlc3RhcnQgaW5mbGF0ZSgpICovXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxuXG52YXIgRU5PVUdIX0xFTlMgPSA4NTI7XG52YXIgRU5PVUdIX0RJU1RTID0gNTkyO1xuLy92YXIgRU5PVUdIID0gIChFTk9VR0hfTEVOUytFTk9VR0hfRElTVFMpO1xuXG52YXIgTUFYX1dCSVRTID0gMTU7XG4vKiAzMksgTFo3NyB3aW5kb3cgKi9cbnZhciBERUZfV0JJVFMgPSBNQVhfV0JJVFM7XG5cblxuZnVuY3Rpb24genN3YXAzMihxKSB7XG4gIHJldHVybiAgKCgocSA+Pj4gMjQpICYgMHhmZikgK1xuICAgICAgICAgICgocSA+Pj4gOCkgJiAweGZmMDApICtcbiAgICAgICAgICAoKHEgJiAweGZmMDApIDw8IDgpICtcbiAgICAgICAgICAoKHEgJiAweGZmKSA8PCAyNCkpO1xufVxuXG5cbmZ1bmN0aW9uIEluZmxhdGVTdGF0ZSgpIHtcbiAgdGhpcy5tb2RlID0gMDsgICAgICAgICAgICAgLyogY3VycmVudCBpbmZsYXRlIG1vZGUgKi9cbiAgdGhpcy5sYXN0ID0gZmFsc2U7ICAgICAgICAgIC8qIHRydWUgaWYgcHJvY2Vzc2luZyBsYXN0IGJsb2NrICovXG4gIHRoaXMud3JhcCA9IDA7ICAgICAgICAgICAgICAvKiBiaXQgMCB0cnVlIGZvciB6bGliLCBiaXQgMSB0cnVlIGZvciBnemlwICovXG4gIHRoaXMuaGF2ZWRpY3QgPSBmYWxzZTsgICAgICAvKiB0cnVlIGlmIGRpY3Rpb25hcnkgcHJvdmlkZWQgKi9cbiAgdGhpcy5mbGFncyA9IDA7ICAgICAgICAgICAgIC8qIGd6aXAgaGVhZGVyIG1ldGhvZCBhbmQgZmxhZ3MgKDAgaWYgemxpYikgKi9cbiAgdGhpcy5kbWF4ID0gMDsgICAgICAgICAgICAgIC8qIHpsaWIgaGVhZGVyIG1heCBkaXN0YW5jZSAoSU5GTEFURV9TVFJJQ1QpICovXG4gIHRoaXMuY2hlY2sgPSAwOyAgICAgICAgICAgICAvKiBwcm90ZWN0ZWQgY29weSBvZiBjaGVjayB2YWx1ZSAqL1xuICB0aGlzLnRvdGFsID0gMDsgICAgICAgICAgICAgLyogcHJvdGVjdGVkIGNvcHkgb2Ygb3V0cHV0IGNvdW50ICovXG4gIC8vIFRPRE86IG1heSBiZSB7fVxuICB0aGlzLmhlYWQgPSBudWxsOyAgICAgICAgICAgLyogd2hlcmUgdG8gc2F2ZSBnemlwIGhlYWRlciBpbmZvcm1hdGlvbiAqL1xuXG4gIC8qIHNsaWRpbmcgd2luZG93ICovXG4gIHRoaXMud2JpdHMgPSAwOyAgICAgICAgICAgICAvKiBsb2cgYmFzZSAyIG9mIHJlcXVlc3RlZCB3aW5kb3cgc2l6ZSAqL1xuICB0aGlzLndzaXplID0gMDsgICAgICAgICAgICAgLyogd2luZG93IHNpemUgb3IgemVybyBpZiBub3QgdXNpbmcgd2luZG93ICovXG4gIHRoaXMud2hhdmUgPSAwOyAgICAgICAgICAgICAvKiB2YWxpZCBieXRlcyBpbiB0aGUgd2luZG93ICovXG4gIHRoaXMud25leHQgPSAwOyAgICAgICAgICAgICAvKiB3aW5kb3cgd3JpdGUgaW5kZXggKi9cbiAgdGhpcy53aW5kb3cgPSBudWxsOyAgICAgICAgIC8qIGFsbG9jYXRlZCBzbGlkaW5nIHdpbmRvdywgaWYgbmVlZGVkICovXG5cbiAgLyogYml0IGFjY3VtdWxhdG9yICovXG4gIHRoaXMuaG9sZCA9IDA7ICAgICAgICAgICAgICAvKiBpbnB1dCBiaXQgYWNjdW11bGF0b3IgKi9cbiAgdGhpcy5iaXRzID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBiaXRzIGluIFwiaW5cIiAqL1xuXG4gIC8qIGZvciBzdHJpbmcgYW5kIHN0b3JlZCBibG9jayBjb3B5aW5nICovXG4gIHRoaXMubGVuZ3RoID0gMDsgICAgICAgICAgICAvKiBsaXRlcmFsIG9yIGxlbmd0aCBvZiBkYXRhIHRvIGNvcHkgKi9cbiAgdGhpcy5vZmZzZXQgPSAwOyAgICAgICAgICAgIC8qIGRpc3RhbmNlIGJhY2sgdG8gY29weSBzdHJpbmcgZnJvbSAqL1xuXG4gIC8qIGZvciB0YWJsZSBhbmQgY29kZSBkZWNvZGluZyAqL1xuICB0aGlzLmV4dHJhID0gMDsgICAgICAgICAgICAgLyogZXh0cmEgYml0cyBuZWVkZWQgKi9cblxuICAvKiBmaXhlZCBhbmQgZHluYW1pYyBjb2RlIHRhYmxlcyAqL1xuICB0aGlzLmxlbmNvZGUgPSBudWxsOyAgICAgICAgICAvKiBzdGFydGluZyB0YWJsZSBmb3IgbGVuZ3RoL2xpdGVyYWwgY29kZXMgKi9cbiAgdGhpcy5kaXN0Y29kZSA9IG51bGw7ICAgICAgICAgLyogc3RhcnRpbmcgdGFibGUgZm9yIGRpc3RhbmNlIGNvZGVzICovXG4gIHRoaXMubGVuYml0cyA9IDA7ICAgICAgICAgICAvKiBpbmRleCBiaXRzIGZvciBsZW5jb2RlICovXG4gIHRoaXMuZGlzdGJpdHMgPSAwOyAgICAgICAgICAvKiBpbmRleCBiaXRzIGZvciBkaXN0Y29kZSAqL1xuXG4gIC8qIGR5bmFtaWMgdGFibGUgYnVpbGRpbmcgKi9cbiAgdGhpcy5uY29kZSA9IDA7ICAgICAgICAgICAgIC8qIG51bWJlciBvZiBjb2RlIGxlbmd0aCBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5ubGVuID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBsZW5ndGggY29kZSBsZW5ndGhzICovXG4gIHRoaXMubmRpc3QgPSAwOyAgICAgICAgICAgICAvKiBudW1iZXIgb2YgZGlzdGFuY2UgY29kZSBsZW5ndGhzICovXG4gIHRoaXMuaGF2ZSA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgY29kZSBsZW5ndGhzIGluIGxlbnNbXSAqL1xuICB0aGlzLm5leHQgPSBudWxsOyAgICAgICAgICAgICAgLyogbmV4dCBhdmFpbGFibGUgc3BhY2UgaW4gY29kZXNbXSAqL1xuXG4gIHRoaXMubGVucyA9IG5ldyB1dGlscy5CdWYxNigzMjApOyAvKiB0ZW1wb3Jhcnkgc3RvcmFnZSBmb3IgY29kZSBsZW5ndGhzICovXG4gIHRoaXMud29yayA9IG5ldyB1dGlscy5CdWYxNigyODgpOyAvKiB3b3JrIGFyZWEgZm9yIGNvZGUgdGFibGUgYnVpbGRpbmcgKi9cblxuICAvKlxuICAgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIHBvaW50ZXJzIGluIGpzLCB3ZSB1c2UgbGVuY29kZSBhbmQgZGlzdGNvZGUgZGlyZWN0bHlcbiAgIGFzIGJ1ZmZlcnMgc28gd2UgZG9uJ3QgbmVlZCBjb2Rlc1xuICAqL1xuICAvL3RoaXMuY29kZXMgPSBuZXcgdXRpbHMuQnVmMzIoRU5PVUdIKTsgICAgICAgLyogc3BhY2UgZm9yIGNvZGUgdGFibGVzICovXG4gIHRoaXMubGVuZHluID0gbnVsbDsgICAgICAgICAgICAgIC8qIGR5bmFtaWMgdGFibGUgZm9yIGxlbmd0aC9saXRlcmFsIGNvZGVzIChKUyBzcGVjaWZpYykgKi9cbiAgdGhpcy5kaXN0ZHluID0gbnVsbDsgICAgICAgICAgICAgLyogZHluYW1pYyB0YWJsZSBmb3IgZGlzdGFuY2UgY29kZXMgKEpTIHNwZWNpZmljKSAqL1xuICB0aGlzLnNhbmUgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBpZiBmYWxzZSwgYWxsb3cgaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyICovXG4gIHRoaXMuYmFjayA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIGJpdHMgYmFjayBvZiBsYXN0IHVucHJvY2Vzc2VkIGxlbmd0aC9saXQgKi9cbiAgdGhpcy53YXMgPSAwOyAgICAgICAgICAgICAgICAgICAgLyogaW5pdGlhbCBsZW5ndGggb2YgbWF0Y2ggKi9cbn1cblxuZnVuY3Rpb24gaW5mbGF0ZVJlc2V0S2VlcChzdHJtKSB7XG4gIHZhciBzdGF0ZTtcblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgc3RybS50b3RhbF9pbiA9IHN0cm0udG90YWxfb3V0ID0gc3RhdGUudG90YWwgPSAwO1xuICBzdHJtLm1zZyA9ICcnOyAvKlpfTlVMTCovXG4gIGlmIChzdGF0ZS53cmFwKSB7ICAgICAgIC8qIHRvIHN1cHBvcnQgaWxsLWNvbmNlaXZlZCBKYXZhIHRlc3Qgc3VpdGUgKi9cbiAgICBzdHJtLmFkbGVyID0gc3RhdGUud3JhcCAmIDE7XG4gIH1cbiAgc3RhdGUubW9kZSA9IEhFQUQ7XG4gIHN0YXRlLmxhc3QgPSAwO1xuICBzdGF0ZS5oYXZlZGljdCA9IDA7XG4gIHN0YXRlLmRtYXggPSAzMjc2ODtcbiAgc3RhdGUuaGVhZCA9IG51bGwvKlpfTlVMTCovO1xuICBzdGF0ZS5ob2xkID0gMDtcbiAgc3RhdGUuYml0cyA9IDA7XG4gIC8vc3RhdGUubGVuY29kZSA9IHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUubmV4dCA9IHN0YXRlLmNvZGVzO1xuICBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubGVuZHluID0gbmV3IHV0aWxzLkJ1ZjMyKEVOT1VHSF9MRU5TKTtcbiAgc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5kaXN0ZHluID0gbmV3IHV0aWxzLkJ1ZjMyKEVOT1VHSF9ESVNUUyk7XG5cbiAgc3RhdGUuc2FuZSA9IDE7XG4gIHN0YXRlLmJhY2sgPSAtMTtcbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiByZXNldFxcblwiKSk7XG4gIHJldHVybiBaX09LO1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlUmVzZXQoc3RybSkge1xuICB2YXIgc3RhdGU7XG5cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIHN0YXRlLndzaXplID0gMDtcbiAgc3RhdGUud2hhdmUgPSAwO1xuICBzdGF0ZS53bmV4dCA9IDA7XG4gIHJldHVybiBpbmZsYXRlUmVzZXRLZWVwKHN0cm0pO1xuXG59XG5cbmZ1bmN0aW9uIGluZmxhdGVSZXNldDIoc3RybSwgd2luZG93Qml0cykge1xuICB2YXIgd3JhcDtcbiAgdmFyIHN0YXRlO1xuXG4gIC8qIGdldCB0aGUgc3RhdGUgKi9cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG5cbiAgLyogZXh0cmFjdCB3cmFwIHJlcXVlc3QgZnJvbSB3aW5kb3dCaXRzIHBhcmFtZXRlciAqL1xuICBpZiAod2luZG93Qml0cyA8IDApIHtcbiAgICB3cmFwID0gMDtcbiAgICB3aW5kb3dCaXRzID0gLXdpbmRvd0JpdHM7XG4gIH1cbiAgZWxzZSB7XG4gICAgd3JhcCA9ICh3aW5kb3dCaXRzID4+IDQpICsgMTtcbiAgICBpZiAod2luZG93Qml0cyA8IDQ4KSB7XG4gICAgICB3aW5kb3dCaXRzICY9IDE1O1xuICAgIH1cbiAgfVxuXG4gIC8qIHNldCBudW1iZXIgb2Ygd2luZG93IGJpdHMsIGZyZWUgd2luZG93IGlmIGRpZmZlcmVudCAqL1xuICBpZiAod2luZG93Qml0cyAmJiAod2luZG93Qml0cyA8IDggfHwgd2luZG93Qml0cyA+IDE1KSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuICBpZiAoc3RhdGUud2luZG93ICE9PSBudWxsICYmIHN0YXRlLndiaXRzICE9PSB3aW5kb3dCaXRzKSB7XG4gICAgc3RhdGUud2luZG93ID0gbnVsbDtcbiAgfVxuXG4gIC8qIHVwZGF0ZSBzdGF0ZSBhbmQgcmVzZXQgdGhlIHJlc3Qgb2YgaXQgKi9cbiAgc3RhdGUud3JhcCA9IHdyYXA7XG4gIHN0YXRlLndiaXRzID0gd2luZG93Qml0cztcbiAgcmV0dXJuIGluZmxhdGVSZXNldChzdHJtKTtcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZUluaXQyKHN0cm0sIHdpbmRvd0JpdHMpIHtcbiAgdmFyIHJldDtcbiAgdmFyIHN0YXRlO1xuXG4gIGlmICghc3RybSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgLy9zdHJtLm1zZyA9IFpfTlVMTDsgICAgICAgICAgICAgICAgIC8qIGluIGNhc2Ugd2UgcmV0dXJuIGFuIGVycm9yICovXG5cbiAgc3RhdGUgPSBuZXcgSW5mbGF0ZVN0YXRlKCk7XG5cbiAgLy9pZiAoc3RhdGUgPT09IFpfTlVMTCkgcmV0dXJuIFpfTUVNX0VSUk9SO1xuICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6IGFsbG9jYXRlZFxcblwiKSk7XG4gIHN0cm0uc3RhdGUgPSBzdGF0ZTtcbiAgc3RhdGUud2luZG93ID0gbnVsbC8qWl9OVUxMKi87XG4gIHJldCA9IGluZmxhdGVSZXNldDIoc3RybSwgd2luZG93Qml0cyk7XG4gIGlmIChyZXQgIT09IFpfT0spIHtcbiAgICBzdHJtLnN0YXRlID0gbnVsbC8qWl9OVUxMKi87XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZUluaXQoc3RybSkge1xuICByZXR1cm4gaW5mbGF0ZUluaXQyKHN0cm0sIERFRl9XQklUUyk7XG59XG5cblxuLypcbiBSZXR1cm4gc3RhdGUgd2l0aCBsZW5ndGggYW5kIGRpc3RhbmNlIGRlY29kaW5nIHRhYmxlcyBhbmQgaW5kZXggc2l6ZXMgc2V0IHRvXG4gZml4ZWQgY29kZSBkZWNvZGluZy4gIE5vcm1hbGx5IHRoaXMgcmV0dXJucyBmaXhlZCB0YWJsZXMgZnJvbSBpbmZmaXhlZC5oLlxuIElmIEJVSUxERklYRUQgaXMgZGVmaW5lZCwgdGhlbiBpbnN0ZWFkIHRoaXMgcm91dGluZSBidWlsZHMgdGhlIHRhYmxlcyB0aGVcbiBmaXJzdCB0aW1lIGl0J3MgY2FsbGVkLCBhbmQgcmV0dXJucyB0aG9zZSB0YWJsZXMgdGhlIGZpcnN0IHRpbWUgYW5kXG4gdGhlcmVhZnRlci4gIFRoaXMgcmVkdWNlcyB0aGUgc2l6ZSBvZiB0aGUgY29kZSBieSBhYm91dCAySyBieXRlcywgaW5cbiBleGNoYW5nZSBmb3IgYSBsaXR0bGUgZXhlY3V0aW9uIHRpbWUuICBIb3dldmVyLCBCVUlMREZJWEVEIHNob3VsZCBub3QgYmVcbiB1c2VkIGZvciB0aHJlYWRlZCBhcHBsaWNhdGlvbnMsIHNpbmNlIHRoZSByZXdyaXRpbmcgb2YgdGhlIHRhYmxlcyBhbmQgdmlyZ2luXG4gbWF5IG5vdCBiZSB0aHJlYWQtc2FmZS5cbiAqL1xudmFyIHZpcmdpbiA9IHRydWU7XG5cbnZhciBsZW5maXgsIGRpc3RmaXg7IC8vIFdlIGhhdmUgbm8gcG9pbnRlcnMgaW4gSlMsIHNvIGtlZXAgdGFibGVzIHNlcGFyYXRlXG5cbmZ1bmN0aW9uIGZpeGVkdGFibGVzKHN0YXRlKSB7XG4gIC8qIGJ1aWxkIGZpeGVkIGh1ZmZtYW4gdGFibGVzIGlmIGZpcnN0IGNhbGwgKG1heSBub3QgYmUgdGhyZWFkIHNhZmUpICovXG4gIGlmICh2aXJnaW4pIHtcbiAgICB2YXIgc3ltO1xuXG4gICAgbGVuZml4ID0gbmV3IHV0aWxzLkJ1ZjMyKDUxMik7XG4gICAgZGlzdGZpeCA9IG5ldyB1dGlscy5CdWYzMigzMik7XG5cbiAgICAvKiBsaXRlcmFsL2xlbmd0aCB0YWJsZSAqL1xuICAgIHN5bSA9IDA7XG4gICAgd2hpbGUgKHN5bSA8IDE0NCkgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDg7IH1cbiAgICB3aGlsZSAoc3ltIDwgMjU2KSB7IHN0YXRlLmxlbnNbc3ltKytdID0gOTsgfVxuICAgIHdoaWxlIChzeW0gPCAyODApIHsgc3RhdGUubGVuc1tzeW0rK10gPSA3OyB9XG4gICAgd2hpbGUgKHN5bSA8IDI4OCkgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDg7IH1cblxuICAgIGluZmxhdGVfdGFibGUoTEVOUywgIHN0YXRlLmxlbnMsIDAsIDI4OCwgbGVuZml4LCAgIDAsIHN0YXRlLndvcmssIHsgYml0czogOSB9KTtcblxuICAgIC8qIGRpc3RhbmNlIHRhYmxlICovXG4gICAgc3ltID0gMDtcbiAgICB3aGlsZSAoc3ltIDwgMzIpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA1OyB9XG5cbiAgICBpbmZsYXRlX3RhYmxlKERJU1RTLCBzdGF0ZS5sZW5zLCAwLCAzMiwgICBkaXN0Zml4LCAwLCBzdGF0ZS53b3JrLCB7IGJpdHM6IDUgfSk7XG5cbiAgICAvKiBkbyB0aGlzIGp1c3Qgb25jZSAqL1xuICAgIHZpcmdpbiA9IGZhbHNlO1xuICB9XG5cbiAgc3RhdGUubGVuY29kZSA9IGxlbmZpeDtcbiAgc3RhdGUubGVuYml0cyA9IDk7XG4gIHN0YXRlLmRpc3Rjb2RlID0gZGlzdGZpeDtcbiAgc3RhdGUuZGlzdGJpdHMgPSA1O1xufVxuXG5cbi8qXG4gVXBkYXRlIHRoZSB3aW5kb3cgd2l0aCB0aGUgbGFzdCB3c2l6ZSAobm9ybWFsbHkgMzJLKSBieXRlcyB3cml0dGVuIGJlZm9yZVxuIHJldHVybmluZy4gIElmIHdpbmRvdyBkb2VzIG5vdCBleGlzdCB5ZXQsIGNyZWF0ZSBpdC4gIFRoaXMgaXMgb25seSBjYWxsZWRcbiB3aGVuIGEgd2luZG93IGlzIGFscmVhZHkgaW4gdXNlLCBvciB3aGVuIG91dHB1dCBoYXMgYmVlbiB3cml0dGVuIGR1cmluZyB0aGlzXG4gaW5mbGF0ZSBjYWxsLCBidXQgdGhlIGVuZCBvZiB0aGUgZGVmbGF0ZSBzdHJlYW0gaGFzIG5vdCBiZWVuIHJlYWNoZWQgeWV0LlxuIEl0IGlzIGFsc28gY2FsbGVkIHRvIGNyZWF0ZSBhIHdpbmRvdyBmb3IgZGljdGlvbmFyeSBkYXRhIHdoZW4gYSBkaWN0aW9uYXJ5XG4gaXMgbG9hZGVkLlxuXG4gUHJvdmlkaW5nIG91dHB1dCBidWZmZXJzIGxhcmdlciB0aGFuIDMySyB0byBpbmZsYXRlKCkgc2hvdWxkIHByb3ZpZGUgYSBzcGVlZFxuIGFkdmFudGFnZSwgc2luY2Ugb25seSB0aGUgbGFzdCAzMksgb2Ygb3V0cHV0IGlzIGNvcGllZCB0byB0aGUgc2xpZGluZyB3aW5kb3dcbiB1cG9uIHJldHVybiBmcm9tIGluZmxhdGUoKSwgYW5kIHNpbmNlIGFsbCBkaXN0YW5jZXMgYWZ0ZXIgdGhlIGZpcnN0IDMySyBvZlxuIG91dHB1dCB3aWxsIGZhbGwgaW4gdGhlIG91dHB1dCBkYXRhLCBtYWtpbmcgbWF0Y2ggY29waWVzIHNpbXBsZXIgYW5kIGZhc3Rlci5cbiBUaGUgYWR2YW50YWdlIG1heSBiZSBkZXBlbmRlbnQgb24gdGhlIHNpemUgb2YgdGhlIHByb2Nlc3NvcidzIGRhdGEgY2FjaGVzLlxuICovXG5mdW5jdGlvbiB1cGRhdGV3aW5kb3coc3RybSwgc3JjLCBlbmQsIGNvcHkpIHtcbiAgdmFyIGRpc3Q7XG4gIHZhciBzdGF0ZSA9IHN0cm0uc3RhdGU7XG5cbiAgLyogaWYgaXQgaGFzbid0IGJlZW4gZG9uZSBhbHJlYWR5LCBhbGxvY2F0ZSBzcGFjZSBmb3IgdGhlIHdpbmRvdyAqL1xuICBpZiAoc3RhdGUud2luZG93ID09PSBudWxsKSB7XG4gICAgc3RhdGUud3NpemUgPSAxIDw8IHN0YXRlLndiaXRzO1xuICAgIHN0YXRlLnduZXh0ID0gMDtcbiAgICBzdGF0ZS53aGF2ZSA9IDA7XG5cbiAgICBzdGF0ZS53aW5kb3cgPSBuZXcgdXRpbHMuQnVmOChzdGF0ZS53c2l6ZSk7XG4gIH1cblxuICAvKiBjb3B5IHN0YXRlLT53c2l6ZSBvciBsZXNzIG91dHB1dCBieXRlcyBpbnRvIHRoZSBjaXJjdWxhciB3aW5kb3cgKi9cbiAgaWYgKGNvcHkgPj0gc3RhdGUud3NpemUpIHtcbiAgICB1dGlscy5hcnJheVNldChzdGF0ZS53aW5kb3csIHNyYywgZW5kIC0gc3RhdGUud3NpemUsIHN0YXRlLndzaXplLCAwKTtcbiAgICBzdGF0ZS53bmV4dCA9IDA7XG4gICAgc3RhdGUud2hhdmUgPSBzdGF0ZS53c2l6ZTtcbiAgfVxuICBlbHNlIHtcbiAgICBkaXN0ID0gc3RhdGUud3NpemUgLSBzdGF0ZS53bmV4dDtcbiAgICBpZiAoZGlzdCA+IGNvcHkpIHtcbiAgICAgIGRpc3QgPSBjb3B5O1xuICAgIH1cbiAgICAvL3ptZW1jcHkoc3RhdGUtPndpbmRvdyArIHN0YXRlLT53bmV4dCwgZW5kIC0gY29weSwgZGlzdCk7XG4gICAgdXRpbHMuYXJyYXlTZXQoc3RhdGUud2luZG93LCBzcmMsIGVuZCAtIGNvcHksIGRpc3QsIHN0YXRlLnduZXh0KTtcbiAgICBjb3B5IC09IGRpc3Q7XG4gICAgaWYgKGNvcHkpIHtcbiAgICAgIC8vem1lbWNweShzdGF0ZS0+d2luZG93LCBlbmQgLSBjb3B5LCBjb3B5KTtcbiAgICAgIHV0aWxzLmFycmF5U2V0KHN0YXRlLndpbmRvdywgc3JjLCBlbmQgLSBjb3B5LCBjb3B5LCAwKTtcbiAgICAgIHN0YXRlLnduZXh0ID0gY29weTtcbiAgICAgIHN0YXRlLndoYXZlID0gc3RhdGUud3NpemU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc3RhdGUud25leHQgKz0gZGlzdDtcbiAgICAgIGlmIChzdGF0ZS53bmV4dCA9PT0gc3RhdGUud3NpemUpIHsgc3RhdGUud25leHQgPSAwOyB9XG4gICAgICBpZiAoc3RhdGUud2hhdmUgPCBzdGF0ZS53c2l6ZSkgeyBzdGF0ZS53aGF2ZSArPSBkaXN0OyB9XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlKHN0cm0sIGZsdXNoKSB7XG4gIHZhciBzdGF0ZTtcbiAgdmFyIGlucHV0LCBvdXRwdXQ7ICAgICAgICAgIC8vIGlucHV0L291dHB1dCBidWZmZXJzXG4gIHZhciBuZXh0OyAgICAgICAgICAgICAgICAgICAvKiBuZXh0IGlucHV0IElOREVYICovXG4gIHZhciBwdXQ7ICAgICAgICAgICAgICAgICAgICAvKiBuZXh0IG91dHB1dCBJTkRFWCAqL1xuICB2YXIgaGF2ZSwgbGVmdDsgICAgICAgICAgICAgLyogYXZhaWxhYmxlIGlucHV0IGFuZCBvdXRwdXQgKi9cbiAgdmFyIGhvbGQ7ICAgICAgICAgICAgICAgICAgIC8qIGJpdCBidWZmZXIgKi9cbiAgdmFyIGJpdHM7ICAgICAgICAgICAgICAgICAgIC8qIGJpdHMgaW4gYml0IGJ1ZmZlciAqL1xuICB2YXIgX2luLCBfb3V0OyAgICAgICAgICAgICAgLyogc2F2ZSBzdGFydGluZyBhdmFpbGFibGUgaW5wdXQgYW5kIG91dHB1dCAqL1xuICB2YXIgY29weTsgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIHN0b3JlZCBvciBtYXRjaCBieXRlcyB0byBjb3B5ICovXG4gIHZhciBmcm9tOyAgICAgICAgICAgICAgICAgICAvKiB3aGVyZSB0byBjb3B5IG1hdGNoIGJ5dGVzIGZyb20gKi9cbiAgdmFyIGZyb21fc291cmNlO1xuICB2YXIgaGVyZSA9IDA7ICAgICAgICAgICAgICAgLyogY3VycmVudCBkZWNvZGluZyB0YWJsZSBlbnRyeSAqL1xuICB2YXIgaGVyZV9iaXRzLCBoZXJlX29wLCBoZXJlX3ZhbDsgLy8gcGFrZWQgXCJoZXJlXCIgZGVub3JtYWxpemVkIChKUyBzcGVjaWZpYylcbiAgLy92YXIgbGFzdDsgICAgICAgICAgICAgICAgICAgLyogcGFyZW50IHRhYmxlIGVudHJ5ICovXG4gIHZhciBsYXN0X2JpdHMsIGxhc3Rfb3AsIGxhc3RfdmFsOyAvLyBwYWtlZCBcImxhc3RcIiBkZW5vcm1hbGl6ZWQgKEpTIHNwZWNpZmljKVxuICB2YXIgbGVuOyAgICAgICAgICAgICAgICAgICAgLyogbGVuZ3RoIHRvIGNvcHkgZm9yIHJlcGVhdHMsIGJpdHMgdG8gZHJvcCAqL1xuICB2YXIgcmV0OyAgICAgICAgICAgICAgICAgICAgLyogcmV0dXJuIGNvZGUgKi9cbiAgdmFyIGhidWYgPSBuZXcgdXRpbHMuQnVmOCg0KTsgICAgLyogYnVmZmVyIGZvciBnemlwIGhlYWRlciBjcmMgY2FsY3VsYXRpb24gKi9cbiAgdmFyIG9wdHM7XG5cbiAgdmFyIG47IC8vIHRlbXBvcmFyeSB2YXIgZm9yIE5FRURfQklUU1xuXG4gIHZhciBvcmRlciA9IC8qIHBlcm11dGF0aW9uIG9mIGNvZGUgbGVuZ3RocyAqL1xuICAgIFsgMTYsIDE3LCAxOCwgMCwgOCwgNywgOSwgNiwgMTAsIDUsIDExLCA0LCAxMiwgMywgMTMsIDIsIDE0LCAxLCAxNSBdO1xuXG5cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlIHx8ICFzdHJtLm91dHB1dCB8fFxuICAgICAgKCFzdHJtLmlucHV0ICYmIHN0cm0uYXZhaWxfaW4gIT09IDApKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG5cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBpZiAoc3RhdGUubW9kZSA9PT0gVFlQRSkgeyBzdGF0ZS5tb2RlID0gVFlQRURPOyB9ICAgIC8qIHNraXAgY2hlY2sgKi9cblxuXG4gIC8vLS0tIExPQUQoKSAtLS1cbiAgcHV0ID0gc3RybS5uZXh0X291dDtcbiAgb3V0cHV0ID0gc3RybS5vdXRwdXQ7XG4gIGxlZnQgPSBzdHJtLmF2YWlsX291dDtcbiAgbmV4dCA9IHN0cm0ubmV4dF9pbjtcbiAgaW5wdXQgPSBzdHJtLmlucHV0O1xuICBoYXZlID0gc3RybS5hdmFpbF9pbjtcbiAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gIGJpdHMgPSBzdGF0ZS5iaXRzO1xuICAvLy0tLVxuXG4gIF9pbiA9IGhhdmU7XG4gIF9vdXQgPSBsZWZ0O1xuICByZXQgPSBaX09LO1xuXG4gIGluZl9sZWF2ZTogLy8gZ290byBlbXVsYXRpb25cbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoc3RhdGUubW9kZSkge1xuICAgIGNhc2UgSEVBRDpcbiAgICAgIGlmIChzdGF0ZS53cmFwID09PSAwKSB7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFRE87XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy89PT0gTkVFREJJVFMoMTYpO1xuICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgaGF2ZS0tO1xuICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgYml0cyArPSA4O1xuICAgICAgfVxuICAgICAgLy89PT0vL1xuICAgICAgaWYgKChzdGF0ZS53cmFwICYgMikgJiYgaG9sZCA9PT0gMHg4YjFmKSB7ICAvKiBnemlwIGhlYWRlciAqL1xuICAgICAgICBzdGF0ZS5jaGVjayA9IDAvKmNyYzMyKDBMLCBaX05VTEwsIDApKi87XG4gICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgLy89PT0vL1xuXG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gRkxBR1M7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc3RhdGUuZmxhZ3MgPSAwOyAgICAgICAgICAgLyogZXhwZWN0IHpsaWIgaGVhZGVyICovXG4gICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLmRvbmUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghKHN0YXRlLndyYXAgJiAxKSB8fCAgIC8qIGNoZWNrIGlmIHpsaWIgaGVhZGVyIGFsbG93ZWQgKi9cbiAgICAgICAgKCgoaG9sZCAmIDB4ZmYpLypCSVRTKDgpKi8gPDwgOCkgKyAoaG9sZCA+PiA4KSkgJSAzMSkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbmNvcnJlY3QgaGVhZGVyIGNoZWNrJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoKGhvbGQgJiAweDBmKS8qQklUUyg0KSovICE9PSBaX0RFRkxBVEVEKSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ3Vua25vd24gY29tcHJlc3Npb24gbWV0aG9kJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLy0tLSBEUk9QQklUUyg0KSAtLS0vL1xuICAgICAgaG9sZCA+Pj49IDQ7XG4gICAgICBiaXRzIC09IDQ7XG4gICAgICAvLy0tLS8vXG4gICAgICBsZW4gPSAoaG9sZCAmIDB4MGYpLypCSVRTKDQpKi8gKyA4O1xuICAgICAgaWYgKHN0YXRlLndiaXRzID09PSAwKSB7XG4gICAgICAgIHN0YXRlLndiaXRzID0gbGVuO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobGVuID4gc3RhdGUud2JpdHMpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCB3aW5kb3cgc2l6ZSc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc3RhdGUuZG1heCA9IDEgPDwgbGVuO1xuICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIHpsaWIgaGVhZGVyIG9rXFxuXCIpKTtcbiAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IDEvKmFkbGVyMzIoMEwsIFpfTlVMTCwgMCkqLztcbiAgICAgIHN0YXRlLm1vZGUgPSBob2xkICYgMHgyMDAgPyBESUNUSUQgOiBUWVBFO1xuICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgIGhvbGQgPSAwO1xuICAgICAgYml0cyA9IDA7XG4gICAgICAvLz09PS8vXG4gICAgICBicmVhaztcbiAgICBjYXNlIEZMQUdTOlxuICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgaGF2ZS0tO1xuICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgYml0cyArPSA4O1xuICAgICAgfVxuICAgICAgLy89PT0vL1xuICAgICAgc3RhdGUuZmxhZ3MgPSBob2xkO1xuICAgICAgaWYgKChzdGF0ZS5mbGFncyAmIDB4ZmYpICE9PSBaX0RFRkxBVEVEKSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ3Vua25vd24gY29tcHJlc3Npb24gbWV0aG9kJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweGUwMDApIHtcbiAgICAgICAgc3RybS5tc2cgPSAndW5rbm93biBoZWFkZXIgZmxhZ3Mgc2V0JztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLnRleHQgPSAoKGhvbGQgPj4gOCkgJiAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgIH1cbiAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICBob2xkID0gMDtcbiAgICAgIGJpdHMgPSAwO1xuICAgICAgLy89PT0vL1xuICAgICAgc3RhdGUubW9kZSA9IFRJTUU7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBUSU1FOlxuICAgICAgLy89PT0gTkVFREJJVFMoMzIpOyAqL1xuICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgaGF2ZS0tO1xuICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgYml0cyArPSA4O1xuICAgICAgfVxuICAgICAgLy89PT0vL1xuICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgc3RhdGUuaGVhZC50aW1lID0gaG9sZDtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAvLz09PSBDUkM0KHN0YXRlLmNoZWNrLCBob2xkKVxuICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICBoYnVmWzJdID0gKGhvbGQgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgIGhidWZbM10gPSAoaG9sZCA+Pj4gMjQpICYgMHhmZjtcbiAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaGJ1ZiwgNCwgMCk7XG4gICAgICAgIC8vPT09XG4gICAgICB9XG4gICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgaG9sZCA9IDA7XG4gICAgICBiaXRzID0gMDtcbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0YXRlLm1vZGUgPSBPUztcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIE9TOlxuICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgaGF2ZS0tO1xuICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgYml0cyArPSA4O1xuICAgICAgfVxuICAgICAgLy89PT0vL1xuICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgc3RhdGUuaGVhZC54ZmxhZ3MgPSAoaG9sZCAmIDB4ZmYpO1xuICAgICAgICBzdGF0ZS5oZWFkLm9zID0gKGhvbGQgPj4gOCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAvLz09PS8vXG4gICAgICB9XG4gICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgaG9sZCA9IDA7XG4gICAgICBiaXRzID0gMDtcbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0YXRlLm1vZGUgPSBFWExFTjtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIEVYTEVOOlxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwNDAwKSB7XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5sZW5ndGggPSBob2xkO1xuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQuZXh0cmFfbGVuID0gaG9sZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhID0gbnVsbC8qWl9OVUxMKi87XG4gICAgICB9XG4gICAgICBzdGF0ZS5tb2RlID0gRVhUUkE7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBFWFRSQTpcbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDQwMCkge1xuICAgICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICBpZiAoY29weSA+IGhhdmUpIHsgY29weSA9IGhhdmU7IH1cbiAgICAgICAgaWYgKGNvcHkpIHtcbiAgICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgICAgbGVuID0gc3RhdGUuaGVhZC5leHRyYV9sZW4gLSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmhlYWQuZXh0cmEpIHtcbiAgICAgICAgICAgICAgLy8gVXNlIHVudHlwZWQgYXJyYXkgZm9yIG1vcmUgY29udmVuaWVuZCBwcm9jZXNzaW5nIGxhdGVyXG4gICAgICAgICAgICAgIHN0YXRlLmhlYWQuZXh0cmEgPSBuZXcgQXJyYXkoc3RhdGUuaGVhZC5leHRyYV9sZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXRpbHMuYXJyYXlTZXQoXG4gICAgICAgICAgICAgIHN0YXRlLmhlYWQuZXh0cmEsXG4gICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICBuZXh0LFxuICAgICAgICAgICAgICAvLyBleHRyYSBmaWVsZCBpcyBsaW1pdGVkIHRvIDY1NTM2IGJ5dGVzXG4gICAgICAgICAgICAgIC8vIC0gbm8gbmVlZCBmb3IgYWRkaXRpb25hbCBzaXplIGNoZWNrXG4gICAgICAgICAgICAgIGNvcHksXG4gICAgICAgICAgICAgIC8qbGVuICsgY29weSA+IHN0YXRlLmhlYWQuZXh0cmFfbWF4IC0gbGVuID8gc3RhdGUuaGVhZC5leHRyYV9tYXggOiBjb3B5LCovXG4gICAgICAgICAgICAgIGxlblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vem1lbWNweShzdGF0ZS5oZWFkLmV4dHJhICsgbGVuLCBuZXh0LFxuICAgICAgICAgICAgLy8gICAgICAgIGxlbiArIGNvcHkgPiBzdGF0ZS5oZWFkLmV4dHJhX21heCA/XG4gICAgICAgICAgICAvLyAgICAgICAgc3RhdGUuaGVhZC5leHRyYV9tYXggLSBsZW4gOiBjb3B5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBpbnB1dCwgY29weSwgbmV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgICAgc3RhdGUubGVuZ3RoIC09IGNvcHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgIH1cbiAgICAgIHN0YXRlLmxlbmd0aCA9IDA7XG4gICAgICBzdGF0ZS5tb2RlID0gTkFNRTtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIE5BTUU6XG4gICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA4MDApIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGNvcHkgPSAwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgLy8gVE9ETzogMiBvciAxIGJ5dGVzP1xuICAgICAgICAgIGxlbiA9IGlucHV0W25leHQgKyBjb3B5KytdO1xuICAgICAgICAgIC8qIHVzZSBjb25zdGFudCBsaW1pdCBiZWNhdXNlIGluIGpzIHdlIHNob3VsZCBub3QgcHJlYWxsb2NhdGUgbWVtb3J5ICovXG4gICAgICAgICAgaWYgKHN0YXRlLmhlYWQgJiYgbGVuICYmXG4gICAgICAgICAgICAgIChzdGF0ZS5sZW5ndGggPCA2NTUzNiAvKnN0YXRlLmhlYWQubmFtZV9tYXgqLykpIHtcbiAgICAgICAgICAgIHN0YXRlLmhlYWQubmFtZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGxlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChsZW4gJiYgY29weSA8IGhhdmUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGlucHV0LCBjb3B5LCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgaWYgKGxlbikgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgc3RhdGUuaGVhZC5uYW1lID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmxlbmd0aCA9IDA7XG4gICAgICBzdGF0ZS5tb2RlID0gQ09NTUVOVDtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIENPTU1FTlQ6XG4gICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDEwMDApIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGNvcHkgPSAwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgbGVuID0gaW5wdXRbbmV4dCArIGNvcHkrK107XG4gICAgICAgICAgLyogdXNlIGNvbnN0YW50IGxpbWl0IGJlY2F1c2UgaW4ganMgd2Ugc2hvdWxkIG5vdCBwcmVhbGxvY2F0ZSBtZW1vcnkgKi9cbiAgICAgICAgICBpZiAoc3RhdGUuaGVhZCAmJiBsZW4gJiZcbiAgICAgICAgICAgICAgKHN0YXRlLmxlbmd0aCA8IDY1NTM2IC8qc3RhdGUuaGVhZC5jb21tX21heCovKSkge1xuICAgICAgICAgICAgc3RhdGUuaGVhZC5jb21tZW50ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobGVuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGxlbiAmJiBjb3B5IDwgaGF2ZSk7XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGlucHV0LCBjb3B5LCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgaWYgKGxlbikgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgc3RhdGUuaGVhZC5jb21tZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHN0YXRlLm1vZGUgPSBIQ1JDO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgSENSQzpcbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMTYpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgaWYgKGhvbGQgIT09IChzdGF0ZS5jaGVjayAmIDB4ZmZmZikpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdoZWFkZXIgY3JjIG1pc21hdGNoJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgc3RhdGUuaGVhZC5oY3JjID0gKChzdGF0ZS5mbGFncyA+PiA5KSAmIDEpO1xuICAgICAgICBzdGF0ZS5oZWFkLmRvbmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gMDtcbiAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBESUNUSUQ6XG4gICAgICAvLz09PSBORUVEQklUUygzMik7ICovXG4gICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSB6c3dhcDMyKGhvbGQpO1xuICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgIGhvbGQgPSAwO1xuICAgICAgYml0cyA9IDA7XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5tb2RlID0gRElDVDtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIERJQ1Q6XG4gICAgICBpZiAoc3RhdGUuaGF2ZWRpY3QgPT09IDApIHtcbiAgICAgICAgLy8tLS0gUkVTVE9SRSgpIC0tLVxuICAgICAgICBzdHJtLm5leHRfb3V0ID0gcHV0O1xuICAgICAgICBzdHJtLmF2YWlsX291dCA9IGxlZnQ7XG4gICAgICAgIHN0cm0ubmV4dF9pbiA9IG5leHQ7XG4gICAgICAgIHN0cm0uYXZhaWxfaW4gPSBoYXZlO1xuICAgICAgICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgICAgICAgc3RhdGUuYml0cyA9IGJpdHM7XG4gICAgICAgIC8vLS0tXG4gICAgICAgIHJldHVybiBaX05FRURfRElDVDtcbiAgICAgIH1cbiAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IDEvKmFkbGVyMzIoMEwsIFpfTlVMTCwgMCkqLztcbiAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgVFlQRTpcbiAgICAgIGlmIChmbHVzaCA9PT0gWl9CTE9DSyB8fCBmbHVzaCA9PT0gWl9UUkVFUykgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIFRZUEVETzpcbiAgICAgIGlmIChzdGF0ZS5sYXN0KSB7XG4gICAgICAgIC8vLS0tIEJZVEVCSVRTKCkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IGJpdHMgJiA3O1xuICAgICAgICBiaXRzIC09IGJpdHMgJiA3O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBDSEVDSztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLz09PSBORUVEQklUUygzKTsgKi9cbiAgICAgIHdoaWxlIChiaXRzIDwgMykge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgaGF2ZS0tO1xuICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgYml0cyArPSA4O1xuICAgICAgfVxuICAgICAgLy89PT0vL1xuICAgICAgc3RhdGUubGFzdCA9IChob2xkICYgMHgwMSkvKkJJVFMoMSkqLztcbiAgICAgIC8vLS0tIERST1BCSVRTKDEpIC0tLS8vXG4gICAgICBob2xkID4+Pj0gMTtcbiAgICAgIGJpdHMgLT0gMTtcbiAgICAgIC8vLS0tLy9cblxuICAgICAgc3dpdGNoICgoaG9sZCAmIDB4MDMpLypCSVRTKDIpKi8pIHtcbiAgICAgIGNhc2UgMDogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIHN0b3JlZCBibG9jayAqL1xuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICBzdG9yZWQgYmxvY2slc1xcblwiLFxuICAgICAgICAvLyAgICAgICAgc3RhdGUubGFzdCA/IFwiIChsYXN0KVwiIDogXCJcIikpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gU1RPUkVEO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMTogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGZpeGVkIGJsb2NrICovXG4gICAgICAgIGZpeGVkdGFibGVzKHN0YXRlKTtcbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgZml4ZWQgY29kZXMgYmxvY2slc1xcblwiLFxuICAgICAgICAvLyAgICAgICAgc3RhdGUubGFzdCA/IFwiIChsYXN0KVwiIDogXCJcIikpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTEVOXzsgICAgICAgICAgICAgLyogZGVjb2RlIGNvZGVzICovXG4gICAgICAgIGlmIChmbHVzaCA9PT0gWl9UUkVFUykge1xuICAgICAgICAgIC8vLS0tIERST1BCSVRTKDIpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICAgICAgYml0cyAtPSAyO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBkeW5hbWljIGJsb2NrICovXG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgIGR5bmFtaWMgY29kZXMgYmxvY2slc1xcblwiLFxuICAgICAgICAvLyAgICAgICAgc3RhdGUubGFzdCA/IFwiIChsYXN0KVwiIDogXCJcIikpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVEFCTEU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJsb2NrIHR5cGUnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgfVxuICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSAyO1xuICAgICAgYml0cyAtPSAyO1xuICAgICAgLy8tLS0vL1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTVE9SRUQ6XG4gICAgICAvLy0tLSBCWVRFQklUUygpIC0tLS8vIC8qIGdvIHRvIGJ5dGUgYm91bmRhcnkgKi9cbiAgICAgIGhvbGQgPj4+PSBiaXRzICYgNztcbiAgICAgIGJpdHMgLT0gYml0cyAmIDc7XG4gICAgICAvLy0tLS8vXG4gICAgICAvLz09PSBORUVEQklUUygzMik7ICovXG4gICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBpZiAoKGhvbGQgJiAweGZmZmYpICE9PSAoKGhvbGQgPj4+IDE2KSBeIDB4ZmZmZikpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBzdG9yZWQgYmxvY2sgbGVuZ3Rocyc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc3RhdGUubGVuZ3RoID0gaG9sZCAmIDB4ZmZmZjtcbiAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgc3RvcmVkIGxlbmd0aCAldVxcblwiLFxuICAgICAgLy8gICAgICAgIHN0YXRlLmxlbmd0aCkpO1xuICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgIGhvbGQgPSAwO1xuICAgICAgYml0cyA9IDA7XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5tb2RlID0gQ09QWV87XG4gICAgICBpZiAoZmx1c2ggPT09IFpfVFJFRVMpIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBDT1BZXzpcbiAgICAgIHN0YXRlLm1vZGUgPSBDT1BZO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgQ09QWTpcbiAgICAgIGNvcHkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICBpZiAoY29weSkge1xuICAgICAgICBpZiAoY29weSA+IGhhdmUpIHsgY29weSA9IGhhdmU7IH1cbiAgICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7IGNvcHkgPSBsZWZ0OyB9XG4gICAgICAgIGlmIChjb3B5ID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAvLy0tLSB6bWVtY3B5KHB1dCwgbmV4dCwgY29weSk7IC0tLVxuICAgICAgICB1dGlscy5hcnJheVNldChvdXRwdXQsIGlucHV0LCBuZXh0LCBjb3B5LCBwdXQpO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICBsZWZ0IC09IGNvcHk7XG4gICAgICAgIHB1dCArPSBjb3B5O1xuICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgIHN0b3JlZCBlbmRcXG5cIikpO1xuICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFRBQkxFOlxuICAgICAgLy89PT0gTkVFREJJVFMoMTQpOyAqL1xuICAgICAgd2hpbGUgKGJpdHMgPCAxNCkge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgaGF2ZS0tO1xuICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgYml0cyArPSA4O1xuICAgICAgfVxuICAgICAgLy89PT0vL1xuICAgICAgc3RhdGUubmxlbiA9IChob2xkICYgMHgxZikvKkJJVFMoNSkqLyArIDI1NztcbiAgICAgIC8vLS0tIERST1BCSVRTKDUpIC0tLS8vXG4gICAgICBob2xkID4+Pj0gNTtcbiAgICAgIGJpdHMgLT0gNTtcbiAgICAgIC8vLS0tLy9cbiAgICAgIHN0YXRlLm5kaXN0ID0gKGhvbGQgJiAweDFmKS8qQklUUyg1KSovICsgMTtcbiAgICAgIC8vLS0tIERST1BCSVRTKDUpIC0tLS8vXG4gICAgICBob2xkID4+Pj0gNTtcbiAgICAgIGJpdHMgLT0gNTtcbiAgICAgIC8vLS0tLy9cbiAgICAgIHN0YXRlLm5jb2RlID0gKGhvbGQgJiAweDBmKS8qQklUUyg0KSovICsgNDtcbiAgICAgIC8vLS0tIERST1BCSVRTKDQpIC0tLS8vXG4gICAgICBob2xkID4+Pj0gNDtcbiAgICAgIGJpdHMgLT0gNDtcbiAgICAgIC8vLS0tLy9cbi8vI2lmbmRlZiBQS1pJUF9CVUdfV09SS0FST1VORFxuICAgICAgaWYgKHN0YXRlLm5sZW4gPiAyODYgfHwgc3RhdGUubmRpc3QgPiAzMCkge1xuICAgICAgICBzdHJtLm1zZyA9ICd0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9scyc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuLy8jZW5kaWZcbiAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgdGFibGUgc2l6ZXMgb2tcXG5cIikpO1xuICAgICAgc3RhdGUuaGF2ZSA9IDA7XG4gICAgICBzdGF0ZS5tb2RlID0gTEVOTEVOUztcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIExFTkxFTlM6XG4gICAgICB3aGlsZSAoc3RhdGUuaGF2ZSA8IHN0YXRlLm5jb2RlKSB7XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDMpO1xuICAgICAgICB3aGlsZSAoYml0cyA8IDMpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubGVuc1tvcmRlcltzdGF0ZS5oYXZlKytdXSA9IChob2xkICYgMHgwNyk7Ly9CSVRTKDMpO1xuICAgICAgICAvLy0tLSBEUk9QQklUUygzKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gMztcbiAgICAgICAgYml0cyAtPSAzO1xuICAgICAgICAvLy0tLS8vXG4gICAgICB9XG4gICAgICB3aGlsZSAoc3RhdGUuaGF2ZSA8IDE5KSB7XG4gICAgICAgIHN0YXRlLmxlbnNbb3JkZXJbc3RhdGUuaGF2ZSsrXV0gPSAwO1xuICAgICAgfVxuICAgICAgLy8gV2UgaGF2ZSBzZXBhcmF0ZSB0YWJsZXMgJiBubyBwb2ludGVycy4gMiBjb21tZW50ZWQgbGluZXMgYmVsb3cgbm90IG5lZWRlZC5cbiAgICAgIC8vc3RhdGUubmV4dCA9IHN0YXRlLmNvZGVzO1xuICAgICAgLy9zdGF0ZS5sZW5jb2RlID0gc3RhdGUubmV4dDtcbiAgICAgIC8vIFN3aXRjaCB0byB1c2UgZHluYW1pYyB0YWJsZVxuICAgICAgc3RhdGUubGVuY29kZSA9IHN0YXRlLmxlbmR5bjtcbiAgICAgIHN0YXRlLmxlbmJpdHMgPSA3O1xuXG4gICAgICBvcHRzID0geyBiaXRzOiBzdGF0ZS5sZW5iaXRzIH07XG4gICAgICByZXQgPSBpbmZsYXRlX3RhYmxlKENPREVTLCBzdGF0ZS5sZW5zLCAwLCAxOSwgc3RhdGUubGVuY29kZSwgMCwgc3RhdGUud29yaywgb3B0cyk7XG4gICAgICBzdGF0ZS5sZW5iaXRzID0gb3B0cy5iaXRzO1xuXG4gICAgICBpZiAocmV0KSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgY29kZSBsZW5ndGhzIHNldCc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICBjb2RlIGxlbmd0aHMgb2tcXG5cIikpO1xuICAgICAgc3RhdGUuaGF2ZSA9IDA7XG4gICAgICBzdGF0ZS5tb2RlID0gQ09ERUxFTlM7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBDT0RFTEVOUzpcbiAgICAgIHdoaWxlIChzdGF0ZS5oYXZlIDwgc3RhdGUubmxlbiArIHN0YXRlLm5kaXN0KSB7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICBoZXJlID0gc3RhdGUubGVuY29kZVtob2xkICYgKCgxIDw8IHN0YXRlLmxlbmJpdHMpIC0gMSldOy8qQklUUyhzdGF0ZS5sZW5iaXRzKSovXG4gICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgIGlmICgoaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZXJlX3ZhbCA8IDE2KSB7XG4gICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSsrXSA9IGhlcmVfdmFsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChoZXJlX3ZhbCA9PT0gMTYpIHtcbiAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDIpO1xuICAgICAgICAgICAgbiA9IGhlcmVfYml0cyArIDI7XG4gICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIGlmIChzdGF0ZS5oYXZlID09PSAwKSB7XG4gICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgYml0IGxlbmd0aCByZXBlYXQnO1xuICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxlbiA9IHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSAtIDFdO1xuICAgICAgICAgICAgY29weSA9IDMgKyAoaG9sZCAmIDB4MDMpOy8vQklUUygyKTtcbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDIpIC0tLS8vXG4gICAgICAgICAgICBob2xkID4+Pj0gMjtcbiAgICAgICAgICAgIGJpdHMgLT0gMjtcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaGVyZV92YWwgPT09IDE3KSB7XG4gICAgICAgICAgICAvLz09PSBORUVEQklUUyhoZXJlLmJpdHMgKyAzKTtcbiAgICAgICAgICAgIG4gPSBoZXJlX2JpdHMgKyAzO1xuICAgICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICBsZW4gPSAwO1xuICAgICAgICAgICAgY29weSA9IDMgKyAoaG9sZCAmIDB4MDcpOy8vQklUUygzKTtcbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDMpIC0tLS8vXG4gICAgICAgICAgICBob2xkID4+Pj0gMztcbiAgICAgICAgICAgIGJpdHMgLT0gMztcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLz09PSBORUVEQklUUyhoZXJlLmJpdHMgKyA3KTtcbiAgICAgICAgICAgIG4gPSBoZXJlX2JpdHMgKyA3O1xuICAgICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICBsZW4gPSAwO1xuICAgICAgICAgICAgY29weSA9IDExICsgKGhvbGQgJiAweDdmKTsvL0JJVFMoNyk7XG4gICAgICAgICAgICAvLy0tLSBEUk9QQklUUyg3KSAtLS0vL1xuICAgICAgICAgICAgaG9sZCA+Pj49IDc7XG4gICAgICAgICAgICBiaXRzIC09IDc7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGF0ZS5oYXZlICsgY29weSA+IHN0YXRlLm5sZW4gKyBzdGF0ZS5uZGlzdCkge1xuICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChjb3B5LS0pIHtcbiAgICAgICAgICAgIHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSsrXSA9IGxlbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogaGFuZGxlIGVycm9yIGJyZWFrcyBpbiB3aGlsZSAqL1xuICAgICAgaWYgKHN0YXRlLm1vZGUgPT09IEJBRCkgeyBicmVhazsgfVxuXG4gICAgICAvKiBjaGVjayBmb3IgZW5kLW9mLWJsb2NrIGNvZGUgKGJldHRlciBoYXZlIG9uZSkgKi9cbiAgICAgIGlmIChzdGF0ZS5sZW5zWzI1Nl0gPT09IDApIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIC8qIGJ1aWxkIGNvZGUgdGFibGVzIC0tIG5vdGU6IGRvIG5vdCBjaGFuZ2UgdGhlIGxlbmJpdHMgb3IgZGlzdGJpdHNcbiAgICAgICAgIHZhbHVlcyBoZXJlICg5IGFuZCA2KSB3aXRob3V0IHJlYWRpbmcgdGhlIGNvbW1lbnRzIGluIGluZnRyZWVzLmhcbiAgICAgICAgIGNvbmNlcm5pbmcgdGhlIEVOT1VHSCBjb25zdGFudHMsIHdoaWNoIGRlcGVuZCBvbiB0aG9zZSB2YWx1ZXMgKi9cbiAgICAgIHN0YXRlLmxlbmJpdHMgPSA5O1xuXG4gICAgICBvcHRzID0geyBiaXRzOiBzdGF0ZS5sZW5iaXRzIH07XG4gICAgICByZXQgPSBpbmZsYXRlX3RhYmxlKExFTlMsIHN0YXRlLmxlbnMsIDAsIHN0YXRlLm5sZW4sIHN0YXRlLmxlbmNvZGUsIDAsIHN0YXRlLndvcmssIG9wdHMpO1xuICAgICAgLy8gV2UgaGF2ZSBzZXBhcmF0ZSB0YWJsZXMgJiBubyBwb2ludGVycy4gMiBjb21tZW50ZWQgbGluZXMgYmVsb3cgbm90IG5lZWRlZC5cbiAgICAgIC8vIHN0YXRlLm5leHRfaW5kZXggPSBvcHRzLnRhYmxlX2luZGV4O1xuICAgICAgc3RhdGUubGVuYml0cyA9IG9wdHMuYml0cztcbiAgICAgIC8vIHN0YXRlLmxlbmNvZGUgPSBzdGF0ZS5uZXh0O1xuXG4gICAgICBpZiAocmV0KSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldCc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBzdGF0ZS5kaXN0Yml0cyA9IDY7XG4gICAgICAvL3N0YXRlLmRpc3Rjb2RlLmNvcHkoc3RhdGUuY29kZXMpO1xuICAgICAgLy8gU3dpdGNoIHRvIHVzZSBkeW5hbWljIHRhYmxlXG4gICAgICBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLmRpc3RkeW47XG4gICAgICBvcHRzID0geyBiaXRzOiBzdGF0ZS5kaXN0Yml0cyB9O1xuICAgICAgcmV0ID0gaW5mbGF0ZV90YWJsZShESVNUUywgc3RhdGUubGVucywgc3RhdGUubmxlbiwgc3RhdGUubmRpc3QsIHN0YXRlLmRpc3Rjb2RlLCAwLCBzdGF0ZS53b3JrLCBvcHRzKTtcbiAgICAgIC8vIFdlIGhhdmUgc2VwYXJhdGUgdGFibGVzICYgbm8gcG9pbnRlcnMuIDIgY29tbWVudGVkIGxpbmVzIGJlbG93IG5vdCBuZWVkZWQuXG4gICAgICAvLyBzdGF0ZS5uZXh0X2luZGV4ID0gb3B0cy50YWJsZV9pbmRleDtcbiAgICAgIHN0YXRlLmRpc3RiaXRzID0gb3B0cy5iaXRzO1xuICAgICAgLy8gc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5uZXh0O1xuXG4gICAgICBpZiAocmV0KSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2VzIHNldCc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgJ2luZmxhdGU6ICAgICAgIGNvZGVzIG9rXFxuJykpO1xuICAgICAgc3RhdGUubW9kZSA9IExFTl87XG4gICAgICBpZiAoZmx1c2ggPT09IFpfVFJFRVMpIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBMRU5fOlxuICAgICAgc3RhdGUubW9kZSA9IExFTjtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIExFTjpcbiAgICAgIGlmIChoYXZlID49IDYgJiYgbGVmdCA+PSAyNTgpIHtcbiAgICAgICAgLy8tLS0gUkVTVE9SRSgpIC0tLVxuICAgICAgICBzdHJtLm5leHRfb3V0ID0gcHV0O1xuICAgICAgICBzdHJtLmF2YWlsX291dCA9IGxlZnQ7XG4gICAgICAgIHN0cm0ubmV4dF9pbiA9IG5leHQ7XG4gICAgICAgIHN0cm0uYXZhaWxfaW4gPSBoYXZlO1xuICAgICAgICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgICAgICAgc3RhdGUuYml0cyA9IGJpdHM7XG4gICAgICAgIC8vLS0tXG4gICAgICAgIGluZmxhdGVfZmFzdChzdHJtLCBfb3V0KTtcbiAgICAgICAgLy8tLS0gTE9BRCgpIC0tLVxuICAgICAgICBwdXQgPSBzdHJtLm5leHRfb3V0O1xuICAgICAgICBvdXRwdXQgPSBzdHJtLm91dHB1dDtcbiAgICAgICAgbGVmdCA9IHN0cm0uYXZhaWxfb3V0O1xuICAgICAgICBuZXh0ID0gc3RybS5uZXh0X2luO1xuICAgICAgICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gICAgICAgIGhhdmUgPSBzdHJtLmF2YWlsX2luO1xuICAgICAgICBob2xkID0gc3RhdGUuaG9sZDtcbiAgICAgICAgYml0cyA9IHN0YXRlLmJpdHM7XG4gICAgICAgIC8vLS0tXG5cbiAgICAgICAgaWYgKHN0YXRlLm1vZGUgPT09IFRZUEUpIHtcbiAgICAgICAgICBzdGF0ZS5iYWNrID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzdGF0ZS5iYWNrID0gMDtcbiAgICAgIGZvciAoOzspIHtcbiAgICAgICAgaGVyZSA9IHN0YXRlLmxlbmNvZGVbaG9sZCAmICgoMSA8PCBzdGF0ZS5sZW5iaXRzKSAtIDEpXTsgIC8qQklUUyhzdGF0ZS5sZW5iaXRzKSovXG4gICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICBpZiAoaGVyZV9iaXRzIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgaGF2ZS0tO1xuICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAvLy0tLS8vXG4gICAgICB9XG4gICAgICBpZiAoaGVyZV9vcCAmJiAoaGVyZV9vcCAmIDB4ZjApID09PSAwKSB7XG4gICAgICAgIGxhc3RfYml0cyA9IGhlcmVfYml0cztcbiAgICAgICAgbGFzdF9vcCA9IGhlcmVfb3A7XG4gICAgICAgIGxhc3RfdmFsID0gaGVyZV92YWw7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICBoZXJlID0gc3RhdGUubGVuY29kZVtsYXN0X3ZhbCArXG4gICAgICAgICAgICAgICAgICAoKGhvbGQgJiAoKDEgPDwgKGxhc3RfYml0cyArIGxhc3Rfb3ApKSAtIDEpKS8qQklUUyhsYXN0LmJpdHMgKyBsYXN0Lm9wKSovID4+IGxhc3RfYml0cyldO1xuICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICBpZiAoKGxhc3RfYml0cyArIGhlcmVfYml0cykgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUyhsYXN0LmJpdHMpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSBsYXN0X2JpdHM7XG4gICAgICAgIGJpdHMgLT0gbGFzdF9iaXRzO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLmJhY2sgKz0gbGFzdF9iaXRzO1xuICAgICAgfVxuICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgLy8tLS0vL1xuICAgICAgc3RhdGUuYmFjayArPSBoZXJlX2JpdHM7XG4gICAgICBzdGF0ZS5sZW5ndGggPSBoZXJlX3ZhbDtcbiAgICAgIGlmIChoZXJlX29wID09PSAwKSB7XG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBoZXJlLnZhbCA+PSAweDIwICYmIGhlcmUudmFsIDwgMHg3ZiA/XG4gICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAnJWMnXFxuXCIgOlxuICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgMHglMDJ4XFxuXCIsIGhlcmUudmFsKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMSVQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGhlcmVfb3AgJiAzMikge1xuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGVuZCBvZiBibG9ja1xcblwiKSk7XG4gICAgICAgIHN0YXRlLmJhY2sgPSAtMTtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGhlcmVfb3AgJiA2NCkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHN0YXRlLmV4dHJhID0gaGVyZV9vcCAmIDE1O1xuICAgICAgc3RhdGUubW9kZSA9IExFTkVYVDtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIExFTkVYVDpcbiAgICAgIGlmIChzdGF0ZS5leHRyYSkge1xuICAgICAgICAvLz09PSBORUVEQklUUyhzdGF0ZS5leHRyYSk7XG4gICAgICAgIG4gPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLmxlbmd0aCArPSBob2xkICYgKCgxIDw8IHN0YXRlLmV4dHJhKSAtIDEpLypCSVRTKHN0YXRlLmV4dHJhKSovO1xuICAgICAgICAvLy0tLSBEUk9QQklUUyhzdGF0ZS5leHRyYSkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IHN0YXRlLmV4dHJhO1xuICAgICAgICBiaXRzIC09IHN0YXRlLmV4dHJhO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLmJhY2sgKz0gc3RhdGUuZXh0cmE7XG4gICAgICB9XG4gICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGxlbmd0aCAldVxcblwiLCBzdGF0ZS5sZW5ndGgpKTtcbiAgICAgIHN0YXRlLndhcyA9IHN0YXRlLmxlbmd0aDtcbiAgICAgIHN0YXRlLm1vZGUgPSBESVNUO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgRElTVDpcbiAgICAgIGZvciAoOzspIHtcbiAgICAgICAgaGVyZSA9IHN0YXRlLmRpc3Rjb2RlW2hvbGQgJiAoKDEgPDwgc3RhdGUuZGlzdGJpdHMpIC0gMSldOy8qQklUUyhzdGF0ZS5kaXN0Yml0cykqL1xuICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgaWYgKChoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgaGF2ZS0tO1xuICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAvLy0tLS8vXG4gICAgICB9XG4gICAgICBpZiAoKGhlcmVfb3AgJiAweGYwKSA9PT0gMCkge1xuICAgICAgICBsYXN0X2JpdHMgPSBoZXJlX2JpdHM7XG4gICAgICAgIGxhc3Rfb3AgPSBoZXJlX29wO1xuICAgICAgICBsYXN0X3ZhbCA9IGhlcmVfdmFsO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgaGVyZSA9IHN0YXRlLmRpc3Rjb2RlW2xhc3RfdmFsICtcbiAgICAgICAgICAgICAgICAgICgoaG9sZCAmICgoMSA8PCAobGFzdF9iaXRzICsgbGFzdF9vcCkpIC0gMSkpLypCSVRTKGxhc3QuYml0cyArIGxhc3Qub3ApKi8gPj4gbGFzdF9iaXRzKV07XG4gICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgIGlmICgobGFzdF9iaXRzICsgaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tIERST1BCSVRTKGxhc3QuYml0cykgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IGxhc3RfYml0cztcbiAgICAgICAgYml0cyAtPSBsYXN0X2JpdHM7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUuYmFjayArPSBsYXN0X2JpdHM7XG4gICAgICB9XG4gICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAvLy0tLS8vXG4gICAgICBzdGF0ZS5iYWNrICs9IGhlcmVfYml0cztcbiAgICAgIGlmIChoZXJlX29wICYgNjQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSBjb2RlJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzdGF0ZS5vZmZzZXQgPSBoZXJlX3ZhbDtcbiAgICAgIHN0YXRlLmV4dHJhID0gKGhlcmVfb3ApICYgMTU7XG4gICAgICBzdGF0ZS5tb2RlID0gRElTVEVYVDtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIERJU1RFWFQ6XG4gICAgICBpZiAoc3RhdGUuZXh0cmEpIHtcbiAgICAgICAgLy89PT0gTkVFREJJVFMoc3RhdGUuZXh0cmEpO1xuICAgICAgICBuID0gc3RhdGUuZXh0cmE7XG4gICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5vZmZzZXQgKz0gaG9sZCAmICgoMSA8PCBzdGF0ZS5leHRyYSkgLSAxKS8qQklUUyhzdGF0ZS5leHRyYSkqLztcbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoc3RhdGUuZXh0cmEpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSBzdGF0ZS5leHRyYTtcbiAgICAgICAgYml0cyAtPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5iYWNrICs9IHN0YXRlLmV4dHJhO1xuICAgICAgfVxuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgICAgIGlmIChzdGF0ZS5vZmZzZXQgPiBzdGF0ZS5kbWF4KSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4vLyNlbmRpZlxuICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBkaXN0YW5jZSAldVxcblwiLCBzdGF0ZS5vZmZzZXQpKTtcbiAgICAgIHN0YXRlLm1vZGUgPSBNQVRDSDtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIE1BVENIOlxuICAgICAgaWYgKGxlZnQgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICBjb3B5ID0gX291dCAtIGxlZnQ7XG4gICAgICBpZiAoc3RhdGUub2Zmc2V0ID4gY29weSkgeyAgICAgICAgIC8qIGNvcHkgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgY29weSA9IHN0YXRlLm9mZnNldCAtIGNvcHk7XG4gICAgICAgIGlmIChjb3B5ID4gc3RhdGUud2hhdmUpIHtcbiAgICAgICAgICBpZiAoc3RhdGUuc2FuZSkge1xuICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbi8vICghKSBUaGlzIGJsb2NrIGlzIGRpc2FibGVkIGluIHpsaWIgZGVmYWlsdHMsXG4vLyBkb24ndCBlbmFibGUgaXQgZm9yIGJpbmFyeSBjb21wYXRpYmlsaXR5XG4vLyNpZmRlZiBJTkZMQVRFX0FMTE9XX0lOVkFMSURfRElTVEFOQ0VfVE9PRkFSX0FSUlJcbi8vICAgICAgICAgIFRyYWNlKChzdGRlcnIsIFwiaW5mbGF0ZS5jIHRvbyBmYXJcXG5cIikpO1xuLy8gICAgICAgICAgY29weSAtPSBzdGF0ZS53aGF2ZTtcbi8vICAgICAgICAgIGlmIChjb3B5ID4gc3RhdGUubGVuZ3RoKSB7IGNvcHkgPSBzdGF0ZS5sZW5ndGg7IH1cbi8vICAgICAgICAgIGlmIChjb3B5ID4gbGVmdCkgeyBjb3B5ID0gbGVmdDsgfVxuLy8gICAgICAgICAgbGVmdCAtPSBjb3B5O1xuLy8gICAgICAgICAgc3RhdGUubGVuZ3RoIC09IGNvcHk7XG4vLyAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgIG91dHB1dFtwdXQrK10gPSAwO1xuLy8gICAgICAgICAgfSB3aGlsZSAoLS1jb3B5KTtcbi8vICAgICAgICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHsgc3RhdGUubW9kZSA9IExFTjsgfVxuLy8gICAgICAgICAgYnJlYWs7XG4vLyNlbmRpZlxuICAgICAgICB9XG4gICAgICAgIGlmIChjb3B5ID4gc3RhdGUud25leHQpIHtcbiAgICAgICAgICBjb3B5IC09IHN0YXRlLnduZXh0O1xuICAgICAgICAgIGZyb20gPSBzdGF0ZS53c2l6ZSAtIGNvcHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZnJvbSA9IHN0YXRlLnduZXh0IC0gY29weTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29weSA+IHN0YXRlLmxlbmd0aCkgeyBjb3B5ID0gc3RhdGUubGVuZ3RoOyB9XG4gICAgICAgIGZyb21fc291cmNlID0gc3RhdGUud2luZG93O1xuICAgICAgfVxuICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogY29weSBmcm9tIG91dHB1dCAqL1xuICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgZnJvbSA9IHB1dCAtIHN0YXRlLm9mZnNldDtcbiAgICAgICAgY29weSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChjb3B5ID4gbGVmdCkgeyBjb3B5ID0gbGVmdDsgfVxuICAgICAgbGVmdCAtPSBjb3B5O1xuICAgICAgc3RhdGUubGVuZ3RoIC09IGNvcHk7XG4gICAgICBkbyB7XG4gICAgICAgIG91dHB1dFtwdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgfSB3aGlsZSAoLS1jb3B5KTtcbiAgICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHsgc3RhdGUubW9kZSA9IExFTjsgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBMSVQ6XG4gICAgICBpZiAobGVmdCA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgIG91dHB1dFtwdXQrK10gPSBzdGF0ZS5sZW5ndGg7XG4gICAgICBsZWZ0LS07XG4gICAgICBzdGF0ZS5tb2RlID0gTEVOO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBDSEVDSzpcbiAgICAgIGlmIChzdGF0ZS53cmFwKSB7XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTtcbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAvLyBVc2UgJ3wnIGluc2RlYWQgb2YgJysnIHRvIG1ha2Ugc3VyZSB0aGF0IHJlc3VsdCBpcyBzaWduZWRcbiAgICAgICAgICBob2xkIHw9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBfb3V0IC09IGxlZnQ7XG4gICAgICAgIHN0cm0udG90YWxfb3V0ICs9IF9vdXQ7XG4gICAgICAgIHN0YXRlLnRvdGFsICs9IF9vdXQ7XG4gICAgICAgIGlmIChfb3V0KSB7XG4gICAgICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID1cbiAgICAgICAgICAgICAgLypVUERBVEUoc3RhdGUuY2hlY2ssIHB1dCAtIF9vdXQsIF9vdXQpOyovXG4gICAgICAgICAgICAgIChzdGF0ZS5mbGFncyA/IGNyYzMyKHN0YXRlLmNoZWNrLCBvdXRwdXQsIF9vdXQsIHB1dCAtIF9vdXQpIDogYWRsZXIzMihzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBwdXQgLSBfb3V0KSk7XG5cbiAgICAgICAgfVxuICAgICAgICBfb3V0ID0gbGVmdDtcbiAgICAgICAgLy8gTkI6IGNyYzMyIHN0b3JlZCBhcyBzaWduZWQgMzItYml0IGludCwgenN3YXAzMiByZXR1cm5zIHNpZ25lZCB0b29cbiAgICAgICAgaWYgKChzdGF0ZS5mbGFncyA/IGhvbGQgOiB6c3dhcDMyKGhvbGQpKSAhPT0gc3RhdGUuY2hlY2spIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbmNvcnJlY3QgZGF0YSBjaGVjayc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGNoZWNrIG1hdGNoZXMgdHJhaWxlclxcblwiKSk7XG4gICAgICB9XG4gICAgICBzdGF0ZS5tb2RlID0gTEVOR1RIO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTEVOR1RIOlxuICAgICAgaWYgKHN0YXRlLndyYXAgJiYgc3RhdGUuZmxhZ3MpIHtcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpO1xuICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIGlmIChob2xkICE9PSAoc3RhdGUudG90YWwgJiAweGZmZmZmZmZmKSkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBsZW5ndGggY2hlY2snO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICBsZW5ndGggbWF0Y2hlcyB0cmFpbGVyXFxuXCIpKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLm1vZGUgPSBET05FO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgRE9ORTpcbiAgICAgIHJldCA9IFpfU1RSRUFNX0VORDtcbiAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICBjYXNlIEJBRDpcbiAgICAgIHJldCA9IFpfREFUQV9FUlJPUjtcbiAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICBjYXNlIE1FTTpcbiAgICAgIHJldHVybiBaX01FTV9FUlJPUjtcbiAgICBjYXNlIFNZTkM6XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgICB9XG4gIH1cblxuICAvLyBpbmZfbGVhdmUgPC0gaGVyZSBpcyByZWFsIHBsYWNlIGZvciBcImdvdG8gaW5mX2xlYXZlXCIsIGVtdWxhdGVkIHZpYSBcImJyZWFrIGluZl9sZWF2ZVwiXG5cbiAgLypcbiAgICAgUmV0dXJuIGZyb20gaW5mbGF0ZSgpLCB1cGRhdGluZyB0aGUgdG90YWwgY291bnRzIGFuZCB0aGUgY2hlY2sgdmFsdWUuXG4gICAgIElmIHRoZXJlIHdhcyBubyBwcm9ncmVzcyBkdXJpbmcgdGhlIGluZmxhdGUoKSBjYWxsLCByZXR1cm4gYSBidWZmZXJcbiAgICAgZXJyb3IuICBDYWxsIHVwZGF0ZXdpbmRvdygpIHRvIGNyZWF0ZSBhbmQvb3IgdXBkYXRlIHRoZSB3aW5kb3cgc3RhdGUuXG4gICAgIE5vdGU6IGEgbWVtb3J5IGVycm9yIGZyb20gaW5mbGF0ZSgpIGlzIG5vbi1yZWNvdmVyYWJsZS5cbiAgICovXG5cbiAgLy8tLS0gUkVTVE9SRSgpIC0tLVxuICBzdHJtLm5leHRfb3V0ID0gcHV0O1xuICBzdHJtLmF2YWlsX291dCA9IGxlZnQ7XG4gIHN0cm0ubmV4dF9pbiA9IG5leHQ7XG4gIHN0cm0uYXZhaWxfaW4gPSBoYXZlO1xuICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgc3RhdGUuYml0cyA9IGJpdHM7XG4gIC8vLS0tXG5cbiAgaWYgKHN0YXRlLndzaXplIHx8IChfb3V0ICE9PSBzdHJtLmF2YWlsX291dCAmJiBzdGF0ZS5tb2RlIDwgQkFEICYmXG4gICAgICAgICAgICAgICAgICAgICAgKHN0YXRlLm1vZGUgPCBDSEVDSyB8fCBmbHVzaCAhPT0gWl9GSU5JU0gpKSkge1xuICAgIGlmICh1cGRhdGV3aW5kb3coc3RybSwgc3RybS5vdXRwdXQsIHN0cm0ubmV4dF9vdXQsIF9vdXQgLSBzdHJtLmF2YWlsX291dCkpIHtcbiAgICAgIHN0YXRlLm1vZGUgPSBNRU07XG4gICAgICByZXR1cm4gWl9NRU1fRVJST1I7XG4gICAgfVxuICB9XG4gIF9pbiAtPSBzdHJtLmF2YWlsX2luO1xuICBfb3V0IC09IHN0cm0uYXZhaWxfb3V0O1xuICBzdHJtLnRvdGFsX2luICs9IF9pbjtcbiAgc3RybS50b3RhbF9vdXQgKz0gX291dDtcbiAgc3RhdGUudG90YWwgKz0gX291dDtcbiAgaWYgKHN0YXRlLndyYXAgJiYgX291dCkge1xuICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IC8qVVBEQVRFKHN0YXRlLmNoZWNrLCBzdHJtLm5leHRfb3V0IC0gX291dCwgX291dCk7Ki9cbiAgICAgIChzdGF0ZS5mbGFncyA/IGNyYzMyKHN0YXRlLmNoZWNrLCBvdXRwdXQsIF9vdXQsIHN0cm0ubmV4dF9vdXQgLSBfb3V0KSA6IGFkbGVyMzIoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgc3RybS5uZXh0X291dCAtIF9vdXQpKTtcbiAgfVxuICBzdHJtLmRhdGFfdHlwZSA9IHN0YXRlLmJpdHMgKyAoc3RhdGUubGFzdCA/IDY0IDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAoc3RhdGUubW9kZSA9PT0gVFlQRSA/IDEyOCA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgKHN0YXRlLm1vZGUgPT09IExFTl8gfHwgc3RhdGUubW9kZSA9PT0gQ09QWV8gPyAyNTYgOiAwKTtcbiAgaWYgKCgoX2luID09PSAwICYmIF9vdXQgPT09IDApIHx8IGZsdXNoID09PSBaX0ZJTklTSCkgJiYgcmV0ID09PSBaX09LKSB7XG4gICAgcmV0ID0gWl9CVUZfRVJST1I7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZUVuZChzdHJtKSB7XG5cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlIC8qfHwgc3RybS0+emZyZWUgPT0gKGZyZWVfZnVuYykwKi8pIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cblxuICB2YXIgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBpZiAoc3RhdGUud2luZG93KSB7XG4gICAgc3RhdGUud2luZG93ID0gbnVsbDtcbiAgfVxuICBzdHJtLnN0YXRlID0gbnVsbDtcbiAgcmV0dXJuIFpfT0s7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVHZXRIZWFkZXIoc3RybSwgaGVhZCkge1xuICB2YXIgc3RhdGU7XG5cbiAgLyogY2hlY2sgc3RhdGUgKi9cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIGlmICgoc3RhdGUud3JhcCAmIDIpID09PSAwKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuXG4gIC8qIHNhdmUgaGVhZGVyIHN0cnVjdHVyZSAqL1xuICBzdGF0ZS5oZWFkID0gaGVhZDtcbiAgaGVhZC5kb25lID0gZmFsc2U7XG4gIHJldHVybiBaX09LO1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlU2V0RGljdGlvbmFyeShzdHJtLCBkaWN0aW9uYXJ5KSB7XG4gIHZhciBkaWN0TGVuZ3RoID0gZGljdGlvbmFyeS5sZW5ndGg7XG5cbiAgdmFyIHN0YXRlO1xuICB2YXIgZGljdGlkO1xuICB2YXIgcmV0O1xuXG4gIC8qIGNoZWNrIHN0YXRlICovXG4gIGlmICghc3RybSAvKiA9PSBaX05VTEwgKi8gfHwgIXN0cm0uc3RhdGUgLyogPT0gWl9OVUxMICovKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG5cbiAgaWYgKHN0YXRlLndyYXAgIT09IDAgJiYgc3RhdGUubW9kZSAhPT0gRElDVCkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIC8qIGNoZWNrIGZvciBjb3JyZWN0IGRpY3Rpb25hcnkgaWRlbnRpZmllciAqL1xuICBpZiAoc3RhdGUubW9kZSA9PT0gRElDVCkge1xuICAgIGRpY3RpZCA9IDE7IC8qIGFkbGVyMzIoMCwgbnVsbCwgMCkqL1xuICAgIC8qIGRpY3RpZCA9IGFkbGVyMzIoZGljdGlkLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoKTsgKi9cbiAgICBkaWN0aWQgPSBhZGxlcjMyKGRpY3RpZCwgZGljdGlvbmFyeSwgZGljdExlbmd0aCwgMCk7XG4gICAgaWYgKGRpY3RpZCAhPT0gc3RhdGUuY2hlY2spIHtcbiAgICAgIHJldHVybiBaX0RBVEFfRVJST1I7XG4gICAgfVxuICB9XG4gIC8qIGNvcHkgZGljdGlvbmFyeSB0byB3aW5kb3cgdXNpbmcgdXBkYXRld2luZG93KCksIHdoaWNoIHdpbGwgYW1lbmQgdGhlXG4gICBleGlzdGluZyBkaWN0aW9uYXJ5IGlmIGFwcHJvcHJpYXRlICovXG4gIHJldCA9IHVwZGF0ZXdpbmRvdyhzdHJtLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoLCBkaWN0TGVuZ3RoKTtcbiAgaWYgKHJldCkge1xuICAgIHN0YXRlLm1vZGUgPSBNRU07XG4gICAgcmV0dXJuIFpfTUVNX0VSUk9SO1xuICB9XG4gIHN0YXRlLmhhdmVkaWN0ID0gMTtcbiAgLy8gVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICBkaWN0aW9uYXJ5IHNldFxcblwiKSk7XG4gIHJldHVybiBaX09LO1xufVxuXG5leHBvcnQgeyBpbmZsYXRlUmVzZXQsIGluZmxhdGVSZXNldDIsIGluZmxhdGVSZXNldEtlZXAsIGluZmxhdGVJbml0LCBpbmZsYXRlSW5pdDIsIGluZmxhdGUsIGluZmxhdGVFbmQsIGluZmxhdGVHZXRIZWFkZXIsIGluZmxhdGVTZXREaWN0aW9uYXJ5IH07XG5leHBvcnQgdmFyIGluZmxhdGVJbmZvID0gJ3Bha28gaW5mbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdCknO1xuXG4vKiBOb3QgaW1wbGVtZW50ZWRcbmV4cG9ydHMuaW5mbGF0ZUNvcHkgPSBpbmZsYXRlQ29weTtcbmV4cG9ydHMuaW5mbGF0ZUdldERpY3Rpb25hcnkgPSBpbmZsYXRlR2V0RGljdGlvbmFyeTtcbmV4cG9ydHMuaW5mbGF0ZU1hcmsgPSBpbmZsYXRlTWFyaztcbmV4cG9ydHMuaW5mbGF0ZVByaW1lID0gaW5mbGF0ZVByaW1lO1xuZXhwb3J0cy5pbmZsYXRlU3luYyA9IGluZmxhdGVTeW5jO1xuZXhwb3J0cy5pbmZsYXRlU3luY1BvaW50ID0gaW5mbGF0ZVN5bmNQb2ludDtcbmV4cG9ydHMuaW5mbGF0ZVVuZGVybWluZSA9IGluZmxhdGVVbmRlcm1pbmU7XG4qL1xuIiwiaW1wb3J0ICogYXMgdXRpbHMgZnJvbSBcIi4uL3V0aWxzL2NvbW1vbi5qc1wiO1xuXG52YXIgTUFYQklUUyA9IDE1O1xudmFyIEVOT1VHSF9MRU5TID0gODUyO1xudmFyIEVOT1VHSF9ESVNUUyA9IDU5Mjtcbi8vdmFyIEVOT1VHSCA9IChFTk9VR0hfTEVOUytFTk9VR0hfRElTVFMpO1xuXG52YXIgQ09ERVMgPSAwO1xudmFyIExFTlMgPSAxO1xudmFyIERJU1RTID0gMjtcblxudmFyIGxiYXNlID0gWyAvKiBMZW5ndGggY29kZXMgMjU3Li4yODUgYmFzZSAqL1xuICAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEzLCAxNSwgMTcsIDE5LCAyMywgMjcsIDMxLFxuICAzNSwgNDMsIDUxLCA1OSwgNjcsIDgzLCA5OSwgMTE1LCAxMzEsIDE2MywgMTk1LCAyMjcsIDI1OCwgMCwgMFxuXTtcblxudmFyIGxleHQgPSBbIC8qIExlbmd0aCBjb2RlcyAyNTcuLjI4NSBleHRyYSAqL1xuICAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE3LCAxNywgMTcsIDE3LCAxOCwgMTgsIDE4LCAxOCxcbiAgMTksIDE5LCAxOSwgMTksIDIwLCAyMCwgMjAsIDIwLCAyMSwgMjEsIDIxLCAyMSwgMTYsIDcyLCA3OFxuXTtcblxudmFyIGRiYXNlID0gWyAvKiBEaXN0YW5jZSBjb2RlcyAwLi4yOSBiYXNlICovXG4gIDEsIDIsIDMsIDQsIDUsIDcsIDksIDEzLCAxNywgMjUsIDMzLCA0OSwgNjUsIDk3LCAxMjksIDE5MyxcbiAgMjU3LCAzODUsIDUxMywgNzY5LCAxMDI1LCAxNTM3LCAyMDQ5LCAzMDczLCA0MDk3LCA2MTQ1LFxuICA4MTkzLCAxMjI4OSwgMTYzODUsIDI0NTc3LCAwLCAwXG5dO1xuXG52YXIgZGV4dCA9IFsgLyogRGlzdGFuY2UgY29kZXMgMC4uMjkgZXh0cmEgKi9cbiAgMTYsIDE2LCAxNiwgMTYsIDE3LCAxNywgMTgsIDE4LCAxOSwgMTksIDIwLCAyMCwgMjEsIDIxLCAyMiwgMjIsXG4gIDIzLCAyMywgMjQsIDI0LCAyNSwgMjUsIDI2LCAyNiwgMjcsIDI3LFxuICAyOCwgMjgsIDI5LCAyOSwgNjQsIDY0XG5dO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbmZsYXRlX3RhYmxlKHR5cGUsIGxlbnMsIGxlbnNfaW5kZXgsIGNvZGVzLCB0YWJsZSwgdGFibGVfaW5kZXgsIHdvcmssIG9wdHMpXG57XG4gIHZhciBiaXRzID0gb3B0cy5iaXRzO1xuICAgICAgLy9oZXJlID0gb3B0cy5oZXJlOyAvKiB0YWJsZSBlbnRyeSBmb3IgZHVwbGljYXRpb24gKi9cblxuICB2YXIgbGVuID0gMDsgICAgICAgICAgICAgICAvKiBhIGNvZGUncyBsZW5ndGggaW4gYml0cyAqL1xuICB2YXIgc3ltID0gMDsgICAgICAgICAgICAgICAvKiBpbmRleCBvZiBjb2RlIHN5bWJvbHMgKi9cbiAgdmFyIG1pbiA9IDAsIG1heCA9IDA7ICAgICAgICAgIC8qIG1pbmltdW0gYW5kIG1heGltdW0gY29kZSBsZW5ndGhzICovXG4gIHZhciByb290ID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBpbmRleCBiaXRzIGZvciByb290IHRhYmxlICovXG4gIHZhciBjdXJyID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBpbmRleCBiaXRzIGZvciBjdXJyZW50IHRhYmxlICovXG4gIHZhciBkcm9wID0gMDsgICAgICAgICAgICAgIC8qIGNvZGUgYml0cyB0byBkcm9wIGZvciBzdWItdGFibGUgKi9cbiAgdmFyIGxlZnQgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgcHJlZml4IGNvZGVzIGF2YWlsYWJsZSAqL1xuICB2YXIgdXNlZCA9IDA7ICAgICAgICAgICAgICAvKiBjb2RlIGVudHJpZXMgaW4gdGFibGUgdXNlZCAqL1xuICB2YXIgaHVmZiA9IDA7ICAgICAgICAgICAgICAvKiBIdWZmbWFuIGNvZGUgKi9cbiAgdmFyIGluY3I7ICAgICAgICAgICAgICAvKiBmb3IgaW5jcmVtZW50aW5nIGNvZGUsIGluZGV4ICovXG4gIHZhciBmaWxsOyAgICAgICAgICAgICAgLyogaW5kZXggZm9yIHJlcGxpY2F0aW5nIGVudHJpZXMgKi9cbiAgdmFyIGxvdzsgICAgICAgICAgICAgICAvKiBsb3cgYml0cyBmb3IgY3VycmVudCByb290IGVudHJ5ICovXG4gIHZhciBtYXNrOyAgICAgICAgICAgICAgLyogbWFzayBmb3IgbG93IHJvb3QgYml0cyAqL1xuICB2YXIgbmV4dDsgICAgICAgICAgICAgLyogbmV4dCBhdmFpbGFibGUgc3BhY2UgaW4gdGFibGUgKi9cbiAgdmFyIGJhc2UgPSBudWxsOyAgICAgLyogYmFzZSB2YWx1ZSB0YWJsZSB0byB1c2UgKi9cbiAgdmFyIGJhc2VfaW5kZXggPSAwO1xuLy8gIHZhciBzaG9leHRyYTsgICAgLyogZXh0cmEgYml0cyB0YWJsZSB0byB1c2UgKi9cbiAgdmFyIGVuZDsgICAgICAgICAgICAgICAgICAgIC8qIHVzZSBiYXNlIGFuZCBleHRyYSBmb3Igc3ltYm9sID4gZW5kICovXG4gIHZhciBjb3VudCA9IG5ldyB1dGlscy5CdWYxNihNQVhCSVRTICsgMSk7IC8vW01BWEJJVFMrMV07ICAgIC8qIG51bWJlciBvZiBjb2RlcyBvZiBlYWNoIGxlbmd0aCAqL1xuICB2YXIgb2ZmcyA9IG5ldyB1dGlscy5CdWYxNihNQVhCSVRTICsgMSk7IC8vW01BWEJJVFMrMV07ICAgICAvKiBvZmZzZXRzIGluIHRhYmxlIGZvciBlYWNoIGxlbmd0aCAqL1xuICB2YXIgZXh0cmEgPSBudWxsO1xuICB2YXIgZXh0cmFfaW5kZXggPSAwO1xuXG4gIHZhciBoZXJlX2JpdHMsIGhlcmVfb3AsIGhlcmVfdmFsO1xuXG4gIC8qXG4gICBQcm9jZXNzIGEgc2V0IG9mIGNvZGUgbGVuZ3RocyB0byBjcmVhdGUgYSBjYW5vbmljYWwgSHVmZm1hbiBjb2RlLiAgVGhlXG4gICBjb2RlIGxlbmd0aHMgYXJlIGxlbnNbMC4uY29kZXMtMV0uICBFYWNoIGxlbmd0aCBjb3JyZXNwb25kcyB0byB0aGVcbiAgIHN5bWJvbHMgMC4uY29kZXMtMS4gIFRoZSBIdWZmbWFuIGNvZGUgaXMgZ2VuZXJhdGVkIGJ5IGZpcnN0IHNvcnRpbmcgdGhlXG4gICBzeW1ib2xzIGJ5IGxlbmd0aCBmcm9tIHNob3J0IHRvIGxvbmcsIGFuZCByZXRhaW5pbmcgdGhlIHN5bWJvbCBvcmRlclxuICAgZm9yIGNvZGVzIHdpdGggZXF1YWwgbGVuZ3Rocy4gIFRoZW4gdGhlIGNvZGUgc3RhcnRzIHdpdGggYWxsIHplcm8gYml0c1xuICAgZm9yIHRoZSBmaXJzdCBjb2RlIG9mIHRoZSBzaG9ydGVzdCBsZW5ndGgsIGFuZCB0aGUgY29kZXMgYXJlIGludGVnZXJcbiAgIGluY3JlbWVudHMgZm9yIHRoZSBzYW1lIGxlbmd0aCwgYW5kIHplcm9zIGFyZSBhcHBlbmRlZCBhcyB0aGUgbGVuZ3RoXG4gICBpbmNyZWFzZXMuICBGb3IgdGhlIGRlZmxhdGUgZm9ybWF0LCB0aGVzZSBiaXRzIGFyZSBzdG9yZWQgYmFja3dhcmRzXG4gICBmcm9tIHRoZWlyIG1vcmUgbmF0dXJhbCBpbnRlZ2VyIGluY3JlbWVudCBvcmRlcmluZywgYW5kIHNvIHdoZW4gdGhlXG4gICBkZWNvZGluZyB0YWJsZXMgYXJlIGJ1aWx0IGluIHRoZSBsYXJnZSBsb29wIGJlbG93LCB0aGUgaW50ZWdlciBjb2Rlc1xuICAgYXJlIGluY3JlbWVudGVkIGJhY2t3YXJkcy5cblxuICAgVGhpcyByb3V0aW5lIGFzc3VtZXMsIGJ1dCBkb2VzIG5vdCBjaGVjaywgdGhhdCBhbGwgb2YgdGhlIGVudHJpZXMgaW5cbiAgIGxlbnNbXSBhcmUgaW4gdGhlIHJhbmdlIDAuLk1BWEJJVFMuICBUaGUgY2FsbGVyIG11c3QgYXNzdXJlIHRoaXMuXG4gICAxLi5NQVhCSVRTIGlzIGludGVycHJldGVkIGFzIHRoYXQgY29kZSBsZW5ndGguICB6ZXJvIG1lYW5zIHRoYXQgdGhhdFxuICAgc3ltYm9sIGRvZXMgbm90IG9jY3VyIGluIHRoaXMgY29kZS5cblxuICAgVGhlIGNvZGVzIGFyZSBzb3J0ZWQgYnkgY29tcHV0aW5nIGEgY291bnQgb2YgY29kZXMgZm9yIGVhY2ggbGVuZ3RoLFxuICAgY3JlYXRpbmcgZnJvbSB0aGF0IGEgdGFibGUgb2Ygc3RhcnRpbmcgaW5kaWNlcyBmb3IgZWFjaCBsZW5ndGggaW4gdGhlXG4gICBzb3J0ZWQgdGFibGUsIGFuZCB0aGVuIGVudGVyaW5nIHRoZSBzeW1ib2xzIGluIG9yZGVyIGluIHRoZSBzb3J0ZWRcbiAgIHRhYmxlLiAgVGhlIHNvcnRlZCB0YWJsZSBpcyB3b3JrW10sIHdpdGggdGhhdCBzcGFjZSBiZWluZyBwcm92aWRlZCBieVxuICAgdGhlIGNhbGxlci5cblxuICAgVGhlIGxlbmd0aCBjb3VudHMgYXJlIHVzZWQgZm9yIG90aGVyIHB1cnBvc2VzIGFzIHdlbGwsIGkuZS4gZmluZGluZ1xuICAgdGhlIG1pbmltdW0gYW5kIG1heGltdW0gbGVuZ3RoIGNvZGVzLCBkZXRlcm1pbmluZyBpZiB0aGVyZSBhcmUgYW55XG4gICBjb2RlcyBhdCBhbGwsIGNoZWNraW5nIGZvciBhIHZhbGlkIHNldCBvZiBsZW5ndGhzLCBhbmQgbG9va2luZyBhaGVhZFxuICAgYXQgbGVuZ3RoIGNvdW50cyB0byBkZXRlcm1pbmUgc3ViLXRhYmxlIHNpemVzIHdoZW4gYnVpbGRpbmcgdGhlXG4gICBkZWNvZGluZyB0YWJsZXMuXG4gICAqL1xuXG4gIC8qIGFjY3VtdWxhdGUgbGVuZ3RocyBmb3IgY29kZXMgKGFzc3VtZXMgbGVuc1tdIGFsbCBpbiAwLi5NQVhCSVRTKSAqL1xuICBmb3IgKGxlbiA9IDA7IGxlbiA8PSBNQVhCSVRTOyBsZW4rKykge1xuICAgIGNvdW50W2xlbl0gPSAwO1xuICB9XG4gIGZvciAoc3ltID0gMDsgc3ltIDwgY29kZXM7IHN5bSsrKSB7XG4gICAgY291bnRbbGVuc1tsZW5zX2luZGV4ICsgc3ltXV0rKztcbiAgfVxuXG4gIC8qIGJvdW5kIGNvZGUgbGVuZ3RocywgZm9yY2Ugcm9vdCB0byBiZSB3aXRoaW4gY29kZSBsZW5ndGhzICovXG4gIHJvb3QgPSBiaXRzO1xuICBmb3IgKG1heCA9IE1BWEJJVFM7IG1heCA+PSAxOyBtYXgtLSkge1xuICAgIGlmIChjb3VudFttYXhdICE9PSAwKSB7IGJyZWFrOyB9XG4gIH1cbiAgaWYgKHJvb3QgPiBtYXgpIHtcbiAgICByb290ID0gbWF4O1xuICB9XG4gIGlmIChtYXggPT09IDApIHsgICAgICAgICAgICAgICAgICAgICAvKiBubyBzeW1ib2xzIHRvIGNvZGUgYXQgYWxsICovXG4gICAgLy90YWJsZS5vcFtvcHRzLnRhYmxlX2luZGV4XSA9IDY0OyAgLy9oZXJlLm9wID0gKHZhciBjaGFyKTY0OyAgICAvKiBpbnZhbGlkIGNvZGUgbWFya2VyICovXG4gICAgLy90YWJsZS5iaXRzW29wdHMudGFibGVfaW5kZXhdID0gMTsgICAvL2hlcmUuYml0cyA9ICh2YXIgY2hhcikxO1xuICAgIC8vdGFibGUudmFsW29wdHMudGFibGVfaW5kZXgrK10gPSAwOyAgIC8vaGVyZS52YWwgPSAodmFyIHNob3J0KTA7XG4gICAgdGFibGVbdGFibGVfaW5kZXgrK10gPSAoMSA8PCAyNCkgfCAoNjQgPDwgMTYpIHwgMDtcblxuXG4gICAgLy90YWJsZS5vcFtvcHRzLnRhYmxlX2luZGV4XSA9IDY0O1xuICAgIC8vdGFibGUuYml0c1tvcHRzLnRhYmxlX2luZGV4XSA9IDE7XG4gICAgLy90YWJsZS52YWxbb3B0cy50YWJsZV9pbmRleCsrXSA9IDA7XG4gICAgdGFibGVbdGFibGVfaW5kZXgrK10gPSAoMSA8PCAyNCkgfCAoNjQgPDwgMTYpIHwgMDtcblxuICAgIG9wdHMuYml0cyA9IDE7XG4gICAgcmV0dXJuIDA7ICAgICAvKiBubyBzeW1ib2xzLCBidXQgd2FpdCBmb3IgZGVjb2RpbmcgdG8gcmVwb3J0IGVycm9yICovXG4gIH1cbiAgZm9yIChtaW4gPSAxOyBtaW4gPCBtYXg7IG1pbisrKSB7XG4gICAgaWYgKGNvdW50W21pbl0gIT09IDApIHsgYnJlYWs7IH1cbiAgfVxuICBpZiAocm9vdCA8IG1pbikge1xuICAgIHJvb3QgPSBtaW47XG4gIH1cblxuICAvKiBjaGVjayBmb3IgYW4gb3Zlci1zdWJzY3JpYmVkIG9yIGluY29tcGxldGUgc2V0IG9mIGxlbmd0aHMgKi9cbiAgbGVmdCA9IDE7XG4gIGZvciAobGVuID0gMTsgbGVuIDw9IE1BWEJJVFM7IGxlbisrKSB7XG4gICAgbGVmdCA8PD0gMTtcbiAgICBsZWZ0IC09IGNvdW50W2xlbl07XG4gICAgaWYgKGxlZnQgPCAwKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSAgICAgICAgLyogb3Zlci1zdWJzY3JpYmVkICovXG4gIH1cbiAgaWYgKGxlZnQgPiAwICYmICh0eXBlID09PSBDT0RFUyB8fCBtYXggIT09IDEpKSB7XG4gICAgcmV0dXJuIC0xOyAgICAgICAgICAgICAgICAgICAgICAvKiBpbmNvbXBsZXRlIHNldCAqL1xuICB9XG5cbiAgLyogZ2VuZXJhdGUgb2Zmc2V0cyBpbnRvIHN5bWJvbCB0YWJsZSBmb3IgZWFjaCBsZW5ndGggZm9yIHNvcnRpbmcgKi9cbiAgb2Zmc1sxXSA9IDA7XG4gIGZvciAobGVuID0gMTsgbGVuIDwgTUFYQklUUzsgbGVuKyspIHtcbiAgICBvZmZzW2xlbiArIDFdID0gb2Zmc1tsZW5dICsgY291bnRbbGVuXTtcbiAgfVxuXG4gIC8qIHNvcnQgc3ltYm9scyBieSBsZW5ndGgsIGJ5IHN5bWJvbCBvcmRlciB3aXRoaW4gZWFjaCBsZW5ndGggKi9cbiAgZm9yIChzeW0gPSAwOyBzeW0gPCBjb2Rlczsgc3ltKyspIHtcbiAgICBpZiAobGVuc1tsZW5zX2luZGV4ICsgc3ltXSAhPT0gMCkge1xuICAgICAgd29ya1tvZmZzW2xlbnNbbGVuc19pbmRleCArIHN5bV1dKytdID0gc3ltO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICBDcmVhdGUgYW5kIGZpbGwgaW4gZGVjb2RpbmcgdGFibGVzLiAgSW4gdGhpcyBsb29wLCB0aGUgdGFibGUgYmVpbmdcbiAgIGZpbGxlZCBpcyBhdCBuZXh0IGFuZCBoYXMgY3VyciBpbmRleCBiaXRzLiAgVGhlIGNvZGUgYmVpbmcgdXNlZCBpcyBodWZmXG4gICB3aXRoIGxlbmd0aCBsZW4uICBUaGF0IGNvZGUgaXMgY29udmVydGVkIHRvIGFuIGluZGV4IGJ5IGRyb3BwaW5nIGRyb3BcbiAgIGJpdHMgb2ZmIG9mIHRoZSBib3R0b20uICBGb3IgY29kZXMgd2hlcmUgbGVuIGlzIGxlc3MgdGhhbiBkcm9wICsgY3VycixcbiAgIHRob3NlIHRvcCBkcm9wICsgY3VyciAtIGxlbiBiaXRzIGFyZSBpbmNyZW1lbnRlZCB0aHJvdWdoIGFsbCB2YWx1ZXMgdG9cbiAgIGZpbGwgdGhlIHRhYmxlIHdpdGggcmVwbGljYXRlZCBlbnRyaWVzLlxuXG4gICByb290IGlzIHRoZSBudW1iZXIgb2YgaW5kZXggYml0cyBmb3IgdGhlIHJvb3QgdGFibGUuICBXaGVuIGxlbiBleGNlZWRzXG4gICByb290LCBzdWItdGFibGVzIGFyZSBjcmVhdGVkIHBvaW50ZWQgdG8gYnkgdGhlIHJvb3QgZW50cnkgd2l0aCBhbiBpbmRleFxuICAgb2YgdGhlIGxvdyByb290IGJpdHMgb2YgaHVmZi4gIFRoaXMgaXMgc2F2ZWQgaW4gbG93IHRvIGNoZWNrIGZvciB3aGVuIGFcbiAgIG5ldyBzdWItdGFibGUgc2hvdWxkIGJlIHN0YXJ0ZWQuICBkcm9wIGlzIHplcm8gd2hlbiB0aGUgcm9vdCB0YWJsZSBpc1xuICAgYmVpbmcgZmlsbGVkLCBhbmQgZHJvcCBpcyByb290IHdoZW4gc3ViLXRhYmxlcyBhcmUgYmVpbmcgZmlsbGVkLlxuXG4gICBXaGVuIGEgbmV3IHN1Yi10YWJsZSBpcyBuZWVkZWQsIGl0IGlzIG5lY2Vzc2FyeSB0byBsb29rIGFoZWFkIGluIHRoZVxuICAgY29kZSBsZW5ndGhzIHRvIGRldGVybWluZSB3aGF0IHNpemUgc3ViLXRhYmxlIGlzIG5lZWRlZC4gIFRoZSBsZW5ndGhcbiAgIGNvdW50cyBhcmUgdXNlZCBmb3IgdGhpcywgYW5kIHNvIGNvdW50W10gaXMgZGVjcmVtZW50ZWQgYXMgY29kZXMgYXJlXG4gICBlbnRlcmVkIGluIHRoZSB0YWJsZXMuXG5cbiAgIHVzZWQga2VlcHMgdHJhY2sgb2YgaG93IG1hbnkgdGFibGUgZW50cmllcyBoYXZlIGJlZW4gYWxsb2NhdGVkIGZyb20gdGhlXG4gICBwcm92aWRlZCAqdGFibGUgc3BhY2UuICBJdCBpcyBjaGVja2VkIGZvciBMRU5TIGFuZCBESVNUIHRhYmxlcyBhZ2FpbnN0XG4gICB0aGUgY29uc3RhbnRzIEVOT1VHSF9MRU5TIGFuZCBFTk9VR0hfRElTVFMgdG8gZ3VhcmQgYWdhaW5zdCBjaGFuZ2VzIGluXG4gICB0aGUgaW5pdGlhbCByb290IHRhYmxlIHNpemUgY29uc3RhbnRzLiAgU2VlIHRoZSBjb21tZW50cyBpbiBpbmZ0cmVlcy5oXG4gICBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblxuICAgc3ltIGluY3JlbWVudHMgdGhyb3VnaCBhbGwgc3ltYm9scywgYW5kIHRoZSBsb29wIHRlcm1pbmF0ZXMgd2hlblxuICAgYWxsIGNvZGVzIG9mIGxlbmd0aCBtYXgsIGkuZS4gYWxsIGNvZGVzLCBoYXZlIGJlZW4gcHJvY2Vzc2VkLiAgVGhpc1xuICAgcm91dGluZSBwZXJtaXRzIGluY29tcGxldGUgY29kZXMsIHNvIGFub3RoZXIgbG9vcCBhZnRlciB0aGlzIG9uZSBmaWxsc1xuICAgaW4gdGhlIHJlc3Qgb2YgdGhlIGRlY29kaW5nIHRhYmxlcyB3aXRoIGludmFsaWQgY29kZSBtYXJrZXJzLlxuICAgKi9cblxuICAvKiBzZXQgdXAgZm9yIGNvZGUgdHlwZSAqL1xuICAvLyBwb29yIG1hbiBvcHRpbWl6YXRpb24gLSB1c2UgaWYtZWxzZSBpbnN0ZWFkIG9mIHN3aXRjaCxcbiAgLy8gdG8gYXZvaWQgZGVvcHRzIGluIG9sZCB2OFxuICBpZiAodHlwZSA9PT0gQ09ERVMpIHtcbiAgICBiYXNlID0gZXh0cmEgPSB3b3JrOyAgICAvKiBkdW1teSB2YWx1ZS0tbm90IHVzZWQgKi9cbiAgICBlbmQgPSAxOTtcblxuICB9IGVsc2UgaWYgKHR5cGUgPT09IExFTlMpIHtcbiAgICBiYXNlID0gbGJhc2U7XG4gICAgYmFzZV9pbmRleCAtPSAyNTc7XG4gICAgZXh0cmEgPSBsZXh0O1xuICAgIGV4dHJhX2luZGV4IC09IDI1NztcbiAgICBlbmQgPSAyNTY7XG5cbiAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgIC8qIERJU1RTICovXG4gICAgYmFzZSA9IGRiYXNlO1xuICAgIGV4dHJhID0gZGV4dDtcbiAgICBlbmQgPSAtMTtcbiAgfVxuXG4gIC8qIGluaXRpYWxpemUgb3B0cyBmb3IgbG9vcCAqL1xuICBodWZmID0gMDsgICAgICAgICAgICAgICAgICAgLyogc3RhcnRpbmcgY29kZSAqL1xuICBzeW0gPSAwOyAgICAgICAgICAgICAgICAgICAgLyogc3RhcnRpbmcgY29kZSBzeW1ib2wgKi9cbiAgbGVuID0gbWluOyAgICAgICAgICAgICAgICAgIC8qIHN0YXJ0aW5nIGNvZGUgbGVuZ3RoICovXG4gIG5leHQgPSB0YWJsZV9pbmRleDsgICAgICAgICAgICAgIC8qIGN1cnJlbnQgdGFibGUgdG8gZmlsbCBpbiAqL1xuICBjdXJyID0gcm9vdDsgICAgICAgICAgICAgICAgLyogY3VycmVudCB0YWJsZSBpbmRleCBiaXRzICovXG4gIGRyb3AgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBjdXJyZW50IGJpdHMgdG8gZHJvcCBmcm9tIGNvZGUgZm9yIGluZGV4ICovXG4gIGxvdyA9IC0xOyAgICAgICAgICAgICAgICAgICAvKiB0cmlnZ2VyIG5ldyBzdWItdGFibGUgd2hlbiBsZW4gPiByb290ICovXG4gIHVzZWQgPSAxIDw8IHJvb3Q7ICAgICAgICAgIC8qIHVzZSByb290IHRhYmxlIGVudHJpZXMgKi9cbiAgbWFzayA9IHVzZWQgLSAxOyAgICAgICAgICAgIC8qIG1hc2sgZm9yIGNvbXBhcmluZyBsb3cgKi9cblxuICAvKiBjaGVjayBhdmFpbGFibGUgdGFibGUgc3BhY2UgKi9cbiAgaWYgKCh0eXBlID09PSBMRU5TICYmIHVzZWQgPiBFTk9VR0hfTEVOUykgfHxcbiAgICAodHlwZSA9PT0gRElTVFMgJiYgdXNlZCA+IEVOT1VHSF9ESVNUUykpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIC8qIHByb2Nlc3MgYWxsIGNvZGVzIGFuZCBtYWtlIHRhYmxlIGVudHJpZXMgKi9cbiAgZm9yICg7Oykge1xuICAgIC8qIGNyZWF0ZSB0YWJsZSBlbnRyeSAqL1xuICAgIGhlcmVfYml0cyA9IGxlbiAtIGRyb3A7XG4gICAgaWYgKHdvcmtbc3ltXSA8IGVuZCkge1xuICAgICAgaGVyZV9vcCA9IDA7XG4gICAgICBoZXJlX3ZhbCA9IHdvcmtbc3ltXTtcbiAgICB9XG4gICAgZWxzZSBpZiAod29ya1tzeW1dID4gZW5kKSB7XG4gICAgICBoZXJlX29wID0gZXh0cmFbZXh0cmFfaW5kZXggKyB3b3JrW3N5bV1dO1xuICAgICAgaGVyZV92YWwgPSBiYXNlW2Jhc2VfaW5kZXggKyB3b3JrW3N5bV1dO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGhlcmVfb3AgPSAzMiArIDY0OyAgICAgICAgIC8qIGVuZCBvZiBibG9jayAqL1xuICAgICAgaGVyZV92YWwgPSAwO1xuICAgIH1cblxuICAgIC8qIHJlcGxpY2F0ZSBmb3IgdGhvc2UgaW5kaWNlcyB3aXRoIGxvdyBsZW4gYml0cyBlcXVhbCB0byBodWZmICovXG4gICAgaW5jciA9IDEgPDwgKGxlbiAtIGRyb3ApO1xuICAgIGZpbGwgPSAxIDw8IGN1cnI7XG4gICAgbWluID0gZmlsbDsgICAgICAgICAgICAgICAgIC8qIHNhdmUgb2Zmc2V0IHRvIG5leHQgdGFibGUgKi9cbiAgICBkbyB7XG4gICAgICBmaWxsIC09IGluY3I7XG4gICAgICB0YWJsZVtuZXh0ICsgKGh1ZmYgPj4gZHJvcCkgKyBmaWxsXSA9IChoZXJlX2JpdHMgPDwgMjQpIHwgKGhlcmVfb3AgPDwgMTYpIHwgaGVyZV92YWwgfDA7XG4gICAgfSB3aGlsZSAoZmlsbCAhPT0gMCk7XG5cbiAgICAvKiBiYWNrd2FyZHMgaW5jcmVtZW50IHRoZSBsZW4tYml0IGNvZGUgaHVmZiAqL1xuICAgIGluY3IgPSAxIDw8IChsZW4gLSAxKTtcbiAgICB3aGlsZSAoaHVmZiAmIGluY3IpIHtcbiAgICAgIGluY3IgPj49IDE7XG4gICAgfVxuICAgIGlmIChpbmNyICE9PSAwKSB7XG4gICAgICBodWZmICY9IGluY3IgLSAxO1xuICAgICAgaHVmZiArPSBpbmNyO1xuICAgIH0gZWxzZSB7XG4gICAgICBodWZmID0gMDtcbiAgICB9XG5cbiAgICAvKiBnbyB0byBuZXh0IHN5bWJvbCwgdXBkYXRlIGNvdW50LCBsZW4gKi9cbiAgICBzeW0rKztcbiAgICBpZiAoLS1jb3VudFtsZW5dID09PSAwKSB7XG4gICAgICBpZiAobGVuID09PSBtYXgpIHsgYnJlYWs7IH1cbiAgICAgIGxlbiA9IGxlbnNbbGVuc19pbmRleCArIHdvcmtbc3ltXV07XG4gICAgfVxuXG4gICAgLyogY3JlYXRlIG5ldyBzdWItdGFibGUgaWYgbmVlZGVkICovXG4gICAgaWYgKGxlbiA+IHJvb3QgJiYgKGh1ZmYgJiBtYXNrKSAhPT0gbG93KSB7XG4gICAgICAvKiBpZiBmaXJzdCB0aW1lLCB0cmFuc2l0aW9uIHRvIHN1Yi10YWJsZXMgKi9cbiAgICAgIGlmIChkcm9wID09PSAwKSB7XG4gICAgICAgIGRyb3AgPSByb290O1xuICAgICAgfVxuXG4gICAgICAvKiBpbmNyZW1lbnQgcGFzdCBsYXN0IHRhYmxlICovXG4gICAgICBuZXh0ICs9IG1pbjsgICAgICAgICAgICAvKiBoZXJlIG1pbiBpcyAxIDw8IGN1cnIgKi9cblxuICAgICAgLyogZGV0ZXJtaW5lIGxlbmd0aCBvZiBuZXh0IHRhYmxlICovXG4gICAgICBjdXJyID0gbGVuIC0gZHJvcDtcbiAgICAgIGxlZnQgPSAxIDw8IGN1cnI7XG4gICAgICB3aGlsZSAoY3VyciArIGRyb3AgPCBtYXgpIHtcbiAgICAgICAgbGVmdCAtPSBjb3VudFtjdXJyICsgZHJvcF07XG4gICAgICAgIGlmIChsZWZ0IDw9IDApIHsgYnJlYWs7IH1cbiAgICAgICAgY3VycisrO1xuICAgICAgICBsZWZ0IDw8PSAxO1xuICAgICAgfVxuXG4gICAgICAvKiBjaGVjayBmb3IgZW5vdWdoIHNwYWNlICovXG4gICAgICB1c2VkICs9IDEgPDwgY3VycjtcbiAgICAgIGlmICgodHlwZSA9PT0gTEVOUyAmJiB1c2VkID4gRU5PVUdIX0xFTlMpIHx8XG4gICAgICAgICh0eXBlID09PSBESVNUUyAmJiB1c2VkID4gRU5PVUdIX0RJU1RTKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cblxuICAgICAgLyogcG9pbnQgZW50cnkgaW4gcm9vdCB0YWJsZSB0byBzdWItdGFibGUgKi9cbiAgICAgIGxvdyA9IGh1ZmYgJiBtYXNrO1xuICAgICAgLyp0YWJsZS5vcFtsb3ddID0gY3VycjtcbiAgICAgIHRhYmxlLmJpdHNbbG93XSA9IHJvb3Q7XG4gICAgICB0YWJsZS52YWxbbG93XSA9IG5leHQgLSBvcHRzLnRhYmxlX2luZGV4OyovXG4gICAgICB0YWJsZVtsb3ddID0gKHJvb3QgPDwgMjQpIHwgKGN1cnIgPDwgMTYpIHwgKG5leHQgLSB0YWJsZV9pbmRleCkgfDA7XG4gICAgfVxuICB9XG5cbiAgLyogZmlsbCBpbiByZW1haW5pbmcgdGFibGUgZW50cnkgaWYgY29kZSBpcyBpbmNvbXBsZXRlIChndWFyYW50ZWVkIHRvIGhhdmVcbiAgIGF0IG1vc3Qgb25lIHJlbWFpbmluZyBlbnRyeSwgc2luY2UgaWYgdGhlIGNvZGUgaXMgaW5jb21wbGV0ZSwgdGhlXG4gICBtYXhpbXVtIGNvZGUgbGVuZ3RoIHRoYXQgd2FzIGFsbG93ZWQgdG8gZ2V0IHRoaXMgZmFyIGlzIG9uZSBiaXQpICovXG4gIGlmIChodWZmICE9PSAwKSB7XG4gICAgLy90YWJsZS5vcFtuZXh0ICsgaHVmZl0gPSA2NDsgICAgICAgICAgICAvKiBpbnZhbGlkIGNvZGUgbWFya2VyICovXG4gICAgLy90YWJsZS5iaXRzW25leHQgKyBodWZmXSA9IGxlbiAtIGRyb3A7XG4gICAgLy90YWJsZS52YWxbbmV4dCArIGh1ZmZdID0gMDtcbiAgICB0YWJsZVtuZXh0ICsgaHVmZl0gPSAoKGxlbiAtIGRyb3ApIDw8IDI0KSB8ICg2NCA8PCAxNikgfDA7XG4gIH1cblxuICAvKiBzZXQgcmV0dXJuIHBhcmFtZXRlcnMgKi9cbiAgLy9vcHRzLnRhYmxlX2luZGV4ICs9IHVzZWQ7XG4gIG9wdHMuYml0cyA9IHJvb3Q7XG4gIHJldHVybiAwO1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFpTdHJlYW0oKSB7XG4gIC8qIG5leHQgaW5wdXQgYnl0ZSAqL1xuICB0aGlzLmlucHV0ID0gbnVsbDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuICB0aGlzLm5leHRfaW4gPSAwO1xuICAvKiBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlIGF0IGlucHV0ICovXG4gIHRoaXMuYXZhaWxfaW4gPSAwO1xuICAvKiB0b3RhbCBudW1iZXIgb2YgaW5wdXQgYnl0ZXMgcmVhZCBzbyBmYXIgKi9cbiAgdGhpcy50b3RhbF9pbiA9IDA7XG4gIC8qIG5leHQgb3V0cHV0IGJ5dGUgc2hvdWxkIGJlIHB1dCB0aGVyZSAqL1xuICB0aGlzLm91dHB1dCA9IG51bGw7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcbiAgdGhpcy5uZXh0X291dCA9IDA7XG4gIC8qIHJlbWFpbmluZyBmcmVlIHNwYWNlIGF0IG91dHB1dCAqL1xuICB0aGlzLmF2YWlsX291dCA9IDA7XG4gIC8qIHRvdGFsIG51bWJlciBvZiBieXRlcyBvdXRwdXQgc28gZmFyICovXG4gIHRoaXMudG90YWxfb3V0ID0gMDtcbiAgLyogbGFzdCBlcnJvciBtZXNzYWdlLCBOVUxMIGlmIG5vIGVycm9yICovXG4gIHRoaXMubXNnID0gJycvKlpfTlVMTCovO1xuICAvKiBub3QgdmlzaWJsZSBieSBhcHBsaWNhdGlvbnMgKi9cbiAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gIC8qIGJlc3QgZ3Vlc3MgYWJvdXQgdGhlIGRhdGEgdHlwZTogYmluYXJ5IG9yIHRleHQgKi9cbiAgdGhpcy5kYXRhX3R5cGUgPSAyLypaX1VOS05PV04qLztcbiAgLyogYWRsZXIzMiB2YWx1ZSBvZiB0aGUgdW5jb21wcmVzc2VkIGRhdGEgKi9cbiAgdGhpcy5hZGxlciA9IDA7XG59XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyoqXG4gKiBAdGhpcyB7UHJvbWlzZX1cbiAqL1xuZnVuY3Rpb24gZmluYWxseUNvbnN0cnVjdG9yKGNhbGxiYWNrKSB7XG4gIHZhciBjb25zdHJ1Y3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gIHJldHVybiB0aGlzLnRoZW4oXG4gICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY29uc3RydWN0b3IucmVqZWN0KHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZpbmFsbHlDb25zdHJ1Y3RvcjtcbiIsImltcG9ydCBwcm9taXNlRmluYWxseSBmcm9tICcuL2ZpbmFsbHknO1xuXG4vLyBTdG9yZSBzZXRUaW1lb3V0IHJlZmVyZW5jZSBzbyBwcm9taXNlLXBvbHlmaWxsIHdpbGwgYmUgdW5hZmZlY3RlZCBieVxuLy8gb3RoZXIgY29kZSBtb2RpZnlpbmcgc2V0VGltZW91dCAobGlrZSBzaW5vbi51c2VGYWtlVGltZXJzKCkpXG52YXIgc2V0VGltZW91dEZ1bmMgPSBzZXRUaW1lb3V0O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuLy8gUG9seWZpbGwgZm9yIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kXG5mdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqL1xuZnVuY3Rpb24gUHJvbWlzZShmbikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSkpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3Jyk7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ25vdCBhIGZ1bmN0aW9uJyk7XG4gIC8qKiBAdHlwZSB7IW51bWJlcn0gKi9cbiAgdGhpcy5fc3RhdGUgPSAwO1xuICAvKiogQHR5cGUgeyFib29sZWFufSAqL1xuICB0aGlzLl9oYW5kbGVkID0gZmFsc2U7XG4gIC8qKiBAdHlwZSB7UHJvbWlzZXx1bmRlZmluZWR9ICovXG4gIHRoaXMuX3ZhbHVlID0gdW5kZWZpbmVkO1xuICAvKiogQHR5cGUgeyFBcnJheTwhRnVuY3Rpb24+fSAqL1xuICB0aGlzLl9kZWZlcnJlZHMgPSBbXTtcblxuICBkb1Jlc29sdmUoZm4sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGUoc2VsZiwgZGVmZXJyZWQpIHtcbiAgd2hpbGUgKHNlbGYuX3N0YXRlID09PSAzKSB7XG4gICAgc2VsZiA9IHNlbGYuX3ZhbHVlO1xuICB9XG4gIGlmIChzZWxmLl9zdGF0ZSA9PT0gMCkge1xuICAgIHNlbGYuX2RlZmVycmVkcy5wdXNoKGRlZmVycmVkKTtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VsZi5faGFuZGxlZCA9IHRydWU7XG4gIFByb21pc2UuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCkge1xuICAgIHZhciBjYiA9IHNlbGYuX3N0YXRlID09PSAxID8gZGVmZXJyZWQub25GdWxmaWxsZWQgOiBkZWZlcnJlZC5vblJlamVjdGVkO1xuICAgIGlmIChjYiA9PT0gbnVsbCkge1xuICAgICAgKHNlbGYuX3N0YXRlID09PSAxID8gcmVzb2x2ZSA6IHJlamVjdCkoZGVmZXJyZWQucHJvbWlzZSwgc2VsZi5fdmFsdWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmV0O1xuICAgIHRyeSB7XG4gICAgICByZXQgPSBjYihzZWxmLl92YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGRlZmVycmVkLnByb21pc2UsIGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXNvbHZlKGRlZmVycmVkLnByb21pc2UsIHJldCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlKHNlbGYsIG5ld1ZhbHVlKSB7XG4gIHRyeSB7XG4gICAgLy8gUHJvbWlzZSBSZXNvbHV0aW9uIFByb2NlZHVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Byb21pc2VzLWFwbHVzL3Byb21pc2VzLXNwZWMjdGhlLXByb21pc2UtcmVzb2x1dGlvbi1wcm9jZWR1cmVcbiAgICBpZiAobmV3VmFsdWUgPT09IHNlbGYpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLicpO1xuICAgIGlmIChcbiAgICAgIG5ld1ZhbHVlICYmXG4gICAgICAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgbmV3VmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICAgKSB7XG4gICAgICB2YXIgdGhlbiA9IG5ld1ZhbHVlLnRoZW47XG4gICAgICBpZiAobmV3VmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHNlbGYuX3N0YXRlID0gMztcbiAgICAgICAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgZmluYWxlKHNlbGYpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRvUmVzb2x2ZShiaW5kKHRoZW4sIG5ld1ZhbHVlKSwgc2VsZik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZi5fc3RhdGUgPSAxO1xuICAgIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgZmluYWxlKHNlbGYpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmVqZWN0KHNlbGYsIGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChzZWxmLCBuZXdWYWx1ZSkge1xuICBzZWxmLl9zdGF0ZSA9IDI7XG4gIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gIGZpbmFsZShzZWxmKTtcbn1cblxuZnVuY3Rpb24gZmluYWxlKHNlbGYpIHtcbiAgaWYgKHNlbGYuX3N0YXRlID09PSAyICYmIHNlbGYuX2RlZmVycmVkcy5sZW5ndGggPT09IDApIHtcbiAgICBQcm9taXNlLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpIHtcbiAgICAgIGlmICghc2VsZi5faGFuZGxlZCkge1xuICAgICAgICBQcm9taXNlLl91bmhhbmRsZWRSZWplY3Rpb25GbihzZWxmLl92YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gc2VsZi5fZGVmZXJyZWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaGFuZGxlKHNlbGYsIHNlbGYuX2RlZmVycmVkc1tpXSk7XG4gIH1cbiAgc2VsZi5fZGVmZXJyZWRzID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSGFuZGxlcihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvbWlzZSkge1xuICB0aGlzLm9uRnVsZmlsbGVkID0gdHlwZW9mIG9uRnVsZmlsbGVkID09PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiBudWxsO1xuICB0aGlzLm9uUmVqZWN0ZWQgPSB0eXBlb2Ygb25SZWplY3RlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uUmVqZWN0ZWQgOiBudWxsO1xuICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xufVxuXG4vKipcbiAqIFRha2UgYSBwb3RlbnRpYWxseSBtaXNiZWhhdmluZyByZXNvbHZlciBmdW5jdGlvbiBhbmQgbWFrZSBzdXJlXG4gKiBvbkZ1bGZpbGxlZCBhbmQgb25SZWplY3RlZCBhcmUgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBNYWtlcyBubyBndWFyYW50ZWVzIGFib3V0IGFzeW5jaHJvbnkuXG4gKi9cbmZ1bmN0aW9uIGRvUmVzb2x2ZShmbiwgc2VsZikge1xuICB2YXIgZG9uZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIGZuKFxuICAgICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHJlc29sdmUoc2VsZiwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgcmVqZWN0KHNlbGYsIHJlYXNvbik7XG4gICAgICB9XG4gICAgKTtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgIGRvbmUgPSB0cnVlO1xuICAgIHJlamVjdChzZWxmLCBleCk7XG4gIH1cbn1cblxuUHJvbWlzZS5wcm90b3R5cGVbJ2NhdGNoJ10gPSBmdW5jdGlvbihvblJlamVjdGVkKSB7XG4gIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3RlZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgLy8gQHRzLWlnbm9yZVxuICB2YXIgcHJvbSA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG5vb3ApO1xuXG4gIGhhbmRsZSh0aGlzLCBuZXcgSGFuZGxlcihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvbSkpO1xuICByZXR1cm4gcHJvbTtcbn07XG5cblByb21pc2UucHJvdG90eXBlWydmaW5hbGx5J10gPSBwcm9taXNlRmluYWxseTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbihhcnIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmICghYXJyIHx8IHR5cGVvZiBhcnIubGVuZ3RoID09PSAndW5kZWZpbmVkJylcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2UuYWxsIGFjY2VwdHMgYW4gYXJyYXknKTtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycik7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzb2x2ZShbXSk7XG4gICAgdmFyIHJlbWFpbmluZyA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgZnVuY3Rpb24gcmVzKGksIHZhbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHZhbCAmJiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICB2YXIgdGhlbiA9IHZhbC50aGVuO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhlbi5jYWxsKFxuICAgICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIHJlcyhpLCB2YWwpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFyZ3NbaV0gPSB2YWw7XG4gICAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHJlamVjdChleCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXMoaSwgYXJnc1tpXSk7XG4gICAgfVxuICB9KTtcbn07XG5cblByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBQcm9taXNlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWplY3QodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFsdWVzW2ldLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gVXNlIHBvbHlmaWxsIGZvciBzZXRJbW1lZGlhdGUgZm9yIHBlcmZvcm1hbmNlIGdhaW5zXG5Qcm9taXNlLl9pbW1lZGlhdGVGbiA9XG4gICh0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nICYmXG4gICAgZnVuY3Rpb24oZm4pIHtcbiAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgfSkgfHxcbiAgZnVuY3Rpb24oZm4pIHtcbiAgICBzZXRUaW1lb3V0RnVuYyhmbiwgMCk7XG4gIH07XG5cblByb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuID0gZnVuY3Rpb24gX3VuaGFuZGxlZFJlamVjdGlvbkZuKGVycikge1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1Bvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjonLCBlcnIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvbWlzZTtcbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV4dEhhbmRsZSA9IDE7IC8vIFNwZWMgc2F5cyBncmVhdGVyIHRoYW4gemVyb1xuICAgIHZhciB0YXNrc0J5SGFuZGxlID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgdmFyIHJlZ2lzdGVySW1tZWRpYXRlO1xuXG4gICAgZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4gICAgICAvLyBDYWxsYmFjayBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG5ldyBGdW5jdGlvbihcIlwiICsgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgLy8gQ29weSBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgYW5kIHJlZ2lzdGVyIHRoZSB0YXNrXG4gICAgICB2YXIgdGFzayA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrLCBhcmdzOiBhcmdzIH07XG4gICAgICB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdID0gdGFzaztcbiAgICAgIHJlZ2lzdGVySW1tZWRpYXRlKG5leHRIYW5kbGUpO1xuICAgICAgcmV0dXJuIG5leHRIYW5kbGUrKztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcbiAgICAgICAgZGVsZXRlIHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW4odGFzaykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICAgICAgICB2YXIgYXJncyA9IHRhc2suYXJncztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5JZlByZXNlbnQoaGFuZGxlKSB7XG4gICAgICAgIC8vIEZyb20gdGhlIHNwZWM6IFwiV2FpdCB1bnRpbCBhbnkgaW52b2NhdGlvbnMgb2YgdGhpcyBhbGdvcml0aG0gc3RhcnRlZCBiZWZvcmUgdGhpcyBvbmUgaGF2ZSBjb21wbGV0ZWQuXCJcbiAgICAgICAgLy8gU28gaWYgd2UncmUgY3VycmVudGx5IHJ1bm5pbmcgYSB0YXNrLCB3ZSdsbCBuZWVkIHRvIGRlbGF5IHRoaXMgaW52b2NhdGlvbi5cbiAgICAgICAgaWYgKGN1cnJlbnRseVJ1bm5pbmdBVGFzaykge1xuICAgICAgICAgICAgLy8gRGVsYXkgYnkgZG9pbmcgYSBzZXRUaW1lb3V0LiBzZXRJbW1lZGlhdGUgd2FzIHRyaWVkIGluc3RlYWQsIGJ1dCBpbiBGaXJlZm94IDcgaXQgZ2VuZXJhdGVkIGFcbiAgICAgICAgICAgIC8vIFwidG9vIG11Y2ggcmVjdXJzaW9uXCIgZXJyb3IuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bih0YXNrKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckltbWVkaWF0ZShoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkgeyBydW5JZlByZXNlbnQoaGFuZGxlKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuVXNlUG9zdE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIFRoZSB0ZXN0IGFnYWluc3QgYGltcG9ydFNjcmlwdHNgIHByZXZlbnRzIHRoaXMgaW1wbGVtZW50YXRpb24gZnJvbSBiZWluZyBpbnN0YWxsZWQgaW5zaWRlIGEgd2ViIHdvcmtlcixcbiAgICAgICAgLy8gd2hlcmUgYGdsb2JhbC5wb3N0TWVzc2FnZWAgbWVhbnMgc29tZXRoaW5nIGNvbXBsZXRlbHkgZGlmZmVyZW50IGFuZCBjYW4ndCBiZSB1c2VkIGZvciB0aGlzIHB1cnBvc2UuXG4gICAgICAgIGlmIChnbG9iYWwucG9zdE1lc3NhZ2UgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICB2YXIgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2xkT25NZXNzYWdlID0gZ2xvYmFsLm9ubWVzc2FnZTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsIFwiKlwiKTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBvbGRPbk1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICAvLyBJbnN0YWxscyBhbiBldmVudCBoYW5kbGVyIG9uIGBnbG9iYWxgIGZvciB0aGUgYG1lc3NhZ2VgIGV2ZW50OiBzZWVcbiAgICAgICAgLy8gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9ET00vd2luZG93LnBvc3RNZXNzYWdlXG4gICAgICAgIC8vICogaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvY29tbXMuaHRtbCNjcm9zc0RvY3VtZW50TWVzc2FnZXNcblxuICAgICAgICB2YXIgbWVzc2FnZVByZWZpeCA9IFwic2V0SW1tZWRpYXRlJFwiICsgTWF0aC5yYW5kb20oKSArIFwiJFwiO1xuICAgICAgICB2YXIgb25HbG9iYWxNZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGdsb2JhbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5pbmRleE9mKG1lc3NhZ2VQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UobWVzc2FnZVByZWZpeCArIGhhbmRsZSwgXCIqXCIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBodG1sLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIElmIHN1cHBvcnRlZCwgd2Ugc2hvdWxkIGF0dGFjaCB0byB0aGUgcHJvdG90eXBlIG9mIGdsb2JhbCwgc2luY2UgdGhhdCBpcyB3aGVyZSBzZXRUaW1lb3V0IGV0IGFsLiBsaXZlLlxuICAgIHZhciBhdHRhY2hUbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcbiAgICBhdHRhY2hUbyA9IGF0dGFjaFRvICYmIGF0dGFjaFRvLnNldFRpbWVvdXQgPyBhdHRhY2hUbyA6IGdsb2JhbDtcblxuICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgZS5nLiBicm93c2VyaWZ5IGVudmlyb25tZW50cy5cbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiKSB7XG4gICAgICAgIC8vIEZvciBOb2RlLmpzIGJlZm9yZSAwLjlcbiAgICAgICAgaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuICAgICAgICAvLyBGb3Igbm9uLUlFMTAgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAvLyBGb3Igd2ViIHdvcmtlcnMsIHdoZXJlIHN1cHBvcnRlZFxuICAgICAgICBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChkb2MgJiYgXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiBpbiBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkge1xuICAgICAgICAvLyBGb3IgSUUgNuKAkzhcbiAgICAgICAgaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUby5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG4gICAgYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcbn0odHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyB0eXBlb2YgZ2xvYmFsID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IGdsb2JhbCA6IHNlbGYpKTtcbiIsInZhciBzY29wZSA9ICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbCkgfHxcbiAgICAgICAgICAgICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmKSB8fFxuICAgICAgICAgICAgd2luZG93O1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cbmV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgaWYgKHRpbWVvdXQpIHtcbiAgICB0aW1lb3V0LmNsb3NlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwoc2NvcGUsIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBzZXRpbW1lZGlhdGUgYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5yZXF1aXJlKFwic2V0aW1tZWRpYXRlXCIpO1xuLy8gT24gc29tZSBleG90aWMgZW52aXJvbm1lbnRzLCBpdCdzIG5vdCBjbGVhciB3aGljaCBvYmplY3QgYHNldGltbWVkaWF0ZWAgd2FzXG4vLyBhYmxlIHRvIGluc3RhbGwgb250by4gIFNlYXJjaCBlYWNoIHBvc3NpYmlsaXR5IGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZVxuLy8gYHNldGltbWVkaWF0ZWAgbGlicmFyeS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLnNldEltbWVkaWF0ZSk7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuY2xlYXJJbW1lZGlhdGUpO1xuIiwic2VsZi5mZXRjaHx8KHNlbGYuZmV0Y2g9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbj1ufHx7fSxuZXcgUHJvbWlzZShmdW5jdGlvbih0LHIpe3ZhciBzPW5ldyBYTUxIdHRwUmVxdWVzdDtmb3IodmFyIG8gaW4gcy5vcGVuKG4ubWV0aG9kfHxcImdldFwiLGUsITApLG4uaGVhZGVycylzLnNldFJlcXVlc3RIZWFkZXIobyxuLmhlYWRlcnNbb10pO2Z1bmN0aW9uIHUoKXt2YXIgZSxuPVtdLHQ9W10scj17fTtyZXR1cm4gcy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5yZXBsYWNlKC9eKC4qPyk6W15cXFNcXG5dKihbXFxzXFxTXSo/KSQvZ20sZnVuY3Rpb24ocyxvLHUpe24ucHVzaChvPW8udG9Mb3dlckNhc2UoKSksdC5wdXNoKFtvLHVdKSxyW29dPShlPXJbb10pP2UrXCIsXCIrdTp1fSkse29rOjI9PShzLnN0YXR1cy8xMDB8MCksc3RhdHVzOnMuc3RhdHVzLHN0YXR1c1RleHQ6cy5zdGF0dXNUZXh0LHVybDpzLnJlc3BvbnNlVVJMLGNsb25lOnUsdGV4dDpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUocy5yZXNwb25zZVRleHQpfSxqc29uOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShzLnJlc3BvbnNlVGV4dCkudGhlbihKU09OLnBhcnNlKX0sYmxvYjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3MucmVzcG9uc2VdKSl9LGhlYWRlcnM6e2tleXM6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sZW50cmllczpmdW5jdGlvbigpe3JldHVybiB0fSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHJbZS50b0xvd2VyQ2FzZSgpXX0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRvTG93ZXJDYXNlKClpbiByfX19fXMud2l0aENyZWRlbnRpYWxzPVwiaW5jbHVkZVwiPT1uLmNyZWRlbnRpYWxzLHMub25sb2FkPWZ1bmN0aW9uKCl7dCh1KCkpfSxzLm9uZXJyb3I9cixzLnNlbmQobi5ib2R5fHxudWxsKX0pfSk7XG4iLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoIChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcbiIsIi8vIFBsYXkgQXVkaW8gd2l0aCBNZWRpYVNvdXJjZSBleHRlbnNpb25zIHJlY2VpdmVkIG92ZXIgYSB3ZWJzb2NrZXRcbnZhciBPUFVTX01JTUVfVFlQRSA9ICdhdWRpby93ZWJtOyBjb2RlY3M9XCJvcHVzXCInO1xudmFyIE1QM19NSU1FX1RZUEUgPSAnYXVkaW8vbXBlZyc7XG5cbi8vIFRoaXMgcmVwcmVzZW50cyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIHR5cGVzIGFyZSB0cmllZFxuY29uc3QgQVVESU9fVFlQRVMgPSBbXG4gIHtcImlkXCI6IFwibXAzXCIsXG4gICAgXCJ0eXBlXCI6IE1QM19NSU1FX1RZUEV9LFxuXG4gIHtcImlkXCI6IFwib3B1c1wiLFxuICAgIFwidHlwZVwiOiBPUFVTX01JTUVfVFlQRX0sXG5dO1xuXG5leHBvcnQge2dldEJlc3RBdWRpb1R5cGUsIFdTQXVkaW99O1xuXG5cbmZ1bmN0aW9uIGdldEJlc3RBdWRpb1R5cGUoKSB7XG4gIGlmICh3aW5kb3cuTWVkaWFTb3VyY2UpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEFVRElPX1RZUEVTLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAod2luZG93Lk1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZChBVURJT19UWVBFU1tpXS50eXBlKSkge1xuICAgICAgICByZXR1cm4gQVVESU9fVFlQRVNbaV0uaWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5cbmZ1bmN0aW9uIFdTQXVkaW8gKGJyb3dzZXJfaW5mbywgaW5pdF9wYXJhbXMpIHtcbiAgaW5pdF9wYXJhbXMgPSBpbml0X3BhcmFtcyB8fCB7fTtcblxuICB2YXIgTUFYX0JVRkZFUlMgPSAyNTA7XG4gIHZhciBNSU5fU1RBUlRfQlVGRkVSUyA9IDEwO1xuXG4gIHZhciBtaW5MYXRlbmN5ID0gMC4yOyAvLyAyMDBtc1xuICB2YXIgbWF4TGF0ZW5jeSA9IDAuNSAgLy8gNTAwbXNcbiAgdGhpcy5sYXRlbmN5Q2hlY2sgPSBudWxsO1xuXG4gIHRoaXMud3MgPSBudWxsO1xuICB0aGlzLndzX3VybCA9IG51bGw7XG5cbiAgdGhpcy5lcnJDb3VudCA9IDA7XG5cbiAgdGhpcy5hbGxvd0FwcGVuZCA9IGZhbHNlO1xuXG4gIHRoaXMuYXVkaW8gPSBudWxsO1xuICB0aGlzLmF1ZGlvX21pbWUgPSBudWxsO1xuICB0aGlzLm1lZGlhc291cmNlID0gbnVsbDtcbiAgdGhpcy5idWZmZXIgPSBudWxsO1xuXG4gIHRoaXMuYnVmZlEgPSBbXTtcbiAgdGhpcy5idWZmQ291bnQgPSAwO1xuICB0aGlzLmJ1ZmZTaXplID0gMDtcblxuICB0aGlzLmdldF9hdWRpb19taW1lID0gZnVuY3Rpb24oYnJvd3Nlcl9pbmZvKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBBVURJT19UWVBFUy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKEFVRElPX1RZUEVTW2ldLmlkID09IGJyb3dzZXJfaW5mby5hdWRpbykge1xuICAgICAgICByZXR1cm4gQVVESU9fVFlQRVNbaV0udHlwZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIG5vdCBpbml0ZWQsIHVua25vd24gYXVkaW8gdHlwZTogXCIgKyBicm93c2VyX2luZm8uYXVkaW8pO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdGhpcy5nZXRfd3NfdXJsID0gZnVuY3Rpb24oYnJvd3Nlcl9pbmZvKSB7XG4gICAgdmFyIHdzX3VybCA9ICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT0gXCJodHRwczpcIiA/IFwid3NzOlwiIDogXCJ3czpcIik7XG4gICAgd3NfdXJsICs9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcblxuICAgIHZhciBhdWRpb19wb3J0ID0gYnJvd3Nlcl9pbmZvLmNtZF9wb3J0O1xuXG4gICAgaWYgKGluaXRfcGFyYW1zLnByb3h5X3dzKSB7XG4gICAgICB3c191cmwgKz0gXCIvXCIgKyBpbml0X3BhcmFtcy5wcm94eV93cyArIGF1ZGlvX3BvcnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdzX3VybCArPSBcIjpcIiArIGF1ZGlvX3BvcnQgKyBcIi9hdWRpb193c1wiO1xuICAgIH1cblxuICAgIHJldHVybiB3c191cmw7XG4gIH1cblxuXG4gIHRoaXMuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5hdWRpbykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5hdWRpb19taW1lID0gdGhpcy5nZXRfYXVkaW9fbWltZShicm93c2VyX2luZm8pO1xuICAgIHRoaXMud3NfdXJsID0gdGhpcy5nZXRfd3NfdXJsKGJyb3dzZXJfaW5mbyk7XG5cbiAgICBpZiAoIXRoaXMuYXVkaW9fbWltZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMubGF0ZW5jeUNoZWNrID0gc2V0SW50ZXJ2YWwodGhpcy5sYXRlbmN5Q29udHJvbGxlci5iaW5kKHRoaXMpLCAyNTApO1xuXG4gICAgdGhpcy5tZWRpYXNvdXJjZSA9IG5ldyBNZWRpYVNvdXJjZSgpO1xuICAgIHRoaXMubWVkaWFzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcInNvdXJjZW9wZW5cIiwgdGhpcy5zb3VyY2VPcGVuLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5tZWRpYXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB0aGlzLmF1ZGlvRXJyb3IoXCJNZWRpYVNvdXJjZSBFcnJvclwiLCBldmVudCk7XG4gICAgfSkuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLmF1ZGlvID0gbmV3IEF1ZGlvKCk7XG4gICAgdGhpcy5hdWRpby5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMubWVkaWFzb3VyY2UpO1xuICAgIHRoaXMuYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgIHRoaXMuYXVkaW8ubG9hZCgpO1xuICAgIHRoaXMuYXVkaW8ucGxheSgpLmNhdGNoKGZ1bmN0aW9uKCkgeyB9KTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdGhpcy5zb3VyY2VPcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMubWVkaWFzb3VyY2Uuc291cmNlQnVmZmVycy5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwic291cmNlIGFscmVhZHkgb3BlblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYnVmZmVyID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBidWZmZXIgPSB0aGlzLm1lZGlhc291cmNlLmFkZFNvdXJjZUJ1ZmZlcih0aGlzLmF1ZGlvX21pbWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiT3BlbmluZyBTb3VyY2UgRXJyb3I6IFwiICsgZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYnVmZmVyLm1vZGUgPSBcInNlcXVlbmNlXCI7XG4gICAgLy9idWZmZXIudGltZXN0YW1wT2Zmc2V0ID0gMDtcblxuICAgIGJ1ZmZlci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB0aGlzLmF1ZGlvRXJyb3IoXCJidWZmZXIgZXJyb3I6IFwiICsgKHRoaXMuYnVmZkNvdW50KSwgZXZlbnQpO1xuICAgIH0pLmJpbmQodGhpcykpO1xuXG4gICAgYnVmZmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ1cGRhdGVlbmRcIiwgdGhpcy5vblVwZGF0ZUVuZC5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuXG4gICAgdGhpcy5hbGxvd0FwcGVuZCA9IHRydWU7XG5cbiAgICB0aGlzLmluaXRXcygpO1xuICB9O1xuXG4gIHRoaXMuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcIkNsb3NpbmcgQXVkaW9cIik7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLmxhdGVuY3lDaGVjaykge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMubGF0ZW5jeUNoZWNrKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubWVkaWFzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5tZWRpYXNvdXJjZS5yZW1vdmVTb3VyY2VCdWZmZXIodGhpcy5idWZmZXIpO1xuICAgICAgICBpZiAodGhpcy5tZWRpYXNvdXJjZS5yZWFkeVN0YXRlID09IFwib3BlblwiKSB7XG4gICAgICAgICAgdGhpcy5tZWRpYXNvdXJjZS5lbmRPZlN0cmVhbSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG5cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgQ2xvc2luZzogXCIgKyBlKTtcbiAgICB9XG4gICAgdGhpcy5tZWRpYXNvdXJjZSA9IG51bGw7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMuYXVkaW8pIHtcbiAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5hdWRpbyA9IG51bGw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coXCJFcnJvciBDbG9zaW5nOiBcIiArIGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLndzKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkNsb3Npbmcgd2Vic29ja2V0XCIpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgfSBjYXRjaChlKSB7fVxuXG4gICAgICB0aGlzLndzID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICB0aGlzLm1lcmdlQnVmZmVycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtZXJnZWQ7XG5cbiAgICBpZiAodGhpcy5idWZmUS5sZW5ndGggPT0gMSkge1xuICAgICAgbWVyZ2VkID0gdGhpcy5idWZmUVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVyZ2VkID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmU2l6ZSk7XG5cbiAgICAgIHZhciBsZW5ndGggPSB0aGlzLmJ1ZmZRLmxlbmd0aDtcbiAgICAgIHZhciBvZmZzZXQgPSAwO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyID0gdGhpcy5idWZmUVtpXTtcbiAgICAgICAgaWYgKGN1cnIubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBtZXJnZWQuc2V0KGN1cnIsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBjdXJyLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmJ1ZmZRID0gW107XG4gICAgdGhpcy5idWZmQ291bnQrKztcbiAgICByZXR1cm4gbWVyZ2VkO1xuICB9XG5cbiAgdGhpcy5vblVwZGF0ZUVuZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuYWxsb3dBcHBlbmQgPSB0cnVlO1xuICAgIHRoaXMudXBkYXRlTmV4dCgpO1xuICB9XG5cbiAgdGhpcy51cGRhdGVOZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmJ1ZmZRLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB2YXIgbWVyZ2VkID0gdGhpcy5tZXJnZUJ1ZmZlcnMoKTtcbiAgICAgIHRoaXMuYnVmZmVyLmFwcGVuZEJ1ZmZlcihtZXJnZWQpO1xuICAgICAgdGhpcy5hbGxvd0FwcGVuZCA9IGZhbHNlO1xuICAgICAgdGhpcy5idWZmU2l6ZSAtPSBtZXJnZWQubGVuZ3RoO1xuICAgICAgdGhpcy5lcnJDb3VudCA9IDA7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5hdWRpb0Vycm9yKFwiRXJyb3IgQWRkaW5nIEJ1ZmZlcjogXCIgKyBlKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLmxhdGVuY3lDb250cm9sbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gY2hlY2sgZm9yIGxhdGVuY3kgYW5kIHNlZWsgZm9yd2FyZCBpZiBuZWNlc3NhcnlcbiAgICB0cnkge1xuICAgICAgdmFyIGxhdGVuY3kgPSB0aGlzLmF1ZGlvLmJ1ZmZlcmVkLmVuZCgwKSAtIHRoaXMuYXVkaW8uY3VycmVudFRpbWU7XG4gICAgICBpZiAobGF0ZW5jeSA+IG1heExhdGVuY3kpIHtcbiAgICAgICAgdGhpcy5hdWRpby5jdXJyZW50VGltZSA9IHRoaXMuYXVkaW8uYnVmZmVyZWQuZW5kKDApIC0gbWluTGF0ZW5jeTtcbiAgICAgICAgY29uc29sZS5sb2coXCJBdWRpbyBoYXMgYmVlbiBzZWVrZWQgYnkgXCIsIE1hdGgucm91bmQoKGxhdGVuY3kgLSBtaW5MYXRlbmN5KSAqIDEwMDApLCBcIiBtc1wiKTtcbiAgICAgIH1cblxuICAgIH0gY2F0Y2goZSkge1xuXG4gICAgfVxuICB9XG5cbiAgdGhpcy5hdWRpb0Vycm9yID0gZnVuY3Rpb24obXNnLCBldmVudCkge1xuICAgIGlmICh0aGlzLmF1ZGlvICYmIHRoaXMuYXVkaW8uZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLmF1ZGlvLmVycm9yKTtcbiAgICAgIC8vY29uc29sZS5sb2coXCJudW0gcHJvY2Vzc2VkOiBcIiArIHRoaXMuYnVmZkNvdW50KTtcbiAgICAgIHRoaXMuZXJyQ291bnQgKz0gMTtcbiAgICAgIC8vaWYgKHRoaXMuZXJyQ291bnQgPT0gMSkge1xuICAgICAgLy8gICAgc2V0VGltZW91dChyZXN0YXJ0QXVkaW8sIDMwMDApO1xuICAgICAgLy99XG4gICAgfVxuICB9XG5cbiAgdGhpcy5xdWV1ZSA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAgIC8qXG4gICAgaWYgKHRoaXMuYnVmZlNpemUgPiAyMDAwMDApIHtcbiAgICAgICAgaWYgKHRoaXMuYnVmZkNvdW50ID4gMCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHRoaXMuYnVmZlEuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuYnVmZlNpemUgLT0gcmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZHJvcHBpbmcgb2xkIGJ1ZmZlcnNcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkb24ndCBkcm9wIHRoZSBzdGFydGluZyBidWZmZXJzXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImRyb3BwaW5nIG5ldyBidWZmZXJzXCIpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVOZXh0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgKi9cblxuICAgIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgdGhpcy5idWZmUS5wdXNoKGJ1ZmZlcik7XG4gICAgdGhpcy5idWZmU2l6ZSArPSBidWZmZXIubGVuZ3RoO1xuXG4gICAgaWYgKHRoaXMuYWxsb3dBcHBlbmQpIHtcbiAgICAgIHRoaXMudXBkYXRlTmV4dCgpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuaW5pdFdzID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHRoaXMud3NfdXJsLCBcImJpbmFyeVwiKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmF1ZGlvRXJyb3IoXCJXUyBPcGVuIEZhaWxlZFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLndzLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgIHRoaXMud3MuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgd3Nfb3Blbi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLndzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCB3c19jbG9zZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLndzLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHdzX21lc3NhZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy53cy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHdzX2Vycm9yLmJpbmQodGhpcykpO1xuICB9XG5cbiAgdmFyIHdzX29wZW4gPSBmdW5jdGlvbihldmVudCkge1xuICAgIC8vdGhpcy5zZW5kKFwicmVhZHlcIik7XG4gIH1cblxuICB2YXIgd3NfbWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuZXJyQ291bnQgPT0gMCkge1xuICAgICAgdGhpcy5xdWV1ZShldmVudC5kYXRhKTtcbiAgICB9XG4gIH1cblxuICB2YXIgd3NfZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmF1ZGlvRXJyb3IoXCJXUyBFcnJvclwiKTtcbiAgfVxuXG4gIHZhciB3c19jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuYXVkaW9FcnJvcihcIldTIENsb3NlXCIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG5cbiAgLy9yZXR1cm4ge1wic3RhcnRcIjogc3RhcnQsXG4gIC8vICAgICAgICBcInN0b3BcIjogc3RvcCxcbiAgLy8gICAgICAgIFwicmVzdGFydFwiOiByZXN0YXJ0QXVkaW8sXG4gIC8vICAgICAgICBcImdldEF1ZGlvXCI6IGZ1bmN0aW9uICgpIHtyZXR1cm4gIGF1ZGlvV1MuYXVkaW87fSxcbiAgLy99XG59O1xuXG5cblxuXG4iLCJleHBvcnQge1dlYlJUQ0F1ZGlvfTtcblxuXG5mdW5jdGlvbiBXZWJSVENBdWRpbyhwZWVyX2lkLCBkYXRhKSB7XG5cbiAgbGV0IGRlYnVnID0gdHJ1ZTtcbiAgbGV0IGF1ZGlvID0gbnVsbDtcbiAgbGV0IGNvbm5lY3RfYXR0ZW1wdHMgPSAwO1xuICBsZXQgcGVlcl9jb25uZWN0aW9uO1xuICBsZXQgd3NfY29ubjtcblxuICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGF1ZGlvKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImFscmVhZHkgc3RhcnRlZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXVkaW8gPSBuZXcgQXVkaW8oKTtcbiAgICBhdWRpby5hdXRvcGxheSA9IHRydWU7XG4gICAgYXVkaW8ucGxheSgpLmNhdGNoKHNldEVycm9yKTtcbiAgICBjb25uZWN0VG9TaWduYWxpbmdTZXJ2ZXIoKTtcbiAgfTtcblxuICBmdW5jdGlvbiBjb25uZWN0VG9TaWduYWxpbmdTZXJ2ZXIoKSB7XG4gICAgY29ubmVjdF9hdHRlbXB0cysrO1xuICAgIGlmIChjb25uZWN0X2F0dGVtcHRzID4gMTAwKSB7XG4gICAgICBzZXRFcnJvcihcIlRvbyBtYW55IGNvbm5lY3Rpb24gYXR0ZW1wdHMsIGFib3J0aW5nLiBSZWZyZXNoIHBhZ2UgdG8gdHJ5IGFnYWluXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZldGNoIHRoZSBwZWVyIGlkIHRvIHVzZVxuICAgIGxldCBwZWVyX2lkID0gZ2V0UGVlcklkKCk7XG4gICAgbGV0IHdzX3VybCA9IGdldFNpZ25hbGxpbmdTZXJ2ZXIoKTtcbiAgICBzZXRTdGF0dXMoXCJDb25uZWN0aW5nIHRvIHNlcnZlciBcIiArIHdzX3VybCArIFwiLCBhdHRlbXB0PSBcIiArIGNvbm5lY3RfYXR0ZW1wdHMpO1xuICAgIHdzX2Nvbm4gPSBuZXcgV2ViU29ja2V0KHdzX3VybCk7XG4gICAgLyogV2hlbiBjb25uZWN0ZWQsIGltbWVkaWF0ZWx5IHJlZ2lzdGVyIHdpdGggdGhlIHNlcnZlciAqL1xuICAgIHdzX2Nvbm4uYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsICgpID0+IHtcbiAgICAgIHdzX2Nvbm4uc2VuZCgnSEVMTE8gJyArIHBlZXJfaWQpO1xuICAgICAgc2V0U3RhdHVzKFwiUmVnaXN0ZXJpbmcgd2l0aCBzZXJ2ZXIsIHBlZXItaWQgPSBcIiArIHBlZXJfaWQpO1xuICAgIH0pO1xuXG4gICAgd3NfY29ubi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uU2VydmVyRXJyb3IpO1xuICAgIHdzX2Nvbm4uYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uU2VydmVyTWVzc2FnZSk7XG4gICAgd3NfY29ubi5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIG9uU2VydmVyQ2xvc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UGVlcklkKCkge1xuICAgIHJldHVybiBwZWVyX2lkO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2lnbmFsbGluZ1NlcnZlcigpIHtcbiAgICBsZXQgd3NfdXJsID0gKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gXCJodHRwczpcIiA/IFwid3NzOi8vXCIgOiBcIndzOi8vXCIpO1xuICAgIHdzX3VybCArPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG5cbiAgICB2YXIgYXVkaW9fcG9ydCA9IGRhdGEuY21kX3BvcnQ7XG5cbiAgICBpZiAoZGF0YS5wcm94eV93cykge1xuICAgICAgd3NfdXJsICs9IFwiL1wiICsgZGF0YS5wcm94eV93cyArIGF1ZGlvX3BvcnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdzX3VybCArPSBcIjpcIiArIGF1ZGlvX3BvcnQgKyBcIi9hdWRpb193c1wiO1xuICAgIH1cblxuICAgIHJldHVybiB3c191cmw7XG4gIH1cblxuICBmdW5jdGlvbiBvblNlcnZlckVycm9yKCkge1xuICAgIHNldEVycm9yKFwiVW5hYmxlIHRvIGNvbm5lY3QgdG8gc2VydmVyLCBkaWQgeW91IGFkZCBhbiBleGNlcHRpb24gZm9yIHRoZSBjZXJ0aWZpY2F0ZT9cIik7XG4gICAgLy8gUmV0cnkgYWZ0ZXIgMyBzZWNvbmRzXG4gICAgd2luZG93LnNldFRpbWVvdXQoY29ubmVjdFRvU2lnbmFsaW5nU2VydmVyLCAzMDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUluY29taW5nRXJyb3IobWVzc2FnZSkge1xuICAgIGNvbnNvbGUubG9nKFwiaGFuZGxlSW5jb21pbmdFcnJvclwiICsgbWVzc2FnZSk7XG4gIH1cblxuICBmdW5jdGlvbiBvblNlcnZlck1lc3NhZ2UoZXZlbnQpIHtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiUmVjZWl2ZWQgZnJvbSB3ZWJzb2NrZXQgXCIgKyBldmVudC5kYXRhKTtcbiAgICB9XG4gICAgbGV0IG1zZztcbiAgICBzd2l0Y2ggKGV2ZW50LmRhdGEpIHtcbiAgICAgIGNhc2UgXCJIRUxMT1wiOlxuICAgICAgICBzZXRTdGF0dXMoXCJSZWdpc3RlcmVkIHdpdGggc2VydmVyLCB3YWl0aW5nIGZvciBjYWxsXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoZXZlbnQuZGF0YS5zdGFydHNXaXRoKFwiRVJST1JcIikpIHtcbiAgICAgICAgICBoYW5kbGVJbmNvbWluZ0Vycm9yKGV2ZW50LmRhdGEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgaW5jb21pbmcgSlNPTiBTRFAgYW5kIElDRSBtZXNzYWdlc1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG1zZyA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7XG4gICAgICAgICAgICBoYW5kbGVJbmNvbWluZ0Vycm9yKFwiRXJyb3IgcGFyc2luZyBpbmNvbWluZyBKU09OOiBcIiArIGV2ZW50LmRhdGEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVJbmNvbWluZ0Vycm9yKFwiVW5rbm93biBlcnJvciBwYXJzaW5nIHJlc3BvbnNlOiBcIiArIGV2ZW50LmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbmNvbWluZyBKU09OIHNpZ25hbHMgdGhlIGJlZ2lubmluZyBvZiBhIGNhbGxcbiAgICAgICAgaWYgKCFwZWVyX2Nvbm5lY3Rpb24pXG4gICAgICAgICAgY3JlYXRlQ2FsbChtc2cpO1xuXG4gICAgICAgIGlmIChtc2cuc2RwICE9IG51bGwpIHtcbiAgICAgICAgICBvbkluY29taW5nU0RQKG1zZy5zZHApO1xuICAgICAgICB9IGVsc2UgaWYgKG1zZy5pY2UgIT0gbnVsbCkge1xuICAgICAgICAgIG9uSW5jb21pbmdJQ0UobXNnLmljZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlSW5jb21pbmdFcnJvcihcIlVua25vd24gaW5jb21pbmcgSlNPTjogXCIgKyBtc2cpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSUNFIGNhbmRpZGF0ZSByZWNlaXZlZCBmcm9tIHBlZXIsIGFkZCBpdCB0byB0aGUgcGVlciBjb25uZWN0aW9uXG4gIGZ1bmN0aW9uIG9uSW5jb21pbmdJQ0UoaWNlKSB7XG4gICAgbGV0IGNhbmRpZGF0ZSA9IG5ldyBSVENJY2VDYW5kaWRhdGUoaWNlKTtcbiAgICBwZWVyX2Nvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkuY2F0Y2goc2V0RXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25TZXJ2ZXJDbG9zZShldmVudCkge1xuICAgIHNldFN0YXR1cygnRGlzY29ubmVjdGVkIGZyb20gc2VydmVyIHdpdGggY29kZT0nICsgZXZlbnQuY29kZSArICcgcmVhc29uPScgKyBldmVudC5yZWFzb24pO1xuICAgIHJlc2V0QXVkaW8oKTtcbiAgICBkaXNjb25uZWN0V2Vic29ja2V0KCk7XG5cbiAgICBpZiAoZXZlbnQuY29kZSAhPT0gMTAwMikge1xuICAgICAgLy8gUmVzZXQgYWZ0ZXIgYSBzZWNvbmRcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNvbm5lY3RUb1NpZ25hbGluZ1NlcnZlciwgMjAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjb25uZWN0X2F0dGVtcHRzIDwgNSkge1xuICAgICAgICAvLyBSZXRyaWV2ZSB0byBjb25uZWN0IHVwIHRvIDUgdGltZXMgKHBlZXItaWQgbWlnaHQgYmUgaW4gY29uZmxpY3QgaWYgaW5pdF9icm93c2VyIGlzIGNhbGxlZCBhZ2FpbilcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoY29ubmVjdFRvU2lnbmFsaW5nU2VydmVyLCAyMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTdGF0dXMoc3RhdHVzKSB7XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIldlYlJUQy1zdGF0dXM6XCIgKyBzdGF0dXMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEVycm9yKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coXCJXZWJSVEMtZXJyb3I6IFwiICsgZXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25JbmNvbWluZ1NEUChzZHApIHtcbiAgICBwZWVyX2Nvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oc2RwKS50aGVuKCgpID0+IHtcbiAgICAgIHNldFN0YXR1cyhcIlJlbW90ZSBTRFAgc2V0XCIpO1xuICAgICAgaWYgKHNkcC50eXBlICE9PSBcIm9mZmVyXCIpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHNldFN0YXR1cyhcIkdvdCBTRFAgb2ZmZXJcIik7XG4gICAgICBwZWVyX2Nvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKClcbiAgICAgICAgLnRoZW4ob25Mb2NhbERlc2NyaXB0aW9uKS5jYXRjaChzZXRFcnJvcik7XG4gICAgfSkuY2F0Y2goc2V0RXJyb3IpO1xuICB9XG5cbiAgLy8gTG9jYWwgZGVzY3JpcHRpb24gd2FzIHNldCwgc2VuZCBpdCB0byBwZWVyXG4gIGZ1bmN0aW9uIG9uTG9jYWxEZXNjcmlwdGlvbihkZXNjKSB7XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkdvdCBsb2NhbCBkZXNjcmlwdGlvbjogXCIgKyBKU09OLnN0cmluZ2lmeShkZXNjKSk7XG4gICAgfVxuICAgIHBlZXJfY29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2MpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBzZXRTdGF0dXMoXCJTZW5kaW5nIFNEUCBhbnN3ZXJcIik7XG4gICAgICBsZXQgc2RwID0gSlNPTi5zdHJpbmdpZnkoeydzZHAnOiBwZWVyX2Nvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbn0pO1xuICAgICAgd3NfY29ubi5zZW5kKHNkcCk7XG4gICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHJlc2V0QXVkaW8oKSB7XG4gICAgLy8gUmVzZXQgdGhlIGF1ZGlvIGVsZW1lbnQgYW5kIHN0b3Agc2hvd2luZyB0aGUgbGFzdCByZWNlaXZlZCBmcmFtZVxuICAgIHRyeSB7XG4gICAgICBhdWRpby5wYXVzZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwicmVzZXRBdWRpbyBlcnJvciBcIiArIGUpO1xuICAgIH1cblxuICB9XG5cbiAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBXZWJSVEMgYXVkaW8gY29ubmVjdGlvblwiKTtcbiAgICBkaXNjb25uZWN0V2Vic29ja2V0KCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGlzY29ubmVjdFdlYnNvY2tldCgpIHtcbiAgICBpZiAod3NfY29ubikge1xuICAgICAgY29uc29sZS5sb2coXCJkaXNjb25uZWN0IHdlYnNvY2tldFwiKTtcbiAgICAgIHdzX2Nvbm4uY2xvc2UoKTtcbiAgICB9XG5cbiAgICBpZiAocGVlcl9jb25uZWN0aW9uKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImRpc2Nvbm5lY3QgcGVlclwiKTtcbiAgICAgIHBlZXJfY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgcGVlcl9jb25uZWN0aW9uID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDYWxsKG1zZykge1xuICAgIC8vIFJlc2V0IGNvbm5lY3Rpb24gYXR0ZW1wdHMgYmVjYXVzZSB3ZSBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5XG4gICAgY29ubmVjdF9hdHRlbXB0cyA9IDA7XG5cbiAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgUlRDUGVlckNvbm5lY3Rpb24nKTtcblxuXG4gICAgcGVlcl9jb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKGdldFJ0Y1BlZXJDb25maWd1cmF0aW9uKCkpO1xuICAgIHBlZXJfY29ubmVjdGlvbi5vbnRyYWNrID0gb25SZW1vdGVUcmFja0FkZGVkO1xuXG4gICAgLyogU2VuZCBvdXIgdmlkZW8vYXVkaW8gdG8gdGhlIG90aGVyIHBlZXIgKi9cbiAgICBpZiAoIW1zZy5zZHApIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiV0FSTklORzogRmlyc3QgbWVzc2FnZSB3YXNuJ3QgYW4gU0RQIG1lc3NhZ2UhP1wiKTtcbiAgICB9XG5cbiAgICBwZWVyX2Nvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgIC8vIFdlIGhhdmUgYSBjYW5kaWRhdGUsIHNlbmQgaXQgdG8gdGhlIHJlbW90ZSBwYXJ0eSB3aXRoIHRoZVxuICAgICAgLy8gc2FtZSB1dWlkXG4gICAgICBpZiAoZXZlbnQuY2FuZGlkYXRlID09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJJQ0UgQ2FuZGlkYXRlIHdhcyBudWxsLCBkb25lXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcInNlbmQgY2FuZGlkYXRlIHJlbW90ZWx5XCIgKyBldmVudC5jYW5kaWRhdGUuY2FuZGlkYXRlKTtcblxuICAgICAgd3NfY29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KHsnaWNlJzogZXZlbnQuY2FuZGlkYXRlfSkpO1xuICAgIH07XG5cbiAgICBzZXRTdGF0dXMoXCJDcmVhdGVkIHBlZXIgY29ubmVjdGlvbiBmb3IgY2FsbCwgd2FpdGluZyBmb3IgU0RQXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25SZW1vdGVUcmFja0FkZGVkKGV2ZW50KSB7XG4gICAgYXVkaW8uc3JjT2JqZWN0ID0gZXZlbnQuc3RyZWFtc1swXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJ0Y1BlZXJDb25maWd1cmF0aW9uKCkge1xuICAgIGxldCBpY2VTZXJ2ZXJzID0gW107XG4gICAgaWYgKGRhdGFbXCJ3ZWJydGNfdHVybl9zZXJ2ZXJcIl0pIHtcbiAgICAgIGxldCBzZXJ2ZXIgPSBkYXRhW1wid2VicnRjX3R1cm5fc2VydmVyXCJdO1xuICAgICAgbGV0IGNyZWRlbnRpYWxzID0gZGF0YVtcIndlYnJ0Y190dXJuX2NyZWRlbnRpYWxzXCJdO1xuXG4gICAgICBpY2VTZXJ2ZXJzLnB1c2goe1xuICAgICAgICBcInVybHNcIjogc2VydmVyLFxuICAgICAgICBcImNyZWRlbnRpYWxcIjogY3JlZGVudGlhbHNbXCJwYXNzd29yZFwiXSxcbiAgICAgICAgXCJ1c2VybmFtZVwiOiBjcmVkZW50aWFsc1tcInVzZXJuYW1lXCJdXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGFbXCJ3ZWJydGNfc3R1bl9zZXJ2ZXJcIl0pIHtcbiAgICAgIGxldCBzZXJ2ZXIgPSBkYXRhW1wid2VicnRjX3N0dW5fc2VydmVyXCJdO1xuICAgICAgaWNlU2VydmVycy5wdXNoKHtcInVybHNcIjogc2VydmVyfSk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiaWNlc2VydmVycyA9ICVPXCIsIGljZVNlcnZlcnMpO1xuXG5cbiAgICByZXR1cm4ge1wiaWNlU2VydmVyc1wiOiBpY2VTZXJ2ZXJzfTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5cblxuXG4iLCJpbXBvcnQgJ3VuZmV0Y2gvcG9seWZpbGwvaW5kZXgnO1xuaW1wb3J0IFJGQiBmcm9tICdAbm92bmMvbm92bmMvY29yZS9yZmInO1xuaW1wb3J0IFByb21pc2UgZnJvbSAncHJvbWlzZS1wb2x5ZmlsbCc7XG5pbXBvcnQgeyBXU0F1ZGlvLCBnZXRCZXN0QXVkaW9UeXBlIH0gZnJvbSAnLi9hdWRpby1tZWRpYXNvdXJjZSc7XG5pbXBvcnQgeyBXZWJSVENBdWRpbyB9IGZyb20gJy4vYXVkaW8td2VicnRjJ1xuXG5cbmZ1bmN0aW9uIHRvUXVlcnlTdHJpbmcob2JqKSB7XG4gIHZhciBwYXJ0cyA9IFtdO1xuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIHBhcnRzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtpXSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGFydHMuam9pbignJicpO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENCcm93c2VyKHJlcWlkLCB0YXJnZXRfZGl2LCBpbml0X3BhcmFtcykge1xuICB2YXIgY29udHJvbGxlciA9IHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgIT09ICd1bmRlZmluZWQnID8gbmV3IEFib3J0Q29udHJvbGxlcigpIDogbnVsbDtcblxuICB2YXIgY21kX3BvcnQgPSB1bmRlZmluZWQ7XG4gIHZhciB2bmNfcG9ydCA9IHVuZGVmaW5lZDtcblxuICB2YXIgY2xpcEV2ZW50cyA9IFsncGFzdGUnXTtcbiAgdmFyIGNvbm5lY3RlZCA9IGZhbHNlO1xuICB2YXIgY291bnRkb3duVGltZXIgPSBudWxsO1xuICB2YXIgdmlzaWJpbGl0eUhhbmRsZSA9IG51bGw7XG4gIHZhciBldmVyX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICB2YXIgZmFpbF9jb3VudCA9IDA7XG4gIHZhciBoYXNDbGlwYm9hcmQgPSBmYWxzZTtcbiAgdmFyIGxhc3RUZXh0ID0gdW5kZWZpbmVkO1xuICB2YXIgbWF4UmV0cnkgPSAxMDtcbiAgdmFyIHJldHJ5Q291bnQgPSAwO1xuICB2YXIgcmV0cnlIYW5kbGUgPSBudWxsO1xuICB2YXIgc3RhZ2VkVGV4dCA9IG51bGw7XG4gIHZhciB0aW1lcnMgPSBbXVxuXG4gIHZhciBtaW5fd2lkdGggPSAzMDA7XG4gIHZhciBtaW5faGVpZ2h0ID0gMzAwO1xuXG4gIHZhciByZmI7XG4gIHZhciByZXNpemVUaW1lb3V0O1xuICB2YXIgdm5jX3Bhc3MgPSBcInNlY3JldFwiO1xuXG4gIHZhciBlbmRfdGltZSA9IHVuZGVmaW5lZDtcblxuICB2YXIgdGFyZ2V0RGl2Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0X2Rpdik7XG5cbiAgdmFyIHdhaXRpbmdfZm9yX2NvbnRhaW5lciA9IGZhbHNlO1xuICB2YXIgd2FpdGluZ19mb3Jfdm5jID0gZmFsc2U7XG5cbiAgaW5pdF9wYXJhbXMgPSBpbml0X3BhcmFtcyB8fCB7fTtcblxuICBpbml0X3BhcmFtcy5hcGlfcHJlZml4ID0gaW5pdF9wYXJhbXMuYXBpX3ByZWZpeCB8fCBcIlwiO1xuXG4gIHZhciBudW1fdm5jX3JldHJpZXMgPSBpbml0X3BhcmFtcy5udW1fdm5jX3JldHJpZXMgfHwgMztcblxuICB2YXIgcmVxX3BhcmFtcyA9IHt9O1xuXG4gIC8vIHJmYiBldmVudCBjYWxsYmFja3NcbiAgdmFyIGNyZWRlbnRpYWxzUmVxdWlyZWQ7XG4gIHZhciBjb25uZWN0O1xuICB2YXIgZGlzY29ubmVjdDtcbiAgdmFyIHNlY3VyaXR5RmFpbHVyZTtcbiAgdmFyIGNsaXBib2FyZFxuICB2YXIgcmZiRXZlbnRzQm91bmQgPSBmYWxzZTtcblxuXG4gIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIC8vIENvdW50ZG93biB1cGRhdGVyXG4gICAgaWYgKGluaXRfcGFyYW1zLm9uX2NvdW50ZG93bikge1xuICAgICAgY291bnRkb3duVGltZXIgPSBzZXRJbnRlcnZhbCh1cGRhdGVfY291bnRkb3duLCAxMDAwKTtcbiAgICB9XG5cbiAgICBpbml0X2h0bWwodGFyZ2V0X2Rpdik7XG5cbiAgICBzZXR1cF9icm93c2VyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGlwSGFuZGxlcihlKSB7XG4gICAgaWYgKCFoYXNDbGlwYm9hcmQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdGV4dDtcbiAgICBpZiAod2luZG93LmNsaXBib2FyZERhdGEgJiYgd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YSkgeyAvLyBpZVxuICAgICAgdGV4dCA9IHdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTtcbiAgICB9IGVsc2UgaWYgKGUuY2xpcGJvYXJkRGF0YSAmJiBlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSkge1xuICAgICAgdGV4dCA9IGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbm5lY3RlZCAmJiByZmIgJiYgdGV4dCkge1xuICAgICAgcmZiLmNsaXBib2FyZFBhc3RlRnJvbSh0ZXh0KTtcblxuICAgICAgLy8gYXR0ZW1wdCBzZW5kaW5nIHBhc3RlIGNvbW1hbmRcbiAgICAgIHJmYi5zZW5kS2V5KDB4ZmZlMywgbnVsbCwgdHJ1ZSk7XG4gICAgICByZmIuc2VuZEtleSgweDAwNzYsIG51bGwsIHRydWUpO1xuICAgICAgcmZiLnNlbmRLZXkoMHgwMDc2LCBudWxsLCBmYWxzZSk7XG4gICAgICByZmIuc2VuZEtleSgweGZmZTMsIG51bGwsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0X2NsaXBib2FyZCgpIHtcbiAgICBpZiAoIWluaXRfcGFyYW1zLmNsaXBib2FyZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhhc0NsaXBib2FyZCA9IHRydWU7XG4gICAgbGFzdFRleHQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBpZiByZW1vdGUgYnJvd3NlciBjdXQvY29weSBvcHBlcmF0aW9uIG9jY3VyZWQsIGluc2VydCBpbnRvIGNsaXBib2FyZCBmaWVsZFxuICAgIGlmIChzdGFnZWRUZXh0KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5pdF9wYXJhbXMuY2xpcGJvYXJkKS52YWx1ZSA9IHN0YWdlZFRleHQ7XG4gICAgICAgIHN0YWdlZFRleHQgPSBudWxsO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpcEV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihpbml0X3BhcmFtcy5jbGlwYm9hcmQpLmFkZEV2ZW50TGlzdGVuZXIoY2xpcEV2ZW50c1tpXSwgY2xpcEhhbmRsZXIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3lfY2xpcGJvYXJkKCkge1xuICAgIGlmICghaW5pdF9wYXJhbXMuY2xpcGJvYXJkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaGFzQ2xpcGJvYXJkID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjYW52YXMoKSB7XG4gICAgcmV0dXJuIHRhcmdldERpdk5vZGUucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICB9XG5cbiAgZnVuY3Rpb24gbXNnZGl2KCkge1xuICAgIHJldHVybiB0YXJnZXREaXZOb2RlLnF1ZXJ5U2VsZWN0b3IoJyNicm93c2VyTXNnJyk7XG4gIH1cblxuICBmdW5jdGlvbiBzY3JlZW4oKSB7XG4gICAgcmV0dXJuIHRhcmdldERpdk5vZGUucXVlcnlTZWxlY3RvcignI25vVk5DX3NjcmVlbicpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdF9odG1sKCkge1xuICAgIC8vIGVuc3VyZSBjb250YWluZXIgaXMgZW1wdGllZCBvZiBwcmV2aW91cyBicm93c2Vyc1xuICAgIHRhcmdldERpdk5vZGUuaW5uZXJIVE1MID0gJyc7XG5cbiAgICB2YXIgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnaWQnLCAnYnJvd3Nlck1zZycpO1xuICAgIG1zZ0Rpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xvYWRpbmcnKTtcbiAgICB0YXJnZXREaXZOb2RlLmFwcGVuZENoaWxkKG1zZ0Rpdik7XG5cbiAgICB2YXIgY2FudmFzRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FudmFzRWxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2FudmFzJyk7XG4gICAgdmFyIGNhbnZhc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhbnZhc0Rpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ25vVk5DX3NjcmVlbicpO1xuICAgIGNhbnZhc0Rpdi5hcHBlbmRDaGlsZChjYW52YXNFbGUpO1xuICAgIHRhcmdldERpdk5vZGUuYXBwZW5kQ2hpbGQoY2FudmFzRGl2KTtcblxuICAgIGNhbnZhc0VsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0dXBfYnJvd3NlcigpIHtcbiAgICBpZiAod2FpdGluZ19mb3Jfdm5jIHx8IHdhaXRpbmdfZm9yX2NvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtc2c7XG5cbiAgICBpZiAoZXZlcl9jb25uZWN0ZWQpIHtcbiAgICAgIG1zZyA9IFwiUmVjb25uZWN0aW5nIHRvIFJlbW90ZSBCcm93c2VyLi4uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1zZyA9IFwiSW5pdGlhbGl6aW5nIFJlbW90ZSBCcm93c2VyLi4uXCI7XG4gICAgfVxuXG4gICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gbXNnO1xuICAgIG1zZ2RpdigpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgLy8gY2FsY3VsYXRlIGRpbWVuc2lvbnNcbiAgICBjb25zdCBiY3IgPSB0YXJnZXREaXZOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCB3ID0gYmNyLndpZHRoO1xuICAgIGxldCBoID0gYmNyLmhlaWdodDtcblxuICAgIGlmICghaW5pdF9wYXJhbXMuZmlsbF93aW5kb3cpIHtcbiAgICAgIHcgKj0gMC45NjtcbiAgICAgIGggLT0gMjU7XG4gICAgfVxuXG4gICAgaWYgKHcgPCBoKSB7XG4gICAgICAvLyBmbGlwIG1pbnMgZm9yIHZlcnRpY2FsIGxheW91dFxuICAgICAgdmFyIHQgPSBtaW5fd2lkdGg7XG4gICAgICBtaW5fd2lkdGggPSBtaW5faGVpZ2h0O1xuICAgICAgbWluX2hlaWdodCA9IHQ7XG4gICAgfVxuXG4gICAgcmVxX3BhcmFtc1snd2lkdGgnXSA9IE1hdGgubWF4KHcsIG1pbl93aWR0aCk7XG4gICAgcmVxX3BhcmFtc1snaGVpZ2h0J10gPSBNYXRoLm1heChoLCBtaW5faGVpZ2h0KTtcbiAgICByZXFfcGFyYW1zWyd3aWR0aCddID0gcGFyc2VJbnQocmVxX3BhcmFtc1snd2lkdGgnXSAvIDgpICogODtcbiAgICByZXFfcGFyYW1zWydoZWlnaHQnXSA9IHBhcnNlSW50KHJlcV9wYXJhbXNbJ2hlaWdodCddIC8gOCkgKiA4O1xuXG4gICAgcmVxX3BhcmFtc1sncmVxaWQnXSA9IHJlcWlkO1xuXG4gICAgcmVxX3BhcmFtc1tcImF1ZGlvXCJdID0gZ2V0QmVzdEF1ZGlvVHlwZSgpO1xuXG4gICAgaWYgKCFyZXFfcGFyYW1zW1wiYXVkaW9cIl0pIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gU3VwcG9ydGVkIEF1ZGlvIFR5cGVzXCIpO1xuICAgIH1cblxuICAgIGluaXRfYnJvd3NlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdF9icm93c2VyKCkge1xuICAgIGlmICh3YWl0aW5nX2Zvcl9jb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3YWl0aW5nX2Zvcl9jb250YWluZXIgPSB0cnVlO1xuXG4gICAgdmFyIGluaXRfdXJsID0gaW5pdF9wYXJhbXMuYXBpX3ByZWZpeCArIFwiL2luaXRfYnJvd3Nlcj9cIiArIHRvUXVlcnlTdHJpbmcocmVxX3BhcmFtcyk7XG5cbiAgICB2YXIgb3B0aW9ucyA9IHsgaGVhZGVyczogbmV3IEhlYWRlcnMoaW5pdF9wYXJhbXMuaGVhZGVycyB8fCB7fSkgfTtcblxuICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICBvcHRpb25zLnNpZ25hbCA9IGNvbnRyb2xsZXIuc2lnbmFsO1xuICAgIH1cblxuICAgIC8vIGV4cGVjdHMganNvbiByZXNwb25zZVxuICAgIGZldGNoKGluaXRfdXJsLCBvcHRpb25zKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXMuc3RhdHVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHdhaXRpbmdfZm9yX2NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICBoYW5kbGVfYnJvd3Nlcl9yZXNwb25zZShkYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnZmV0Y2ggZXJyb3InLCBlcnIpO1xuICAgICAgICB3YWl0aW5nX2Zvcl9jb250YWluZXIgPSBmYWxzZTtcblxuICAgICAgICAvLyB1c2VyIGNhbmNlbGVkXG4gICAgICAgIGlmIChlcnIubWVzc2FnZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlcnIgfHwgZXJyLm1lc3NhZ2UgIT0gNDA0KSB7XG4gICAgICAgICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gJ1JlY29ubmVjdGluZyB0byBSZW1vdGUgQnJvd3Nlci4uLic7XG4gICAgICAgICAgbXNnZGl2KCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICBpZihyZXRyeUNvdW50KysgPCBtYXhSZXRyeSkge1xuICAgICAgICAgICAgdGltZXJzLnB1c2goc2V0VGltZW91dChpbml0X2Jyb3dzZXIsIDEwMDApKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5pdF9wYXJhbXMub25fZXZlbnQpIHtcbiAgICAgICAgICBpbml0X3BhcmFtcy5vbl9ldmVudCgnZXhwaXJlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gJ1JlbW90ZSBCcm93c2VyIEV4cGlyZWQuLi4gUGxlYXNlIHRyeSBhZ2Fpbi4uLic7XG4gICAgICAgICAgbXNnZGl2KCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlX2Jyb3dzZXJfcmVzcG9uc2UoZGF0YSkge1xuICAgIHZhciBxaWQgPSBkYXRhLmlkO1xuXG4gICAgaWYgKGRhdGEuY21kX3BvcnQgJiYgZGF0YS52bmNfcG9ydCkge1xuICAgICAgY21kX3BvcnQgPSBkYXRhLmNtZF9wb3J0O1xuICAgICAgdm5jX3BvcnQgPSBkYXRhLnZuY19wb3J0O1xuXG4gICAgICBlbmRfdGltZSA9IHBhcnNlSW50KERhdGUubm93KCkgLyAxMDAwLCAxMCkgKyBkYXRhLnR0bDtcblxuICAgICAgdm5jX3Bhc3MgPSBkYXRhLnZuY19wYXNzO1xuXG4gICAgICBpZiAoaW5pdF9wYXJhbXMuYXVkaW8pIHtcbiAgICAgICAgLy8gc2V0dXBfYnJvd3NlciBjYW4gYmUgY2FsbGVkIG1hbnkgdGltZXMgKHNwZWNpYWxseSB3aGVuIG5vVm5jIHRocm93biBhbiBleGNlcHRpb24pLCB3ZSBzdG9wIHNvdW5kIGJlZm9yZSBpbml0IGFnYWluXG4gICAgICAgIGlmICh3aW5kb3cuYXVkaW9QbHVnaW4gJiYgd2luZG93LmF1ZGlvUGx1Z2luLmhhc093blByb3BlcnR5KFwiY2xvc2VcIikpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2luZG93LmF1ZGlvUGx1Z2luLmNsb3NlKCk7XG4gICAgICAgICAgICB3aW5kb3cuYXVkaW9QbHVnaW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbCBkdXJpbmcgd2luZG93LmF1ZGlvLmNsb3NlKClcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmF1ZGlvKSB7XG4gICAgICAgICAgLy8gZm9yIG5vdywgY2hlY2sgaWYgd2VicnRjIHNldCBpbiBpbml0IHBhcmFtc1xuICAgICAgICAgIGlmIChpbml0X3BhcmFtcy53ZWJydGMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwid2ViUlRDOiBpbml0IHBsdWdpblwiKTtcbiAgICAgICAgICAgIHZhciB3ZWJydGNfZGF0YSA9IHt9O1xuICAgICAgICAgICAgd2VicnRjX2RhdGEud2VicnRjX3N0dW5fc2VydmVyID0gXCJzdHVuOnN0dW4ubC5nb29nbGUuY29tOjE5MzAyXCI7XG4gICAgICAgICAgICB3ZWJydGNfZGF0YS5jbWRfcG9ydCA9IGNtZF9wb3J0O1xuICAgICAgICAgICAgd2VicnRjX2RhdGEucHJveHlfd3MgPSBpbml0X3BhcmFtcy5wcm94eV93cztcblxuICAgICAgICAgICAgd2luZG93LmF1ZGlvUGx1Z2luID0gbmV3IFdlYlJUQ0F1ZGlvKFwiMVwiLCB3ZWJydGNfZGF0YSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXU0F1ZGlvOiBpbml0IHBsdWdpblwiKTtcbiAgICAgICAgICAgIHdpbmRvdy5hdWRpb1BsdWdpbiA9IG5ldyBXU0F1ZGlvKGRhdGEsIGluaXRfcGFyYW1zKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaW5pdF9wYXJhbXMuYXVkaW8gPT0gXCJ3YWl0X2Zvcl9jbGlja1wiKSB7XG4gICAgICAgICAgICAvLyBhY3RpdmF0ZSBhdWRpbyBvbiBmaXJzdCBjbGlja1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgd2luZG93LmF1ZGlvUGx1Z2luLnN0YXJ0KCk7XG4gICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHJpZ2h0IGF3YXkgLS0gbWF5IGJlIG11dGVkIG9uIGxhdGVzdCBDaHJvbWUgdW50aWwgY2xpY2tcbiAgICAgICAgICAgIHdpbmRvdy5hdWRpb1BsdWdpbi5zdGFydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaW5pdF9wYXJhbXMub25fZXZlbnQpIHtcbiAgICAgICAgaW5pdF9wYXJhbXMub25fZXZlbnQoXCJpbml0XCIsIGRhdGEpO1xuICAgICAgfVxuXG4gICAgICB0aW1lcnMucHVzaCh3aW5kb3cuc2V0VGltZW91dCh0cnlfaW5pdF92bmMsIDMwMDApKTtcblxuICAgIH0gZWxzZSBpZiAoZGF0YS5xdWV1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBtc2cgPSBcIldhaXRpbmcgZm9yIGVtcHR5IHNsb3QuLi4gXCI7XG4gICAgICBpZiAoZGF0YS5xdWV1ZSA9PSAwKSB7XG4gICAgICAgIG1zZyArPSBcIjxiPllvdSBhcmUgbmV4dCE8L2I+XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtc2cgKz0gXCJBdCBtb3N0IDxiPlwiICsgZGF0YS5xdWV1ZSArIFwiIHVzZXIocyk8L2I+IGFoZWFkIG9mIHlvdVwiO1xuICAgICAgfVxuICAgICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gbXNnO1xuXG4gICAgICB0aW1lcnMucHVzaCh3aW5kb3cuc2V0VGltZW91dChpbml0X2Jyb3dzZXIsIDMwMDApKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlfaW5pdF92bmMoKSB7XG4gICAgZG9fdm5jKClcbiAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgd2FpdGluZ19mb3Jfdm5jID0gZmFsc2U7IH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmYWlsZWQnLCBlcnIpO1xuXG4gICAgICAgIHdhaXRpbmdfZm9yX3ZuYyA9IGZhbHNlO1xuICAgICAgICBmYWlsX2NvdW50Kys7XG5cbiAgICAgICAgaWYgKGZhaWxfY291bnQgPD0gbnVtX3ZuY19yZXRyaWVzKSB7XG4gICAgICAgICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gXCJSZXRyeWluZyB0byBjb25uZWN0IHRvIHJlbW90ZSBicm93c2VyLi4uXCI7XG4gICAgICAgICAgdGltZXJzLnB1c2goc2V0VGltZW91dChpbml0X2Jyb3dzZXIsIDUwMCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChpbml0X3BhcmFtcy5vbl9ldmVudCkge1xuICAgICAgICAgICAgaW5pdF9wYXJhbXMub25fZXZlbnQoXCJmYWlsXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtc2dkaXYoKS5pbm5lckhUTUwgPSBcIkZhaWxlZCB0byBjb25uZWN0IHRvIHJlbW90ZSBicm93c2VyLi4uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXJcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBjbGllbnRQb3NpdGlvbigpIHtcbiAgICBjb25zdCBiY3IgPSB0YXJnZXREaXZOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBjID0gY2FudmFzKCk7XG4gICAgdmFyIGNoID0gYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgdmFyIGN3ID0gYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICBpZiAoIWluaXRfcGFyYW1zLmZpbGxfd2luZG93KSB7XG4gICAgICBjLnN0eWxlLm1hcmdpbkxlZnQgPSAoKGJjci53aWR0aCAtIGN3KS8yKSArICdweCc7XG4gICAgICBjLnN0eWxlLm1hcmdpblRvcCA9ICgoYmNyLmhlaWdodCAtIChjaCArIDI1KSkvMikgKyAncHgnO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsaWVudFJlc2l6ZSgpIHtcbiAgICBjb25zdCBiY3IgPSB0YXJnZXREaXZOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgbGV0IHcgPSBiY3Iud2lkdGg7XG4gICAgbGV0IGggPSBiY3IuaGVpZ2h0O1xuXG4gICAgaWYgKCFpbml0X3BhcmFtcy5maWxsX3dpbmRvdykge1xuICAgICAgdyA9IE1hdGgucm91bmQodyAqIDAuOTYpO1xuICAgICAgaCA9IGggLSAyNTtcbiAgICB9XG5cbiAgICBpZiAocmZiKSB7XG4gICAgICB2YXIgcyA9IHJmYi5fZGlzcGxheS5hdXRvc2NhbGUodywgaCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25WTkNDb3B5Q3V0KHJmYiwgdGV4dCkge1xuICAgIGlmIChpbml0X3BhcmFtcy5jbGlwYm9hcmQgJiYgaGFzQ2xpcGJvYXJkKSB7XG4gICAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluaXRfcGFyYW1zLmNsaXBib2FyZCkuaW5uZXJIVE1MID0gKHRleHQpO1xuICAgIH0gZWxzZSBpZihpbml0X3BhcmFtcy5jbGlwYm9hcmQpIHtcbiAgICAgIHN0YWdlZFRleHQgPSB0ZXh0O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRvX3ZuYygpIHtcbiAgICBpZiAod2FpdGluZ19mb3Jfdm5jKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FpdGluZ19mb3Jfdm5jID0gdHJ1ZTtcblxuICAgIHZhciBob3N0ID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICAgIHZhciBwb3J0ID0gdm5jX3BvcnQ7XG4gICAgdmFyIHBhdGggPSBcIndlYnNvY2tpZnlcIjtcbiAgICB2YXIgcHJvdG9jb2wgPSBcIndzXCI7XG5cbiAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSBcImh0dHBzOlwiKSB7XG4gICAgICBwcm90b2NvbCA9IFwid3NzXCI7XG4gICAgfVxuXG4gICAgLy8gUHJveHkgV1MgdmlhIHRoZSBvcmlnaW4gaG9zdCwgaW5zdGVhZCBvZiBtYWtpbmcgZGlyZWN0IGNvbm5cbiAgICAvLyAncHJveHlfd3MnIHNwZWNpZmllcyB0aGUgcHJveHkgcGF0aCwgcG9ydCBpcyBhcHBlbmRlZFxuICAgIGlmIChpbml0X3BhcmFtcy5wcm94eV93cykge1xuICAgICAgcGF0aCA9IGluaXRfcGFyYW1zLnByb3h5X3dzICsgcG9ydDtcbiAgICAgIHBvcnQgPSB3aW5kb3cubG9jYXRpb24ucG9ydDtcbiAgICAgIGlmICghcG9ydCkge1xuICAgICAgICBwb3J0ID0gKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PSBcImh0dHBzOlwiID8gNDQzIDogODApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0YXJnZXQgPSBjYW52YXMoKTtcbiAgICB2YXIgd2Vic2VydmljZV91cmwgPSBwcm90b2NvbCArICc6Ly8nICsgaG9zdCArICc6JyArIHBvcnQgKyAnLycgKyBwYXRoO1xuXG4gICAgY29uc29sZS5sb2coXCJDb25uZWN0aW5nIHRvIFwiICsgd2Vic2VydmljZV91cmwpO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZmIgPSBuZXcgUkZCKHRhcmdldCwgd2Vic2VydmljZV91cmwsIHsnY3JlZGVudGlhbHMnOiB7J3Bhc3N3b3JkJzogdm5jX3Bhc3N9fSk7XG4gICAgICB3aW5kb3cucmZiID0gcmZiO1xuXG4gICAgICAvL2lmICghcmZiRXZlbnRzQm91bmQpIHtcbiAgICAgIGNyZWRlbnRpYWxzUmVxdWlyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdChcImNyZWRlbnRpYWxzcmVxdWlyZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbnZhcygpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgIGlmIChpbml0X3BhcmFtcy5maWxsX3dpbmRvdykge1xuICAgICAgICAgIGNhbnZhcygpLmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtc2dkaXYoKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIGV2ZXJfY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgZmFpbF9jb3VudCA9IDA7XG5cbiAgICAgICAgaWYgKGluaXRfcGFyYW1zLm9uX2V2ZW50KSB7XG4gICAgICAgICAgaW5pdF9wYXJhbXMub25fZXZlbnQoXCJjb25uZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJmYi5yZXNpemVTZXNzaW9uID0gdHJ1ZTtcbiAgICAgICAgcmZiLnNjYWxlVmlld3BvcnQgPSB0cnVlO1xuXG4gICAgICAgIHJlc29sdmUoXCJjb25uZWN0ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbm5lY3RlZCA9IGZhbHNlO1xuXG4gICAgICAgIGNhbnZhcygpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgdmFyIHJlaW5pdCA9ICFkb2N1bWVudC5oaWRkZW47XG5cbiAgICAgICAgaWYgKGluaXRfcGFyYW1zLm9uX2V2ZW50KSB7XG4gICAgICAgICAgaW5pdF9wYXJhbXMub25fZXZlbnQoXCJkaXNjb25uZWN0XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlaW5pdCkge1xuICAgICAgICAgIHNldHVwX2Jyb3dzZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZWplY3QoXCJkaXNjb25uZWN0ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIHNlY3VyaXR5RmFpbHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVqZWN0KFwic2VjdXJpdHlGYWlsdXJlXCIpO1xuICAgICAgfVxuXG4gICAgICBjbGlwYm9hcmQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgb25WTkNDb3B5Q3V0KHJmYiwgZXZlbnQuZGV0YWlsLnRleHQpO1xuICAgICAgfVxuXG4gICAgICByZmIuYWRkRXZlbnRMaXN0ZW5lcihcImNyZWRlbnRpYWxzcmVxdWlyZWRcIiwgY3JlZGVudGlhbHNSZXF1aXJlZCk7XG4gICAgICByZmIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbm5lY3RcIiwgY29ubmVjdCk7XG4gICAgICByZmIuYWRkRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgZGlzY29ubmVjdCk7XG4gICAgICByZmIuYWRkRXZlbnRMaXN0ZW5lcihcInNlY3VyaXR5ZmFpbHVyZVwiLCBzZWN1cml0eUZhaWx1cmUpO1xuICAgICAgcmZiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlwYm9hcmRcIiwgY2xpcGJvYXJkKTtcbiAgICAgIC8vICAgcmZiRXZlbnRzQm91bmQgPSB0cnVlO1xuICAgICAgLy8gfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuXG4gIHdpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBXaGVuIHRoZSB3aW5kb3cgaGFzIGJlZW4gcmVzaXplZCwgd2FpdCB1bnRpbCB0aGUgc2l6ZSByZW1haW5zXG4gICAgLy8gdGhlIHNhbWUgZm9yIDAuNSBzZWNvbmRzIGJlZm9yZSBzZW5kaW5nIHRoZSByZXF1ZXN0IGZvciBjaGFuZ2luZ1xuICAgIC8vIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBzZXNzaW9uXG4gICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXQpO1xuICAgIHJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICBjbGllbnRSZXNpemUoKTtcbiAgICAgIC8vY2xpZW50UG9zaXRpb24oKTtcbiAgICB9LCA1MDApO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZpc2liaWxpdHlDaGFuZ2VDQigpIHtcbiAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICB2aXNpYmlsaXR5SGFuZGxlID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHJmYikge1xuICAgICAgICAgIHJmYi5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbml0X3BhcmFtcy5pbmFjdGl2ZVNlY3MgKiAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJUaW1lb3V0KHZpc2liaWxpdHlIYW5kbGUpO1xuICAgICAgaWYgKCFjb25uZWN0ZWQpIHtcbiAgICAgICAgaWYgKGluaXRfcGFyYW1zLm9uX2V2ZW50KSB7XG4gICAgICAgICAgaW5pdF9wYXJhbXMub25fZXZlbnQoXCJyZWNvbm5lY3RcIik7XG4gICAgICAgIH1cblxuICAgICAgICBzZXR1cF9icm93c2VyKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlX2NvdW50ZG93bigpIHtcbiAgICBpZiAoIWVuZF90aW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjdXJyID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApO1xuICAgIHZhciBzZWNkaWZmID0gZW5kX3RpbWUgLSBjdXJyO1xuXG4gICAgaWYgKHNlY2RpZmYgPCAwKSB7XG4gICAgICBpbml0X3BhcmFtcy5vbl9jb3VudGRvd24oMCwgXCIwMDowMFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbWluID0gTWF0aC5mbG9vcihzZWNkaWZmIC8gNjApO1xuICAgIHZhciBzZWMgPSBzZWNkaWZmICUgNjA7XG4gICAgaWYgKHNlYyA8PSA5KSB7XG4gICAgICBzZWMgPSBcIjBcIiArIHNlYztcbiAgICB9XG4gICAgaWYgKG1pbiA8PSA5KSB7XG4gICAgICBtaW4gPSBcIjBcIiArIG1pbjtcbiAgICB9XG5cbiAgICBpbml0X3BhcmFtcy5vbl9jb3VudGRvd24oc2VjZGlmZiwgbWluICsgXCI6XCIgKyBzZWMpO1xuICB9XG5cbiAgaWYgKGluaXRfcGFyYW1zLmluYWN0aXZlU2Vjcykge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHZpc2liaWxpdHlDaGFuZ2VDQik7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhclRpbWVycygpIHtcbiAgICAvLyBjbGVhciBpbnRlcnZhbHMgYW5kIHRpbWVyc1xuICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duVGltZXIpO1xuICAgIGNsZWFyVGltZW91dCh2aXNpYmlsaXR5SGFuZGxlKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyc1tpXSk7XG4gICAgfVxuICAgIHRpbWVycyA9IFtdO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgaWYgKGNvbnRyb2xsZXIpIHtcbiAgICAgIC8vIGNhbmNlbCBmZXRjaCByZXF1ZXN0c1xuICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgIH1cblxuICAgIC8vIHN0b3AgYXVkaW8gcGx1Z2luXG4gICAgaWYgKGluaXRfcGFyYW1zLmF1ZGlvKSB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cuYXVkaW9QbHVnaW4uY2xvc2UoKTtcbiAgICAgICAgd2luZG93LmF1ZGlvUGx1Z2luID0gdW5kZWZpbmVkO1xuICAgICAgfSBjYXRjaCAoZXJyKXt9XG4gICAgfVxuXG4gICAgaWYgKHJmYikge1xuICAgICAgcmZiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjcmVkZW50aWFsc3JlcXVpcmVkXCIsIGNyZWRlbnRpYWxzUmVxdWlyZWQpO1xuICAgICAgcmZiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb25uZWN0XCIsIGNvbm5lY3QpO1xuICAgICAgcmZiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkaXNjb25uZWN0XCIsIGRpc2Nvbm5lY3QpO1xuICAgICAgcmZiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWN1cml0eWZhaWx1cmVcIiwgc2VjdXJpdHlGYWlsdXJlKTtcbiAgICAgIHJmYi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpcGJvYXJkXCIsIGNsaXBib2FyZCk7XG4gICAgICByZmIuZGlzY29ubmVjdCgpO1xuICAgIH1cblxuICAgIHZhciBjbnZzID0gY2FudmFzKCk7XG4gICAgdmFyIF9zY3JlZW4gPSBzY3JlZW4oKTtcblxuICAgIGNsZWFyVGltZXJzKCk7XG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB2aXNpYmlsaXR5Q2hhbmdlQ0IpO1xuICB9XG5cbiAgc3RhcnQoKTtcblxuICByZXR1cm4ge1xuICAgIFwiY2xvc2VcIjogY2xvc2UsXG4gICAgXCJkZXN0cm95X2NsaXBib2FyZFwiOiBkZXN0cm95X2NsaXBib2FyZCxcbiAgICBcImluaXRfY2xpcGJvYXJkXCI6IGluaXRfY2xpcGJvYXJkXG4gICB9XG59XG5cblxuXG4iXSwic291cmNlUm9vdCI6IiJ9